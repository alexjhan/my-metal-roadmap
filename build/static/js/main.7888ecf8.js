/*! For license information please see main.7888ecf8.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+j(l,0):i,x(a)?(o="",null!=e&&(o=e.replace(N,"$&/")+"/"),O(a,t,o,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+j(s=e[c],c);l+=O(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=O(s=s.value,t,o,u=i+j(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},R={transition:null},A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(829)),i=r(n(736));class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new o.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;n||r?(s=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(s="POST",c=t);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new i.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}}t.default=a},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(S);else{var t=r(u);null!==t&&A(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var i=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&A(x,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,_=null,C=-1,N=5,j=-1;function O(){return!(t.unstable_now()-j<N)}function P(){if(null!==_){var e=t.unstable_now();j=e;var n=!0;try{n=_(!0,e)}finally{n?k():(E=!1,_=null)}}else E=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,T=M.port2;M.port1.onmessage=P,k=function(){T.postMessage(null)}}else k=function(){v(P,0)};function R(e){_=e,E||(E=!0,k())}function A(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,A(x,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(630)),i=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=o.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,o;let a=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const o=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");o&&i&&i.length>1&&(l=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(o=null===a||void 0===a?void 0:a.details)||void 0===o?void 0:o.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},330:(e,t,n)=>{var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(286));class i extends o.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${s};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}t.default=i},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},443:(e,t,n)=>{e.exports=n(717)},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>a,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>o});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const o=r.fetch,i=r.fetch.bind(r),a=r.Headers,s=r.Request,l=r.Response},717:(e,t,n)=>{var r=n(43),o=n(461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var f=a(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},730:(e,t,n)=>{var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,z=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var $=!1;function B(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function H(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){G(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function _e(e){if(e=wo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function Oe(){}var Pe=!1;function Me(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return je(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ee)&&(Oe(),Ne())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Re=!1}function Ie(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,ze=null,Le=!1,$e=null,Be={onError:function(e){De=!0,ze=e}};function He(e,t,n,r,o,i,a,s,l){De=!1,ze=null,Ie.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ve(o),e;if(a===r)return Ve(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ze=o.unstable_requestPaint,Ge=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,Et,_t,Ct=!1,Nt=[],jt=null,Ot=null,Pt=null,Mt=new Map,Tt=new Map,Rt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function zt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Fe(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function $t(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==jt&&Lt(jt)&&(jt=null),null!==Ot&&Lt(Ot)&&(Ot=null),null!==Pt&&Lt(Pt)&&(Pt=null),Mt.forEach($t),Tt.forEach($t)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ht(t,e)}if(0<Nt.length){Ht(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Ht(jt,e),null!==Ot&&Ht(Ot,e),null!==Pt&&Ht(Pt,e),Mt.forEach(t),Tt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)zt(n),null===n.blockedOn&&Rt.shift()}var Ft=w.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var o=bt,i=Ft.transition;Ft.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,Ft.transition=i}}function qt(e,t,n,r){var o=bt,i=Ft.transition;Ft.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,Ft.transition=i}}function Yt(e,t,n,r){if(Vt){var o=Xt(e,t,n,r);if(null===o)Vr(e,t,r,Kt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return jt=Dt(jt,e,t,n,r,o),!0;case"dragenter":return Ot=Dt(Ot,e,t,n,r,o),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mt.set(i,Dt(Mt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Tt.set(i,Dt(Tt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<At.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Xt(e,t,n,r))&&Vr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=bo(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,o="value"in Gt?Gt.value:Gt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=z({},cn,{view:0,detail:0}),hn=on(dn),fn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(z({},fn,{dataTransfer:0})),gn=on(z({},dn,{relatedTarget:0})),vn=on(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(z({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return En}var Cn=z({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(Cn),jn=on(z({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=on(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=z({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=on(Mn),Rn=[9,13,27,32],An=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,zn=u&&(!An||In&&8<In&&11>=In),Ln=String.fromCharCode(32),$n=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Kn(e){Lr(e,0)}function Xn(e){if(Y(xo(e)))return e}function Zn(e,t){if("change"===e)return t}var Gn=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Gn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Yn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Wn(t,Yn,e,xe(e)),Me(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=_r("animationend"),Nr=_r("animationiteration"),jr=_r("animationstart"),Or=_r("transitionend"),Pr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Mr.length;Rr++){var Ar=Mr[Rr];Tr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(Nr,"onAnimationIteration"),Tr(jr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(He.apply(this,arguments),De){if(!De)throw Error(i(198));var u=ze;De=!1,ze=null,Le||(Le=!0,$e=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;zr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;zr(o,s,c),i=l}}}if(Le)throw e=$e,Le=!1,$e=null,e}function $r(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Hr]){e[Hr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Br("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(Zt(t)){case 1:var o=Wt;break;case 4:o=qt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Me(function(){var r=i,o=xe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Cr:case Nr:case jr:l=vn;break;case Or:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Te(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xo(l),f=null==c?s:xo(c),(s=new u(m,p+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,bo(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?xo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Vn(s))if(Gn)g=ar;else{g=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xo(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,o)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in(Gt=o)?Gt.value:Gt.textContent,Un=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:($n=!0,Ln);case"textInput":return(e=t.data)===Ln&&$n?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!An&&Bn(e,t)?(e=en(),Qt=Jt=Gt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Lr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Te(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Te(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Te(n,i))&&a.unshift(Wr(n,l,s)):o||null!=(l=Te(n,i))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[po]||null}var ko=[],Eo=-1;function _o(e){return{current:e}}function Co(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function No(e,t){Eo++,ko[Eo]=e.current,e.current=t}var jo={},Oo=_o(jo),Po=_o(!1),Mo=jo;function To(e,t){var n=e.type.contextTypes;if(!n)return jo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ao(){Co(Po),Co(Oo)}function Io(e,t,n){if(Oo.current!==jo)throw Error(i(168));No(Oo,t),No(Po,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,F(e)||"Unknown",o));return z({},n,r)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,Mo=Oo.current,No(Oo,e),No(Po,Po.current),!0}function Lo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Mo),r.__reactInternalMemoizedMergedChildContext=e,Co(Po),Co(Oo),No(Oo,e)):Co(Po),No(Po,n)}var $o=null,Bo=!1,Ho=!1;function Uo(e){null===$o?$o=[e]:$o.push(e)}function Fo(){if(!Ho&&null!==$o){Ho=!0;var e=0,t=bt;try{var n=$o;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$o=null,Bo=!1}catch(o){throw null!==$o&&($o=$o.slice(e+1)),Ye(Qe,Fo),o}finally{bt=t,Ho=!1}}return null}var Vo=[],Wo=0,qo=null,Yo=0,Ko=[],Xo=0,Zo=null,Go=1,Jo="";function Qo(e,t){Vo[Wo++]=Yo,Vo[Wo++]=qo,qo=e,Yo=t}function ei(e,t,n){Ko[Xo++]=Go,Ko[Xo++]=Jo,Ko[Xo++]=Zo,Zo=e;var r=Go;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Go=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Go=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Vo[--Wo],Vo[Wo]=null,Yo=Vo[--Wo],Vo[Wo]=null;for(;e===Zo;)Zo=Ko[--Xo],Ko[Xo]=null,Jo=Ko[--Xo],Ko[Xo]=null,Go=Ko[--Xo],Ko[Xo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zo?{id:Go,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=w.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case S:return(t=Lc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case T:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),ii&&Qo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Qo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Qo(o,m),c}function g(o,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Qo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return ii&&Qo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),ii&&Qo(o,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=vi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Ic(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Ac(a.type,a.key,a.props,null,r.mode,l)).ref=vi(r,i,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Lc(a,r.mode,l)).return=r,r=i}return s(r);case T:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(I(a))return g(r,i,a,l);yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=zc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var xi=wi(!0),Si=wi(!1),ki=_o(null),Ei=null,_i=null,Ci=null;function Ni(){Ci=_i=Ei=null}function ji(e){var t=ki.current;Co(ki),e._currentValue=t}function Oi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ei=e,Ci=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Mi(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===Ei)throw Error(i(308));_i=e,Ei.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Ti=null;function Ri(e){null===Ti?Ti=[e]:Ti.push(e)}function Ai(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ii(e,n)}return null===(o=r.interleaved)?(t.next=t,Ri(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ii(e,n)}function Hi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=z({},d,h);break e;case 2:Di=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Wi={},qi=_o(Wi),Yi=_o(Wi),Ki=_o(Wi);function Xi(e){if(e===Wi)throw Error(i(174));return e}function Zi(e,t){switch(No(Ki,t),No(Yi,e),No(qi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(qi),No(qi,t)}function Gi(){Co(qi),Co(Yi),Co(Ki)}function Ji(e){Xi(Ki.current);var t=Xi(qi.current),n=le(t,e.type);t!==n&&(No(Yi,e),No(qi,n))}function Qi(e){Yi.current===e&&(Co(qi),Co(Yi))}var ea=_o(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Qa:es,e=n(r,o),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Dl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,Da(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ma(9,Ca.bind(null,n,r,o,t),void 0,null),null===Ol)throw Error(i(349));0!==(30&aa)||_a(n,t,o)}return o}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Oa(e)}function Na(e,t,n){return n(function(){ja(t)&&Oa(e)})}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oa(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ta(){return ba().memoizedState}function Ra(e,t,n,r){var o=ya();sa.flags|=e,o.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function Aa(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Ma(t,n,i,r))}sa.flags|=e,o.memoizedState=Ma(1|t,n,i,r)}function Ia(e,t){return Ra(8390656,8,e,t)}function Da(e,t){return Aa(2048,8,e,t)}function za(e,t){return Aa(4,2,e,t)}function La(e,t){return Aa(4,4,e,t)}function $a(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4,4,$a.bind(null,t,e),n)}function Ha(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ba().memoizedState}function Ya(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Za(t,n);else if(null!==(n=Ai(e,t,n,r))){nc(n,e,r,ec()),Ga(n,t,r)}}function Ka(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Za(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ri(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ai(e,t,o,r))&&(nc(n,e,r,o=ec()),Ga(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ga(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Mi,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Qa={readContext:Mi,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Mi,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Pa,useDebugValue:Ha,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Wa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ya();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ol)throw Error(i(349));0!==(30&aa)||_a(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ia(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Ol.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Go&~(1<<32-at(Go)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Mi,useCallback:Ua,useContext:Mi,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:za,useLayoutEffect:La,useMemo:Fa,useReducer:xa,useRef:Ta,useState:function(){return xa(wa)},useDebugValue:Ha,useDeferredValue:function(e){return Va(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Mi,useCallback:Ua,useContext:Mi,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:za,useLayoutEffect:La,useMemo:Fa,useReducer:Sa,useRef:Ta,useState:function(){return Sa(wa)},useDebugValue:Ha,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Va(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=$i(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),Hi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=$i(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),Hi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=$i(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Bi(e,o,r))&&(nc(t,e,r,n),Hi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function as(e,t,n){var r=!1,o=jo,i=t.contextType;return"object"===typeof i&&null!==i?i=Mi(i):(o=Ro(t)?Mo:Oo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?To(e,o):jo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Mi(i):(i=Ro(t)?Mo:Oo.current,o.context=To(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=$i(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Wl=r),ds(0,t)},n}function ps(e,t,n){(n=$i(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$i(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Si(t,null,n,r):xi(t,e.child,n,r)}function xs(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=ga(e,t,n,r,i,o),n=va(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Vs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(Rl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,No(Rl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,No(Rl,Tl),Tl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,No(Rl,Tl),Tl|=r;return ws(e,t,o,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,o){var i=Ro(n)?Mo:Oo.current;return i=To(t,i),Pi(t,o),n=ga(e,t,n,r,i,o),r=va(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function Ns(e,t,n,r,o){if(Ro(n)){var i=!0;zo(t)}else i=!1;if(Pi(t,o),null===t.stateNode)Fs(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mi(c):c=To(t,c=Ro(n)?Mo:Oo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Di=!1;var h=t.memoizedState;a.state=h,Fi(t,r,a,o),l=t.memoizedState,s!==r||h!==l||Po.current||Di?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Di||is(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mi(l):l=To(t,l=Ro(n)?Mo:Oo.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Di=!1,h=t.memoizedState,a.state=h,Fi(t,r,a,o);var p=t.memoizedState;s!==d||h!==p||Po.current||Di?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Di||is(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,i,o)}function js(e,t,n,r,o,i){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Lo(t,n,!1),Vs(e,t,i);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Lo(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),Zi(e,t.containerInfo)}function Ps(e,t,n,r,o){return pi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var Ms,Ts,Rs,As,Is={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),No(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,o,0,null),e=Ic(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Is,e):Ls(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,$s(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(a=Ic(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Is,a);if(0===(1&t.mode))return $s(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,$s(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Ol)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ii(e,o),nc(r,e,o,-1))}return mc(),$s(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ko[Xo++]=Go,Ko[Xo++]=Jo,Ko[Xo++]=Zo,Go=e.id,Jo=e.overflow,Zo=t),t=Ls(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,o}return e=(s=e.child).sibling,o=Rc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ls(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oi(e.return,t,n)}function Hs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Us(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(No(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Hs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Hs(t,!0,n,null,i);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ro(t.type)&&Ao(),qs(t),null;case 3:return r=t.stateNode,Gi(),Co(Po),Co(Oo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Ts(e,t),qs(t),null;case 5:Qi(t);var o=Xi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Xi(qi.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[po]=a,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)$r(Ir[o],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Z(r,a),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$r("invalid",r);break;case"textarea":oe(r,a),$r("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":q(r),Q(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[po]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":$r("cancel",e),$r("close",e),o=r;break;case"iframe":case"object":case"embed":$r("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)$r(Ir[o],e);o=r;break;case"source":$r("error",e),o=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),o=r;break;case"details":$r("toggle",e),o=r;break;case"input":Z(e,r),o=X(e,r),$r("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=z({},r,{value:void 0}),$r("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),$r("invalid",e)}for(a in ye(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&$r("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)As(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Ki.current),Xi(qi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return qs(t),null;case 13:if(Co(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),pi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Al&&(Al=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Gi(),Ts(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return ji(t.type._context),qs(t),null;case 19:if(Co(ea),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return No(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ge()>Ul&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return qs(t),null}else 2*Ge()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,n=ea.current,No(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ni(t),t.tag){case 1:return Ro(t.type)&&Ao(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gi(),Co(Po),Co(Oo),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(Co(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(ea),null;case 4:return Gi(),null;case 10:return ji(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ts=function(){},Rs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(qi.current);var i,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"select":o=z({},o,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},As=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Zs=!1,Gs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Zs||Qs(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Zs&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gs),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Ec(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&G(o,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Hl=Ge())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,ml(t,e),Zs=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Qs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Qs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Xs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Xs;var c=Zs;if(Xs=a,(Zs=l)&&!c)for(Js=o;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Js=l):Sl(o);for(;null!==i;)Js=i,bl(i,t,n),i=i.sibling;Js=o,Xs=s,Zs=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Js=i):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&ol(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Ec(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Ec(t,i,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,El=Math.ceil,_l=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,jl=0,Ol=null,Pl=null,Ml=0,Tl=0,Rl=_o(0),Al=0,Il=null,Dl=0,zl=0,Ll=0,$l=null,Bl=null,Hl=0,Ul=1/0,Fl=null,Vl=!1,Wl=null,ql=null,Yl=!1,Kl=null,Xl=0,Zl=0,Gl=null,Jl=-1,Ql=0;function ec(){return 0!==(6&jl)?Ge():-1!==Jl?Jl:Jl=Ge()}function tc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Ml?Ml&-Ml:null!==gi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Gl=null,Error(i(185));vt(e,n,r),0!==(2&jl)&&e===Ol||(e===Ol&&(0===(2&jl)&&(zl|=n),4===Al&&sc(e,Ml)),rc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Ul=Ge()+500,Bo&&Fo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Ol?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),ao(function(){0===(6&jl)&&Fo()}),n=null;else{switch(wt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Ql=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=jl;jl|=2;var a=pc();for(Ol===e&&Ml===t||(Fl=null,Ul=Ge()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ni(),_l.current=a,jl=o,null!==Pl?t=0:(Ol=null,Ml=0,t=Al)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t)throw n=Il,hc(e,0),sc(e,r),rc(e,Ge()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t))throw n=Il,hc(e,0),sc(e,r),rc(e,Ge()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Bl,Fl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Hl+500-Ge())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Bl,Fl),t);break}xc(e,Bl,Fl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Bl,Fl),r);break}xc(e,Bl,Fl);break;default:throw Error(i(329))}}}return rc(e,Ge()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Ll,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&jl))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Ge()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Il,hc(e,0),sc(e,t),rc(e,Ge()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Fl),rc(e,Ge()),null}function cc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Ul=Ge()+500,Bo&&Fo())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&jl)&&Sc();var t=jl;jl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(jl=t))&&Fo()}}function dc(){Tl=Rl.current,Co(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ao();break;case 3:Gi(),Co(Po),Co(Oo),ra();break;case 5:Qi(r);break;case 4:Gi();break;case 13:case 19:Co(ea);break;case 10:ji(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=e,Pl=e=Rc(e.current,null),Ml=Tl=t,Al=0,Il=null,Ll=zl=Dl=0,Bl=$l=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ti=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Ni(),oa.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Al=1,Il=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Al&&(Al=2),null===$l?$l=[a]:$l.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ja,null===e?Ja:e}function mc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Ol||0===(268435455&Dl)&&0===(268435455&zl)||sc(Ol,Ml)}function gc(e,t){var n=jl;jl|=2;var r=pc();for(Ol===e&&Ml===t||(Fl=null,hc(e,t));;)try{vc();break}catch(o){fc(e,o)}if(Ni(),jl=n,_l.current=r,null!==Pl)throw Error(i(261));return Ol=null,Ml=0,Al}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Xe();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Tl)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function xc(e,t,n){var r=bt,o=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Kl);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Ol&&(Pl=Ol=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Oc(tt,function(){return Sc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=jl;jl|=4,Cl.current=null,function(e,t){if(eo=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(to),Vt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ze(),jl=l,bt=s,Nl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Xl=o),a=e.pendingLanes,0===a&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Gl?Zl++:(Zl=0,Gl=e):Zl=0,Fo()}(e,t,n,r)}finally{Nl.transition=o,bt=r}return null}function Sc(){if(null!==Kl){var e=wt(Xl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&jl))throw Error(i(331));var o=jl;for(jl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(il(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(jl=o,Fo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=Bi(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bi(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ml&n)===n&&(4===Al||3===Al&&(130023424&Ml)===Ml&&500>Ge()-Hl?hc(e,0):Ll|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ii(e,t))&&(vt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Oc(e,t){return Ye(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Pc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Tc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Ic(n.children,o,a,t);case E:s=8,o|=8;break;case _:return(e=Mc(12,n,t,2|o)).elementType=_,e.lanes=a,e;case O:return(e=Mc(13,n,t,o)).elementType=O,e.lanes=a,e;case P:return(e=Mc(19,n,t,o)).elementType=P,e.lanes=a,e;case R:return Dc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case j:s=11;break e;case M:s=14;break e;case T:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,i,a,s,l){return e=new $c(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Mc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zi(i),e}function Hc(e){if(!e)return jo;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Do(e,n,t)}return t}function Uc(e,t,n,r,o,i,a,s,l){return(e=Bc(n,r,!0,e,0,i,0,s,l)).context=Hc(null),n=e.current,(i=$i(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function Fc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=$i(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(o,t,a))&&(nc(e,o,a,i),Hi(e,o,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),pi();break;case 5:Ji(t);break;case 1:Ro(t.type)&&zo(t);break;case 4:Zi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;No(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(No(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(No(ea,1&ea.current),null!==(e=Vs(e,t,n))?e.sibling:null);No(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var o=To(t,Oo.current);Pi(t,n),o=ga(null,t,r,e,o,n);var a=va();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(a=!0,zo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,zi(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=js(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===M)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ns(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Os(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Li(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ps(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Vs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return zs(e,t,n);case 4:return Zi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,No(ki,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=Vs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=$i(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Oi(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Oi(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Mi(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ss(e,t,r,o=ns(r.type,o),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Fs(e,t),t.tag=1,Ro(r)?(e=!0,zo(t)):e=!1,Pi(t,n),as(t,r,o),ls(t,r,o,n),js(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Qc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Vc(a);s.call(e)}}Fc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Vc(a);i.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[mo]=a.current,Ur(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){Fc(t,l,n,r)}),l}(n,t,e,o,r);return Vc(a)}Xc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Fc(e,t,null,null)},Xc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Fc(null,e,null,null)}),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ge()),0===(6&jl)&&(Ul=Ge()+500,Fo()))}break;case 13:uc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));Y(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=cc,Oe=uc;var eu={usingClientEntryPoint:!1,Events:[wo,xo,So,Ce,Ne,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",o=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(i(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(i(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(374));class i extends o.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";"plain"===r?o="pl":"phrase"===r?o="ph":"websearch"===r&&(o="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:o}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const a=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer",`count=${t}`),new o.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer",`count=${e}`),new o.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const o=r(n(210));t.PostgrestClient=o.default;const i=r(n(829));t.PostgrestQueryBuilder=i.default;const a=r(n(736));t.PostgrestFilterBuilder=a.default;const s=r(n(374));t.PostgrestTransformBuilder=s.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:o.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),o=n(391),i=(n(358),"popstate");function a(){return f(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,s=o.history,l="POP",d=null,h=f();function f(){return(s.state||{idx:null}).idx}function m(){l="POP";let e=f(),t=null==e?null:e-h;h=e,d&&d({action:l,location:v.location,delta:t})}function g(e){return p(e)}null==h&&(h=0,s.replaceState({...s.state,idx:h},""));let v={get action(){return l},get location(){return e(o,s)},listen(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(i,m),d=e,()=>{o.removeEventListener(i,m),d=null}},createHref:e=>t(o,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=u(v.location,e,t);n&&n(r,e),h=f()+1;let i=c(r,h),p=v.createHref(r);try{s.pushState(i,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;o.location.assign(p)}a&&d&&d({action:l,location:v.location,delta:1})},replace:function(e,t){l="REPLACE";let r=u(v.location,e,t);n&&n(r,e),h=f();let o=c(r,h),i=v.createHref(r);s.replaceState(o,"",i),a&&d&&d({action:l,location:v.location,delta:0})},go:e=>s.go(e)};return v}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),s(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:d(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function m(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let o=M(("string"===typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let i=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=P(o);a=N(i[s],e,r)}return a}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of y(e.path))o(e,t,n);else o(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=y(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var b=/^:[\w-]+$/,w=3,x=2,S=1,k=10,E=-2,_=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=E),t&&(r+=x),n.filter(e=>!_(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?S:k),r)}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:D([i,u.pathname]),pathnameBase:z(D([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=D([i,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=O(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function O(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function T(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function A(e){let t=R(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function I(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},s(!r.pathname||!r.pathname.includes("?"),T("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),T("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),T("#","search","hash",r)));let i,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(r),hash:$(o)}}(r,i),u=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var H=["POST","PUT","PATCH","DELETE"],U=(new Set(H),["GET",...H]);new Set(U),Symbol("ResetLoaderData");var F=r.createContext(null);F.displayName="DataRouter";var V=r.createContext(null);V.displayName="DataRouterState";var W=r.createContext({isTransitioning:!1});W.displayName="ViewTransition";var q=r.createContext(new Map);q.displayName="Fetchers";var Y=r.createContext(null);Y.displayName="Await";var K=r.createContext(null);K.displayName="Navigation";var X=r.createContext(null);X.displayName="Location";var Z=r.createContext({outlet:null,matches:[],isDataRoute:!1});Z.displayName="Route";var G=r.createContext(null);G.displayName="RouteError";function J(){return null!=r.useContext(X)}function Q(){return s(J(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(X).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){r.useContext(K).static||r.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=r.useContext(Z);return e?function(){let{router:e}=de("useNavigate"),t=fe("useNavigate"),n=r.useRef(!1);te(()=>{n.current=!0});let o=r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,ee),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t]);return o}():function(){s(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(F),{basename:t,navigator:n}=r.useContext(K),{matches:o}=r.useContext(Z),{pathname:i}=Q(),a=JSON.stringify(A(o)),c=r.useRef(!1);te(()=>{c.current=!0});let u=r.useCallback(function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,ee),!c.current)return;if("number"===typeof r)return void n.go(r);let s=I(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:D([t,s.pathname])),(o.replace?n.replace:n.push)(s,o.state,o)},[t,n,a,i,e]);return u}()}r.createContext(null);function re(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(Z),{pathname:o}=Q(),i=JSON.stringify(A(n));return r.useMemo(()=>I(e,JSON.parse(i),o,"path"===t),[e,i,o,t])}function oe(e,t,n,o){s(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(K),{matches:a}=r.useContext(Z),c=a[a.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";ge(d,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,v=Q();if(t){let e="string"===typeof t?h(t):t;s("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=v;let y=g.pathname||"/",b=y;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=m(e,{pathname:b});l(p||null!=w,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=ce(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([f,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:D([f,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o);return t&&x?r.createElement(X.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function ie(){let e=pe(),t=B(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,s)}var ae=r.createElement(ie,null),se=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Z.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(F);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Z.Provider,{value:t},o)}function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=n?.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==i?.[e.route.id]);s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((e,s,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&s.route.id?i[s.route.id]:void 0,h=s.route.errorElement||ae,a&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=s.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(le,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let t=r.useContext(F);return s(t,ue(e)),t}function he(e){let t=r.useContext(V);return s(t,ue(e)),t}function fe(e){let t=function(e){let t=r.useContext(Z);return s(t,ue(e)),t}(e),n=t.matches[t.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pe(){let e=r.useContext(G),t=he("useRouteError"),n=fe("useRouteError");return void 0!==e?e:t.errors?.[n]}var me={};function ge(e,t,n){t||me[e]||(me[e]=!0,l(!1,n))}r.memo(function(e){let{routes:t,future:n,state:r}=e;return oe(t,void 0,r,n)});function ve(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:n=null,location:o,navigationType:i="POP",navigator:a,static:c=!1}=e;s(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);"string"===typeof o&&(o=h(o));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=o,y=r.useMemo(()=>{let e=M(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:i}},[u,f,p,m,g,v,i]);return l(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(K.Provider,{value:d},r.createElement(X.Provider,{children:n,value:y}))}function be(e){let{children:t,location:n}=e;return oe(we(t),n)}r.Component;function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,i));s(e.type===ve,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,i)),n.push(a)}),n}var xe="get",Se="application/x-www-form-urlencoded";function ke(e){return null!=e&&"string"===typeof e.tagName}var Ee=null;var _e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||_e.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null)}function Ne(e,t){let n,r,o,i,a;if(ke(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?M(a,t):null,n=e.getAttribute("method")||xe,o=Ce(e.getAttribute("enctype"))||Se,i=new FormData(e)}else if(function(e){return ke(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ke(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?M(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||xe,o=Ce(e.getAttribute("formenctype"))||Ce(a.getAttribute("enctype"))||Se,i=new FormData(a,e),!function(){if(null===Ee)try{new FormData(document.createElement("form"),0),Ee=!1}catch(e){Ee=!0}return Ee}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(ke(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xe,r=null,o=Se,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function je(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Oe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pe(e){return null!=e&&"string"===typeof e.page}function Me(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Te(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Re(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function Ae(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!Pe(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function Ie(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var De=new Set([100,101,204,205]);function ze(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===M(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function Le(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(B(t))return r.createElement($e,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement($e,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function $e(e){let{title:t,renderScripts:n,isOutsideRemixApp:o,children:i}=e,{routeModules:a}=Ve();return a.root?.Layout&&!o?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?r.createElement(Ge,null):null)))}function Be(e,t){return"lazy"===e.mode&&!0===t}function He(){let e=r.useContext(F);return je(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ue(){let e=r.useContext(V);return je(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fe=r.createContext(void 0);function Ve(){let e=r.useContext(Fe);return je(e,"You must render this element inside a <HydratedRouter> element"),e}function We(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qe(e,t,n){if(n&&!Ze)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function Ye(e){let{page:t,...n}=e,{router:o}=He(),i=r.useMemo(()=>m(o.routes,t,o.basename),[o.routes,t,o.basename]);return i?r.createElement(Xe,{page:t,matches:i,...n}):null}function Ke(e){let{manifest:t,routeModules:n}=Ve(),[o,i]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Ae((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Oe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Me).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),o}function Xe(e){let{page:t,matches:n,...o}=e,i=Q(),{manifest:a,routeModules:s}=Ve(),{basename:l}=He(),{loaderData:c,matches:u}=Ue(),d=r.useMemo(()=>Te(t,n,u,a,i,"data"),[t,n,u,a,i]),h=r.useMemo(()=>Te(t,n,u,a,i,"assets"),[t,n,u,a,i]),f=r.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!d.some(e=>e.route.id===t.route.id)&&t.route.id in c&&s[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let o=ze(t,l);return r&&e.size>0&&o.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[l,c,i,a,d,n,t,s]),p=r.useMemo(()=>Re(h,a),[h,a]),m=Ke(h);return r.createElement(r.Fragment,null,f.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...o})),p.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...o})),m.map(e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})}))}Fe.displayName="FrameworkContext";var Ze=!1;function Ge(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:i,routeDiscovery:a,ssr:s}=Ve(),{router:l,static:c,staticContext:u}=He(),{matches:d}=Ue(),h=Be(a,s);i&&(i.didRenderScripts=!0);let f=qe(d,null,o);r.useEffect(()=>{Ze=!0},[]);let p=r.useMemo(()=>{let o=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=c?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(t.url)}`};\n${f.map((e,n)=>{let r=`route${n}`,o=t.routes[e.route.id];je(o,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,o=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let s=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:s,sri:!!n||void 0}}(t,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(o),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(i),type:"module",async:!0}))},[]),g=Ze?[]:function(e){return[...new Set(e)]}(t.entry.imports.concat(Re(f,t,{includeHydrateFallback:!0}))),v="object"===typeof t.sri?t.sri:{};return Ze?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,h?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),g.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0})),p)}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qe&&(window.__reactRouterVersion="7.6.3")}catch(Av){}function et(e){let{basename:t,children:n,window:o}=e,i=r.useRef();null==i.current&&(i.current=a({window:o,v5Compat:!0}));let s=i.current,[l,c]=r.useState({action:s.action,location:s.location}),u=r.useCallback(e=>{r.startTransition(()=>c(e))},[c]);return r.useLayoutEffect(()=>s.listen(u),[s,u]),r.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s})}var tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=r.forwardRef(function(e,t){let n,{onClick:o,discover:i="render",prefetch:a="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:b}=r.useContext(K),w="string"===typeof m&&tt.test(m),x=!1;if("string"===typeof m&&w&&(n=m,Qe))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=M(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(Av){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(K),{hash:i,pathname:a,search:l}=re(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:D([n,a])),o.createHref({pathname:c,search:l,hash:i})}(m,{relative:c}),[k,E,_]=function(e,t){let n=r.useContext(Fe),[o,i]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:We(l,p),onBlur:We(c,m),onMouseEnter:We(u,p),onMouseLeave:We(d,m),onTouchStart:We(h,p)}]:[!1,f,{}]}(a,y),C=function(e){let{target:t,replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ne(),c=Q(),u=re(e,{relative:a});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(c)===d(u);l(e,{replace:t,state:o,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,u,n,o,t,e,i,a,s])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:v});let N=r.createElement("a",{...y,..._,href:n||S,onClick:x||u?o:function(e){o&&o(e),e.defaultPrevented||C(e)},ref:Je(t,E),target:p,"data-discover":w||"render"!==i?void 0:"true"});return k&&!w?r.createElement(r.Fragment,null,N,r.createElement(Ye,{page:S})):N});nt.displayName="Link";var rt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=re(c,{relative:h.relative}),p=Q(),m=r.useContext(V),{navigator:g,basename:v}=r.useContext(K),y=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(W);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=at("useViewTransitionState"),i=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=M(n.currentLocation.pathname,o)||n.currentLocation.pathname,l=M(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=j(i.pathname,l)||null!=j(i.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=M(x,v)||x);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,E=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(S),_=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),C={isActive:E,isPending:_,isTransitioning:y},N=E?n:void 0;k="function"===typeof i?i(C):[i,E?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof l?l(C):l;return r.createElement(nt,{...h,"aria-current":N,className:k,ref:t,style:O,to:c,viewTransition:u},"function"===typeof d?d(C):d)});rt.displayName="NavLink";var ot=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:i,reloadDocument:a,replace:l,state:c,method:u=xe,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=ct(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(K),o=r.useContext(Z);s(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a={...re(e||".",{relative:t})},l=Q();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:D([n,a.pathname]));return d(a)}(h,{relative:p}),w="get"===u.toLowerCase()?"get":"post",x="string"===typeof h&&tt.test(h);return r.createElement("form",{ref:t,method:w,action:b,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;y(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":x||"render"!==n?void 0:"true"})});function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(e){let t=r.useContext(F);return s(t,it(e)),t}ot.displayName="Form";var st=0,lt=()=>`__${String(++st)}__`;function ct(){let{router:e}=at("useSubmit"),{basename:t}=r.useContext(K),n=fe("useRouteId");return r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=Ne(r,t);if(!1===o.navigate){let t=o.fetcherKey||lt();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}class ut extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class dt extends ut{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ht extends ut{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ft extends ut{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(pt||(pt={}));var mt=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class gt{constructor(e){let{headers:t={},customFetch:r,region:o=pt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return mt(this,void 0,void 0,function*(){try{const{headers:r,method:o,body:i}=t;let a={},{region:s}=t;s||(s=this.region);const l=new URL(`${this.url}/${e}`);let c;s&&"any"!==s&&(a["x-region"]=s,l.searchParams.set("forceFunctionRegion",s)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):"string"===typeof i?(a["Content-Type"]="text/plain",c=i):"undefined"!==typeof FormData&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(e=>{throw new dt(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new ht(u);if(!u.ok)throw new ft(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof ft||r instanceof ht?r.context:void 0}}})}}var vt=n(980);const{PostgrestClient:yt,PostgrestQueryBuilder:bt,PostgrestFilterBuilder:wt,PostgrestTransformBuilder:xt,PostgrestBuilder:St,PostgrestError:kt}=vt;const Et=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var _t,Ct,Nt,jt,Ot,Pt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(_t||(_t={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ct||(Ct={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Nt||(Nt={})),function(e){e.websocket="websocket"}(jt||(jt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Ot||(Ot={}));class Mt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+o));i+=o;return{ref:null,topic:a,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class Tt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Pt||(Pt={}));const Rt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,o)=>(n[o]=At(o,e,t,r),n),{})},At=(e,t,n,r)=>{const o=t.find(t=>t.name===e),i=null===o||void 0===o?void 0:o.type,a=n[e];return i&&!r.includes(i)?It(i,a):Dt(a)},It=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Bt(t,n)}switch(e){case Pt.bool:return zt(t);case Pt.float4:case Pt.float8:case Pt.int2:case Pt.int4:case Pt.int8:case Pt.numeric:case Pt.oid:return Lt(t);case Pt.json:case Pt.jsonb:return $t(t);case Pt.timestamp:return Ht(t);case Pt.abstime:case Pt.date:case Pt.daterange:case Pt.int4range:case Pt.int8range:case Pt.money:case Pt.reltime:case Pt.text:case Pt.time:case Pt.timestamptz:case Pt.timetz:case Pt.tsrange:case Pt.tstzrange:default:return Dt(t)}},Dt=e=>e,zt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$t=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Bt=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(o){r=i?i.split(","):[]}return r.map(e=>It(t,e))}return e},Ht=e=>"string"===typeof e?e.replace(" ","T"):e,Ut=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ft{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vt,Wt,qt,Yt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Vt||(Vt={}));class Kt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Kt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Kt.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const o=this.cloneDeep(e),i=this.transformState(t),a={},s={};return this.map(o,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=o[e];if(n){const r=t.map(e=>e.presence_ref),o=n.map(e=>e.presence_ref),i=t.filter(e=>o.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(a[e]=i),l.length>0&&(s[e]=l)}else a[e]=t}),this.syncDiff(o,{joins:a,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,(t,r)=>{var o;const i=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let o=e[t];if(!o)return;const i=n.map(e=>e.presence_ref);o=o.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=o,r(t,o,n),0===o.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Wt||(Wt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(qt||(qt={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Yt||(Yt={}));class Xt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ft(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new Tt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Kt(this),this.broadcastEndpointURL=Ut(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(Yt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Yt.CLOSED));const s={},l={broadcast:o,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:a};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,o=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<o;r++){const o=t[r],{filter:{event:a,schema:s,table:l,filter:c}}=o,u=n&&n[r];if(!u||u.event!==a||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Ct.errored,void(null===e||void 0===e||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},o),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(Yt.SUBSCRIBED))}null===e||void 0===e||e(Yt.SUBSCRIBED)}).receive("error",t=>{this.state=Ct.errored,null===e||void 0===e||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,o,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(o=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===o?void 0:o.broadcast)||void 0===i?void 0:i.ack)||n("ok"),a.receive("ok",()=>n("ok")),a.receive("error",()=>n("error")),a.receive("timeout",()=>n("timed out"))});{const{event:i,payload:a}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ct.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Ft(this,Nt.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,o=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ft(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:s,leave:l,join:c}=Nt;if(n&&[a,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(o=this.bindings[i])||void 0===o||o.filter(e=>{var n,r,o,a,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===a||(null===a||void 0===a?void 0:a.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const n=null===(s=null===(a=null===e||void 0===e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:o,errors:i}=e,a={schema:t,table:n,commit_timestamp:r,eventType:o,new:{},old:{},errors:i};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Xt.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nt.close,{},e)}_onError(e){this._on(Nt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Rt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Rt(e.columns,e.old_record)),t}}const Zt=()=>{};class Gt{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zt,this.ref=0,this.logger=Zt,this.conn=null,this.sendBuffer=[],this.serializer=new Mt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${jt.websocket}`,this.httpEndpoint=Ut(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tt(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Et),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _t.connecting:return Ot.Connecting;case _t.open:return Ot.Open;case _t.closing:return Ot.Closing;default:return Ot.Closed}}isConnected(){return this.connectionState()===Ot.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new Xt(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:o}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:"realtime-js/2.11.15"};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Nt.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:o}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${o&&"("+o+")"||""}`,r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,o)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Jt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class en extends Jt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class tn extends Jt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var nn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const rn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},on=e=>{if(Array.isArray(e))return e.map(e=>on(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const o=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[o]=on(r)}),t};var an=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const sn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ln=(e,t,r)=>an(void 0,void 0,void 0,function*(){const o=yield nn(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof o&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{t(new en(sn(n),e.status||500))}).catch(e=>{t(new tn(sn(e),e))}):t(new tn(sn(e),e))});function cn(e,t,n,r,o,i){return an(this,void 0,void 0,function*(){return new Promise((a,s)=>{e(n,((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))})(t,r,o,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>ln(e,s,r))})})}function un(e,t,n,r){return an(this,void 0,void 0,function*(){return cn(e,"GET",t,n,r)})}function dn(e,t,n,r,o){return an(this,void 0,void 0,function*(){return cn(e,"POST",t,r,o,n)})}function hn(e,t,n,r,o){return an(this,void 0,void 0,function*(){return cn(e,"DELETE",t,r,o,n)})}var fn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const pn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=rn(r)}uploadOrUpdate(e,t,n,r){return fn(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},mn),r);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),s&&o.append("metadata",this.encodeMetadata(s)),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),s&&o.append("metadata",this.encodeMetadata(s))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,s&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===r||void 0===r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:a},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(o){if(Qt(o))return{data:null,error:o};throw o}})}upload(e,t,n){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return fn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:mn.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const s=yield this.fetch(a.toString(),{method:"PUT",body:e,headers:i}),l=yield s.json();if(s.ok)return{data:{path:o,fullPath:l.Key},error:null};return{data:null,error:l}}catch(s){if(Qt(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return fn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const o=yield dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Jt("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}update(e,t,n){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return fn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}})}copy(e,t,n){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield dn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return fn(this,void 0,void 0,function*(){try{const r=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${o}`):null})),error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}})}download(e,t){return fn(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),o=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield un(this.fetch,`${this.url}/${n}/${t}${o}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Qt(i))return{data:null,error:i};throw i}})}info(e){return fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield un(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:on(e),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}exists(e){return fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return an(this,void 0,void 0,function*(){return cn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Qt(n)&&n instanceof tn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],o=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==o&&r.push(o);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==a&&r.push(a);let s=r.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${s}`)}}}remove(e){return fn(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Qt(t))return{data:null,error:t};throw t}})}list(e,t,n){return fn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},pn),t),{prefix:e||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const vn={"X-Client-Info":"storage-js/2.7.1"};var yn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},vn),t),this.fetch=rn(n)}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Qt(e))return{data:null,error:e};throw e}})}getBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Qt(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return yn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return yn(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,o){return an(this,void 0,void 0,function*(){return cn(e,"PUT",t,r,o,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Qt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Qt(t))return{data:null,error:t};throw t}})}}class wn extends bn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new gn(this.url,this.headers,e,this.fetch)}}let xn="";xn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Sn={headers:{"X-Client-Info":`supabase-js-${xn}/2.50.4`}},kn={schema:"public"},En={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_n={};var Cn=n(630),Nn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const jn=e=>{let t;return t=e||("undefined"===typeof fetch?Cn.default:fetch),function(){return t(...arguments)}},On=(e,t,n)=>{const r=jn(n),o="undefined"===typeof Headers?Cn.Headers:Headers;return(n,i)=>Nn(void 0,void 0,void 0,function*(){var a;const s=null!==(a=yield t())&&void 0!==a?a:e;let l=new o(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${s}`),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var Pn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const Mn="2.70.0",Tn=3e4,Rn=9e4,An={"X-Client-Info":`gotrue-js/${Mn}`},In="X-Supabase-Api-Version",Dn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},zn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ln extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function $n(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Bn extends Ln{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Hn extends Ln{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Un extends Ln{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Fn extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Vn extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wn extends Un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qn extends Un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yn extends Un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kn extends Un{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Xn(e){return $n(e)&&"AuthRetryableFetchError"===e.name}class Zn extends Un{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Gn extends Un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qn=" \t\n\r=".split(""),er=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qn.length;t+=1)e[Qn[t].charCodeAt(0)]=-2;for(let t=0;t<Jn.length;t+=1)e[Jn[t].charCodeAt(0)]=t;return e})();function tr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Jn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Jn[e]),t.queuedBits-=6}}function nr(e,t,n){const r=er[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function rr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let a=0;a<e.length;a+=1)nr(e.charCodeAt(a),o,i);return t.join("")}function or(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function ir(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}or(r,t)}}function ar(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)nr(e.charCodeAt(o),n,r);return new Uint8Array(t)}function sr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>tr(e,n,r)),tr(null,n,r),t.join("")}const lr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,cr={tested:!1,writable:!1},ur=()=>{if(!lr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Av){return!1}if(cr.tested)return cr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cr.tested=!0,cr.writable=!0}catch(Av){cr.tested=!0,cr.writable=!1}return cr.writable};const dr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},hr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},pr=async(e,t)=>{await e.removeItem(t)};class mr{constructor(){this.promise=new mr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function gr(e){const t=e.split(".");if(3!==t.length)throw new Gn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zn.test(t[n]))throw new Gn("JWT not in base64url format");return{header:JSON.parse(rr(t[0])),payload:JSON.parse(rr(t[1])),signature:ar(t[2]),raw:{header:t[0],payload:t[1]}}}function vr(e){return("0"+e.toString(16)).substr(-2)}async function yr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,vr).join("")}();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await hr(e,`${t}-code-verifier`,o);const i=await yr(r);return[i,r===i?"plain":"s256"]}mr.promiseConstructor=Promise;const wr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const xr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(e){if(!xr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var kr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_r=[502,503,504];async function Cr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Kn(Er(e),0);if(_r.includes(e.status))throw new Kn(Er(e),e.status);let r,o;try{r=await e.json()}catch(Av){throw new Hn(Er(Av),Av)}const i=function(e){const t=e.headers.get(In);if(!t)return null;if(!t.match(wr))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Av){return null}}(e);if(i&&i.getTime()>=Dn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?o=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(o=r.error_code),o){if("weak_password"===o)throw new Zn(Er(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new Fn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Zn(Er(r),e.status,r.weak_password.reasons);throw new Bn(Er(r),e.status||500,o)}async function Nr(e,t,n,r){var o;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[In]||(i[In]=Dn.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const a=null!==(o=null===r||void 0===r?void 0:r.query)&&void 0!==o?o:{};(null===r||void 0===r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,n,r,o,i){const a=((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))})(t,r,o,i);let s;try{s=await e(n,Object.assign({},a))}catch(Av){throw console.error(Av),new Kn(Er(Av),0)}s.ok||await Cr(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(Av){await Cr(Av)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function jr(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Or(e){const t=jr(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Pr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Mr(e){return{data:e,error:null}}function Tr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,a=kr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},a)},error:null}}function Rr(e){return e}const Ar=["global","local","others"];var Ir=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class Dr{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=dr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar[0];if(Ar.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ar.join(", ")}`);try{return await Nr(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pr})}catch(n){if($n(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Ir(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Tr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if($n(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Nr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pr})}catch(t){if($n(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,o,i,a,s;try{const l={nextPage:null,lastPage:0,total:0},c=await Nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:Rr});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if($n(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Sr(e);try{return await Nr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pr})}catch(t){if($n(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Sr(e);try{return await Nr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Pr})}catch(n){if($n(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Sr(e);try{return await Nr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pr})}catch(n){if($n(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Sr(e.userId);try{const{data:t,error:n}=await Nr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if($n(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Sr(e.userId),Sr(e.id);try{return{data:await Nr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}}}const zr={getItem:e=>ur()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ur()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ur()&&globalThis.localStorage.removeItem(e)}};function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const $r=!!(globalThis&&ur()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Br extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hr extends Br{}async function Ur(e,t,n){$r&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$r&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw $r&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hr(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($r)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Av){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Av)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}$r&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{$r&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Av){"undefined"!==typeof self&&(self.globalThis=self)}}();const Fr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:An,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vr(e,t,n){return await n()}class Wr{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wr.nextInstanceID,Wr.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Fr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Dr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=dr(r.fetch),this.lock=r.lock||Vr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:lr()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ur:this.lock=Vr,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:ur()?this.storage=zr:(this.memoryStorage={},this.storage=Lr(this.memoryStorage)):(this.memoryStorage={},this.storage=Lr(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Av){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Av)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Mn}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Av){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),lr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return $n(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $n(t)?{error:t}:{error:new Hn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const o=await Nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:jr}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if($n(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,r;try{let o;if("email"in e){const{email:n,password:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await br(this.storage,this.storageKey)),o=await Nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},xform:jr})}else{if(!("phone"in e))throw new Wn("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;o=await Nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null===a||void 0===a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:jr})}}const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if($n(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:o}=e;t=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Or})}else{if(!("phone"in e))throw new Wn("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:o}=e;t=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Or})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Vn}}catch(t){if($n(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,o,i,a,s,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(lr())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${y.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:sr(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:jr});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Vn}}catch(m){if($n(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await fr(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:o}=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jr});if(await pr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new Vn}}catch(o){if($n(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:o,nonce:i}=e,a=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:jr}),{data:s,error:l}=a;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new Vn}}catch(t){if($n(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,o,i;try{if("email"in e){const{email:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await br(this.storage,this.storageKey));const{error:s}=await Nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(n=null===o||void 0===o?void 0:o.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:s}=await Nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(o=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:s}}throw new Wn("You must provide either an email or phone number.")}catch(a){if($n(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let r,o;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:a}=await Nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:jr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if($n(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let o=null,i=null;return"pkce"===this.flowType&&([o,i]=await br(this.storage,this.storageKey)),await Nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Mr})}catch(o){if($n(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Fn;const{error:r}=await Nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if($n(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:o}=e,{error:i}=await Nr(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:o}=e,{data:i,error:a}=await Nr(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:a}}throw new Wn("You must provide either an email or phone number and a type")}catch(t){if($n(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Av){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Av){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Rn;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pr}):await this._useSession(async e=>{var t,n,r;const{data:o,error:i}=e;if(i)throw i;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Pr}):{data:{user:null},error:new Fn}})}catch(t){if($n(t))return function(e){return $n(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new Fn;const i=r.session;let a=null,s=null;"pkce"===this.flowType&&null!=e.email&&([a,s]=await br(this.storage,this.storageKey));const{data:l,error:c}=await Nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:s}),jwt:i.access_token,xform:Pr});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if($n(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fn;const t=Date.now()/1e3;let n=t,r=!0,o=null;const{payload:i}=gr(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;o={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if($n(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:o}=t;if(o)throw o;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Fn;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if($n(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!lr())throw new qn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Yn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new qn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yn("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:s,token_type:l}=e;if(!o||!a||!i||!l)throw new qn("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(o);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if($n(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fr(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{error:o};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return $n(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:o}=t;if(o)throw o;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(o){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await br(this.storage,this.storageKey,!0));try{return await Nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if($n(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,o,i,a;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await Nr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return lr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if($n(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:o,error:i}=t;if(i)throw i;return await Nr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if($n(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const o=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jr})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Xn(t)&&Date.now()+n-o<Tn},new Promise((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await n(o);if(!r(o,null,t))return void e(t)}catch(Av){if(!r(o,Av))return void t(Av)}})()}))}catch(o){if(this._debug(t,"error",o),$n(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),lr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await fr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Rn;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),Xn(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new mr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Fn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(o){if(this._debug(r,"error",o),$n(o)){const e={session:null,error:o};return Xn(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Av){r.push(Av)}});if(await Promise.all(o),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hr(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Av){console.error("removing visibilitychange callback failed",Av)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Av){console.error("Auto refresh tick failed with error. This is likely a transient error.",Av)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Av){if(!(Av.isAcquireTimeout||Av instanceof Br))throw Av;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await br(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await Nr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if($n(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:o,error:i}=t;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await Nr(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(t){if($n(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:a}=await Nr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(t){if($n(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await Nr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if($n(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),o=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gr(r.access_token);let a=null;i.aal&&(a=i.aal);let s=a;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await Nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new Gn("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find(t=>t.kid===e),!t)throw new Gn("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:s}}=gr(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:o,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,i,function(e){const t=[];return ir(e,e=>t.push(e)),new Uint8Array(t)}(`${a}.${s}`)))throw new Gn("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}}}Wr.nextInstanceID=0;const qr=Wr;class Yr extends qr{constructor(e){super(e)}}var Kr=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Av){i(Av)}}function s(e){try{l(r.throw(e))}catch(Av){i(Av)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Xr{constructor(e,t,n){var r,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:o,auth:i,realtime:a,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>Pn(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:kn,realtime:_n,auth:Object.assign(Object.assign({},En),{storageKey:c}),global:Sn});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(o=u.global.headers)&&void 0!==o?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=On(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new yt(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new gt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wn(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Kr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:a,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yr({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:a,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Gt(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Zr=((e,t,n)=>new Xr(e,t,n))("https://kvpglsgrrkomoatxzrdz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2cGdsc2dycmtvbW9hdHh6cmR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxMjIxNzksImV4cCI6MjA2NzY5ODE3OX0.uHkTppz6rYVoZw71rx-pxQ80h6jM53SXxbkoAW1DxWQ"),Gr={async createRoadmap(e,t){const{data:n,error:r}=await Zr.from("roadmaps").insert({user_id:e,title:t.title,description:t.description,emoji:t.emoji,is_public:!1}).select().single();if(r)throw r;return n},async getUserRoadmaps(e){const{data:t,error:n}=await Zr.from("roadmaps").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return t},async getPublicRoadmap(e){const{data:t,error:n}=await Zr.from("roadmaps").select("\n        *,\n        nodes (\n          *,\n          resources (*)\n        )\n      ").eq("id",e).eq("is_public",!0).single();if(n)throw n;return t},async createNode(e,t){const{data:n,error:r}=await Zr.from("nodes").insert({roadmap_id:e,label:t.label,description:t.description,icon:t.icon,position_x:t.position_x||0,position_y:t.position_y||0}).select().single();if(r)throw r;return n}};var Jr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qr=r.createContext&&r.createContext(Jr),eo=["attr","size","title"];function to(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(this,arguments)}function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach(function(t){io(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function io(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ao(e){return e&&e.map((e,t)=>r.createElement(e.tag,oo({key:t},e.attr),ao(e.child)))}function so(e){return t=>r.createElement(lo,no({attr:oo({},e.attr)},t),ao(e.child))}function lo(e){var t=t=>{var n,{attr:o,size:i,title:a}=e,s=to(e,eo),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",no({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,s,{className:n,style:oo(oo({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==Qr?r.createElement(Qr.Consumer,null,e=>t(e)):t(Jr)}function co(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function uo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function ho(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function fo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function po(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function mo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function go(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function vo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function yo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function bo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function wo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function xo(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function So(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function ko(e){return so({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}var Eo=n(579);const _o=(0,r.createContext)();function Co(e){let{children:t}=e;const[n,o]=(0,r.useState)(null),[i,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{Zr.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;o(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null),a(!1)});const{data:{subscription:e}}=Zr.auth.onAuthStateChange((e,t)=>{var n;o(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null)});return()=>e.unsubscribe()},[]),(0,Eo.jsx)(_o.Provider,{value:{user:n,setUser:o,loading:i},children:t})}function No(){return(0,r.useContext)(_o)}function jo(){const[e,t]=(0,r.useState)(!1),{user:n}=No(),o=async()=>{const{error:e}=await Zr.auth.signOut();e&&alert(e.message)};var i,a,s,l;return n?(0,Eo.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Eo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Eo.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Eo.jsx)("span",{className:"text-white text-sm font-medium",children:(null===(i=n.user_metadata)||void 0===i||null===(a=i.name)||void 0===a?void 0:a.charAt(0))||(null===(s=n.email)||void 0===s?void 0:s.charAt(0))})}),(0,Eo.jsx)("span",{className:"text-sm text-gray-700 hidden sm:block",children:(null===(l=n.user_metadata)||void 0===l?void 0:l.name)||n.email})]}),(0,Eo.jsxs)("button",{onClick:o,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[(0,Eo.jsx)(po,{className:"mr-1"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:"Cerrar sesi\xf3n"})]})]}):(0,Eo.jsxs)(Eo.Fragment,{children:[(0,Eo.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-1 text-gray-900 text-center",children:"Iniciar sesi\xf3n"}),(0,Eo.jsx)("p",{className:"text-gray-500 text-sm mb-6 text-center",children:"Inicia sesi\xf3n con tu cuenta de Google"}),(0,Eo.jsxs)("button",{onClick:async()=>{t(!0);try{const{error:e}=await Zr.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(e)throw e}catch(e){alert(e.message)}finally{t(!1)}},disabled:e,className:"flex items-center justify-center w-full mb-4 px-6 py-3 text-base bg-white border border-gray-300 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed font-medium text-gray-700",children:[(0,Eo.jsx)("span",{className:"flex items-center mr-3",children:(0,Eo.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",style:{display:"block"},children:[(0,Eo.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),(0,Eo.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),(0,Eo.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),(0,Eo.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),(0,Eo.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),e?"Cargando...":"Continuar con Google"]}),(0,Eo.jsxs)("p",{className:"text-xs text-gray-400 mt-4 text-center",children:["Al continuar, aceptas nuestros ",(0,Eo.jsx)("a",{href:"/privacidad",className:"underline hover:text-blue-600",children:"T\xe9rminos de Servicio"})," y ",(0,Eo.jsx)("a",{href:"/privacidad",className:"underline hover:text-blue-600",children:"Pol\xedtica de Privacidad"}),"."]})]})}function Oo(){const{user:e}=No(),[t,n]=(0,r.useState)(!1);if(!e)return null;const o=()=>{var t,n;if(null!==(t=e.user_metadata)&&void 0!==t&&t.picture)return e.user_metadata.picture;if(null!==(n=e.user_metadata)&&void 0!==n&&n.avatar_url)return e.user_metadata.avatar_url;const r=e.email;return`https://www.gravatar.com/avatar/${btoa(r.trim().toLowerCase())}?d=mp&s=200`},i=()=>{var t,n,r;return(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||(null===(n=e.user_metadata)||void 0===n?void 0:n.name)||(null===(r=e.email)||void 0===r?void 0:r.split("@")[0])||"Usuario"};return(0,Eo.jsxs)("div",{className:"relative",children:[(0,Eo.jsxs)("button",{onClick:()=>n(!t),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Eo.jsx)("img",{src:o(),alt:"Perfil",className:"w-8 h-8 rounded-full object-cover border-2 border-blue-500"}),(0,Eo.jsx)("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:i()}),(0,Eo.jsx)(uo,{className:"w-4 h-4 text-gray-500 transition-transform "+(t?"rotate-180":"")})]}),t&&(0,Eo.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Eo.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,Eo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Eo.jsx)("img",{src:o(),alt:"Perfil",className:"w-10 h-10 rounded-full object-cover border-2 border-blue-500"}),(0,Eo.jsxs)("div",{children:[(0,Eo.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:i()}),(0,Eo.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]})}),(0,Eo.jsxs)("div",{className:"py-1",children:[(0,Eo.jsxs)("button",{onClick:()=>{n(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,Eo.jsx)(ko,{className:"mr-3 w-4 h-4"}),"Mi Perfil"]}),(0,Eo.jsxs)("button",{onClick:()=>{n(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,Eo.jsx)(bo,{className:"mr-3 w-4 h-4"}),"Configuraci\xf3n"]}),(0,Eo.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Eo.jsxs)("button",{onClick:async()=>{try{const{error:e}=await Zr.auth.signOut();if(e)throw e;n(!1)}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,Eo.jsx)(po,{className:"mr-3 w-4 h-4"}),"Cerrar Sesi\xf3n"]})]})]}),t&&(0,Eo.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})}function Po(){Q();const e=ne(),{user:t,loading:n}=No(),[o,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1);return n?null:(0,Eo.jsxs)("nav",{className:"w-full bg-white z-[1000]",children:[(0,Eo.jsxs)("div",{className:"flex justify-between items-center w-full py-4 sm:py-6 px-4 sm:px-6",children:[(0,Eo.jsxs)(nt,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity min-h-[4rem]",children:[(0,Eo.jsx)("img",{src:"/assets/logo.png",alt:"MetalRoadmap",className:"transition duration-500 cursor-pointer",style:{height:"4rem",width:"auto",objectFit:"contain",padding:"0.3rem"},onClick:()=>{e("/"),window.location.reload()}}),(0,Eo.jsx)("h1",{className:"hidden sm:block text-4xl font-bold transition-all duration-500 cursor-pointer",style:{fontFamily:"'Great Vibes', cursive",fontSize:"1.5rem",lineHeight:"2rem",color:"#001f3f",padding:"0.3rem"},onClick:()=>{e("/"),window.location.reload()},children:"San Antonio Abad"})]}),(0,Eo.jsx)("div",{className:"hidden md:block",children:(0,Eo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Eo.jsx)("span",{className:"text-2xl filter grayscale",children:"\ud83e\udd16"}),(0,Eo.jsx)("span",{className:"text-gray-500 text-sm font-medium underline",children:"IA Tutor Pronto"})]})}),t&&(0,Eo.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,Eo.jsx)(nt,{to:"/my-roadmaps",className:"text-xs sm:text-sm text-gray-700 hover:text-blue-600 transition-colors whitespace-nowrap",children:"Mis Roadmaps"}),(0,Eo.jsxs)("button",{onClick:()=>s(!0),className:"inline-flex items-center px-3 sm:px-5 py-2 bg-white text-gray-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-xs sm:text-sm font-medium whitespace-nowrap",style:{minWidth:"120px",justifyContent:"center"},children:[(0,Eo.jsx)("span",{className:"mr-1 sm:mr-2",children:"\u2728"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:"Crear Roadmap"}),(0,Eo.jsx)("span",{className:"sm:hidden",children:"Crear"})]}),(0,Eo.jsx)(Oo,{})]}),!t&&(0,Eo.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,Eo.jsx)("button",{onClick:()=>i(!0),className:"px-3 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-medium bg-white text-gray-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 hover:border-gray-300 hover:bg-gray-50 whitespace-nowrap",children:"Iniciar sesi\xf3n"}),(0,Eo.jsx)("button",{onClick:()=>i(!0),className:"px-3 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-medium bg-gray-900 text-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:bg-gray-800 whitespace-nowrap",children:"Registrarse"})]})]}),o&&(0,Eo.jsx)("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-40 p-4",children:(0,Eo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-sm sm:max-w-md relative mx-4",children:[(0,Eo.jsx)("button",{onClick:()=>i(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-xl",children:"\xd7"}),(0,Eo.jsx)(jo,{})]})}),a&&(0,Eo.jsx)("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-40",children:(0,Eo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md relative",children:[(0,Eo.jsx)("button",{onClick:()=>s(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-xl",children:"\xd7"}),(0,Eo.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Crear nuevo Roadmap"}),(0,Eo.jsx)("input",{type:"text",placeholder:"T\xedtulo",value:l,onChange:e=>c(e.target.value),className:"w-full mb-3 px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Eo.jsx)("textarea",{placeholder:"Descripci\xf3n",value:u,onChange:e=>d(e.target.value),className:"w-full mb-4 px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Eo.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,Eo.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-700",children:"Cancelar"}),(0,Eo.jsx)("button",{onClick:async()=>{if(l){f(!0);try{const n=t.id,{data:r,error:o}=await Zr.from("roadmaps").insert([{title:l,description:u,user_id:n}]).select();if(o)throw o;r&&r[0]&&(s(!1),c(""),d(""),e(`/edit/${r[0].id}`))}catch(n){alert("Error al crear roadmap: "+n.message)}finally{f(!1)}}},disabled:h||!l,className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white font-semibold disabled:bg-gray-300",children:h?"Creando...":"Crear"})]})]})}),(0,Eo.jsx)("style",{jsx:!0,children:"\n        h1:hover {\n          background: linear-gradient(270deg, #6e7b8b, #bfa14c, #6e7b8b);\n          background-size: 1000% 1000%;\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          animation: shine 3s linear infinite;\n        }\n        img:hover {\n          filter: brightness(1.1) saturate(1.2) hue-rotate(180deg)\n            drop-shadow(0 0 4px #bfa14c);\n        }\n        @keyframes shine {\n          0% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n          100% {\n            background-position: 0% 50%;\n          }\n        }\n      "})]})}function Mo(){return null}function To(){return(0,Eo.jsx)("section",{className:"max-w-5xl mx-auto px-6 sm:px-8 lg:px-20 mb-10",children:(0,Eo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[(0,Eo.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\xbfQu\xe9 es un Roadmap?"}),(0,Eo.jsx)("p",{className:"text-gray-700 mb-2",children:"Un roadmap es una gu\xeda visual que te ayuda a entender y organizar los conceptos clave de una disciplina. Aqu\xed encontrar\xe1s mapas mentales interactivos para cada \xe1rea de la ingenier\xeda metal\xfargica."}),(0,Eo.jsxs)("ul",{className:"list-disc pl-6 text-gray-700",children:[(0,Eo.jsx)("li",{children:"Visualiza relaciones entre conceptos."}),(0,Eo.jsx)("li",{children:"Accede a recursos recomendados."}),(0,Eo.jsx)("li",{children:"Descubre rutas de aprendizaje sugeridas."})]})]})})}function Ro(){return(0,Eo.jsx)("section",{className:"max-w-5xl mx-auto px-6 sm:px-8 lg:px-20 mb-10",children:(0,Eo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[(0,Eo.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Caracter\xedsticas Destacadas"}),(0,Eo.jsxs)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 text-gray-700",children:[(0,Eo.jsxs)("li",{className:"flex items-start",children:[(0,Eo.jsx)("span",{className:"text-2xl mr-3",children:"\ud83e\udded"}),"Mapas mentales interactivos y navegables"]}),(0,Eo.jsxs)("li",{className:"flex items-start",children:[(0,Eo.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcda"}),"Recursos curados por expertos"]}),(0,Eo.jsxs)("li",{className:"flex items-start",children:[(0,Eo.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udee0\ufe0f"}),"Proyectos y simulaciones pr\xe1cticas"]}),(0,Eo.jsxs)("li",{className:"flex items-start",children:[(0,Eo.jsx)("span",{className:"text-2xl mr-3",children:"\ud83c\udf10"}),"Comunidad y colaboraci\xf3n"]})]})]})})}function Ao(){return(0,Eo.jsx)("footer",{className:"bg-slate-50 border-t py-6 mt-16",children:(0,Eo.jsxs)("div",{className:"container mx-auto text-center text-slate-600 text-sm",children:[(0,Eo.jsxs)("div",{className:"mb-4",children:["\xa9 2025 MetalRoadmap. Plataforma especializada en educaci\xf3n metal\xfargica.",(0,Eo.jsx)("br",{}),"Desarrollado por un estudiante de Ingenier\xeda Metal\xfargica e Ingenier\xeda de Sistemas."]}),(0,Eo.jsxs)("div",{className:"flex justify-center space-x-6 text-xs",children:[(0,Eo.jsx)(nt,{to:"/privacidad",className:"text-slate-500 hover:text-slate-700 transition-colors",children:"Pol\xedtica de Privacidad"}),(0,Eo.jsx)("a",{href:"mailto:contact@metalroadmap.com",className:"text-slate-500 hover:text-slate-700 transition-colors",children:"Contacto"})]})]})})}const Io=JSON.parse('[{"title":"Matem\xe1ticas","description":"Fundamentos matem\xe1ticos necesarios para la ingenier\xeda metal\xfargica. \xc1lgebra, c\xe1lculo, ecuaciones diferenciales.","icon":"\ud83d\udcd0","status":"coming-soon","link":"/matematicas","category":"Ciencias B\xe1sicas"},{"title":"F\xedsica","description":"Principios f\xedsicos fundamentales aplicados a procesos metal\xfargicos. Mec\xe1nica, electromagnetismo, \xf3ptica.","icon":"\u269b\ufe0f","status":"coming-soon","link":"/fisica","category":"Ciencias B\xe1sicas"},{"title":"Qu\xedmica","description":"Fundamentos qu\xedmicos para entender reacciones y transformaciones en metalurgia.","icon":"\ud83e\uddea","status":"coming-soon","link":"/quimica","category":"Ciencias B\xe1sicas"},{"title":"Ciencia de Materiales","description":"Estudio de la estructura, propiedades y comportamiento de los materiales.","icon":"\ud83d\udd2c","status":"coming-soon","link":"/ciencia-materiales","category":"Ciencias B\xe1sicas"},{"title":"Estad\xedstica y Probabilidad","description":"M\xe9todos estad\xedsticos para an\xe1lisis de datos y control de calidad en metalurgia.","icon":"\ud83d\udcca","status":"coming-soon","link":"/estadistica-probabilidad","category":"Ciencias B\xe1sicas"},{"title":"M\xe9todos Num\xe9ricos","description":"T\xe9cnicas computacionales para resolver problemas complejos en metalurgia.","icon":"\ud83d\udcbb","status":"coming-soon","link":"/metodos-numericos","category":"Ciencias B\xe1sicas"},{"title":"Termodin\xe1mica","description":"Fundamentos de termodin\xe1mica aplicada a procesos metal\xfargicos.","icon":"\ud83d\udd25","status":"active","link":"/termodinamica","category":"Ciencias B\xe1sicas"},{"title":"Mec\xe1nica","description":"Principios mec\xe1nicos aplicados a procesos de conformado y deformaci\xf3n.","icon":"\u2699\ufe0f","status":"coming-soon","link":"/mecanica","category":"Ciencias B\xe1sicas"},{"title":"Transferencia de Calor","description":"Mecanismos de transferencia de calor en procesos metal\xfargicos.","icon":"\ud83c\udf21\ufe0f","status":"coming-soon","link":"/transferencia-calor","category":"Ciencias B\xe1sicas"},{"title":"Electromagnetismo","description":"Principios electromagn\xe9ticos aplicados a procesos metal\xfargicos.","icon":"\u26a1","status":"coming-soon","link":"/electromagnetismo","category":"Ciencias B\xe1sicas"},{"title":"Fisicoqu\xedmica","description":"Interfase entre f\xedsica y qu\xedmica en procesos metal\xfargicos.","icon":"\ud83d\udd2c","status":"coming-soon","link":"/fisicoquimica","category":"Ciencias B\xe1sicas"},{"title":"Electroqu\xedmica","description":"Procesos electroqu\xedmicos en metalurgia y corrosi\xf3n.","icon":"\u26a1","status":"coming-soon","link":"/electroquimica","category":"Ciencias B\xe1sicas"},{"title":"Estructura Cristalina","description":"Organizaci\xf3n at\xf3mica y estructura cristalina de materiales met\xe1licos.","icon":"\ud83d\udc8e","status":"coming-soon","link":"/estructura-cristalina","category":"Ciencias B\xe1sicas"},{"title":"Diagramas de Fase","description":"Representaci\xf3n gr\xe1fica de fases en equilibrio en sistemas met\xe1licos.","icon":"\ud83d\udcc8","status":"coming-soon","link":"/diagramas-fase","category":"Ciencias B\xe1sicas"},{"title":"Difusi\xf3n","description":"Procesos de difusi\xf3n at\xf3mica en materiales met\xe1licos.","icon":"\ud83d\udd04","status":"coming-soon","link":"/difusion","category":"Ciencias B\xe1sicas"},{"title":"Transformaciones de Fase","description":"Cambios de fase y transformaciones microestructurales en metales.","icon":"\ud83d\udd04","status":"coming-soon","link":"/transformaciones-fase","category":"Ciencias B\xe1sicas"},{"title":"Propiedades Mec\xe1nicas","description":"Caracter\xedsticas mec\xe1nicas de materiales met\xe1licos.","icon":"\ud83d\udcaa","status":"coming-soon","link":"/propiedades-mecanicas","category":"Ciencias B\xe1sicas"},{"title":"Mineralog\xeda de Menas","description":"Identificaci\xf3n y caracterizaci\xf3n de minerales en menas met\xe1licas.","icon":"\u26cf\ufe0f","status":"coming-soon","link":"/mineralogia-menas","category":"Extractiva"},{"title":"Preparaci\xf3n de Minerales","description":"Procesos de preparaci\xf3n y acondicionamiento de minerales.","icon":"\ud83c\udfd4\ufe0f","status":"coming-soon","link":"/preparacion-minerales","category":"Extractiva"},{"title":"Conminuci\xf3n","description":"Reducci\xf3n de tama\xf1o de part\xedculas minerales.","icon":"\ud83d\udd28","status":"coming-soon","link":"/conminucion","category":"Extractiva"},{"title":"Concentraci\xf3n por Flotaci\xf3n","description":"Separaci\xf3n de minerales por flotaci\xf3n espumosa.","icon":"\ud83e\udee7","status":"coming-soon","link":"/concentracion-flotacion","category":"Extractiva"},{"title":"Separaci\xf3n Magn\xe9tica","description":"Concentraci\xf3n de minerales magn\xe9ticos.","icon":"\ud83e\uddf2","status":"coming-soon","link":"/separacion-magnetica","category":"Extractiva"},{"title":"Separaci\xf3n Gravim\xe9trica","description":"Concentraci\xf3n por diferencias de densidad.","icon":"\u2696\ufe0f","status":"coming-soon","link":"/separacion-gravimetrica","category":"Extractiva"},{"title":"Pirometalurgia","description":"Procesos metal\xfargicos a altas temperaturas.","icon":"\ud83d\udd25","status":"coming-soon","link":"/pirometalurgia","category":"Extractiva"},{"title":"Calcinaci\xf3n y Tostaci\xf3n","description":"Procesos de calentamiento en presencia de aire.","icon":"\ud83d\udd25","status":"coming-soon","link":"/calcinacion-tostacion","category":"Extractiva"},{"title":"Fusi\xf3n de Matas","description":"Procesos de fusi\xf3n para separaci\xf3n de metales.","icon":"\ud83d\udd25","status":"coming-soon","link":"/fusion-matas","category":"Extractiva"},{"title":"Reducci\xf3n Carbot\xe9rmica","description":"Reducci\xf3n de \xf3xidos met\xe1licos con carbono.","icon":"\u26a1","status":"coming-soon","link":"/reduccion-carbotermica","category":"Extractiva"},{"title":"Refinaci\xf3n Pirometal\xfargica","description":"Purificaci\xf3n de metales por procesos t\xe9rmicos.","icon":"\ud83d\udd25","status":"coming-soon","link":"/refinacion-pirometalurgica","category":"Extractiva"},{"title":"Hidrometalurgia","description":"Procesos metal\xfargicos en medio acuoso.","icon":"\ud83d\udca7","status":"coming-soon","link":"/hidrometalurgia","category":"Extractiva"},{"title":"Lixiviaci\xf3n","description":"Disoluci\xf3n selectiva de metales en soluciones acuosas.","icon":"\ud83d\udca7","status":"coming-soon","link":"/lixiviacion","category":"Extractiva"},{"title":"Separaci\xf3n L\xedquido-S\xf3lido","description":"T\xe9cnicas de separaci\xf3n de fases l\xedquidas y s\xf3lidas.","icon":"\ud83d\udd0d","status":"coming-soon","link":"/separacion-liquido-solido","category":"Extractiva"},{"title":"Purificaci\xf3n de Soluciones","description":"Limpieza y purificaci\xf3n de soluciones metal\xfargicas.","icon":"\ud83e\uddea","status":"coming-soon","link":"/purificacion-soluciones","category":"Extractiva"},{"title":"Precipitaci\xf3n","description":"Separaci\xf3n de metales por precipitaci\xf3n qu\xedmica.","icon":"\ud83c\udf0a","status":"coming-soon","link":"/precipitacion","category":"Extractiva"},{"title":"Electrometalurgia","description":"Procesos metal\xfargicos que involucran electricidad.","icon":"\u26a1","status":"coming-soon","link":"/electrometalurgia","category":"Extractiva"},{"title":"Electrodeposici\xf3n","description":"Deposici\xf3n de metales por procesos electrol\xedticos.","icon":"\u26a1","status":"coming-soon","link":"/electrodeposicion","category":"Extractiva"},{"title":"Electr\xf3lisis","description":"Descomposici\xf3n de compuestos por corriente el\xe9ctrica.","icon":"\u26a1","status":"coming-soon","link":"/electrolisis","category":"Extractiva"},{"title":"Corrosi\xf3n Electroqu\xedmica","description":"Mecanismos de corrosi\xf3n en medios electroqu\xedmicos.","icon":"\ud83d\udee1\ufe0f","status":"coming-soon","link":"/corrosion-electroquimica","category":"Extractiva"},{"title":"Fundici\xf3n","description":"Procesos de fundici\xf3n y colada de metales.","icon":"\ud83d\udd25","status":"coming-soon","link":"/fundicion","category":"Transformativa"},{"title":"Dise\xf1o de Aleaciones","description":"Desarrollo y dise\xf1o de aleaciones met\xe1licas.","icon":"\ud83d\udd27","status":"coming-soon","link":"/diseno-aleaciones","category":"Transformativa"},{"title":"Procesos de Fundici\xf3n","description":"T\xe9cnicas y procesos de fundici\xf3n metal\xfargica.","icon":"\ud83d\udd25","status":"coming-soon","link":"/procesos-fundicion","category":"Transformativa"},{"title":"Defectos de Fundici\xf3n","description":"Identificaci\xf3n y control de defectos en piezas fundidas.","icon":"\ud83d\udd0d","status":"coming-soon","link":"/defectos-fundicion","category":"Transformativa"},{"title":"Tratamientos de Modificaci\xf3n","description":"Modificaci\xf3n de microestructuras en metales fundidos.","icon":"\ud83d\udd27","status":"coming-soon","link":"/tratamientos-modificacion","category":"Transformativa"},{"title":"Conformado Mec\xe1nico","description":"Procesos de deformaci\xf3n pl\xe1stica de metales.","icon":"\ud83d\udd28","status":"coming-soon","link":"/conformado-mecanico","category":"Transformativa"},{"title":"Laminaci\xf3n","description":"Proceso de conformado por laminaci\xf3n.","icon":"\ud83d\udccf","status":"coming-soon","link":"/laminacion","category":"Transformativa"},{"title":"Forja","description":"Conformado por deformaci\xf3n pl\xe1stica a alta temperatura.","icon":"\ud83d\udd28","status":"coming-soon","link":"/forja","category":"Transformativa"},{"title":"Extrusi\xf3n","description":"Proceso de conformado por extrusi\xf3n.","icon":"\ud83d\udd27","status":"coming-soon","link":"/extrusion","category":"Transformativa"},{"title":"Trefilado","description":"Reducci\xf3n de di\xe1metro de alambres y barras.","icon":"\ud83d\udd27","status":"coming-soon","link":"/trefilado","category":"Transformativa"},{"title":"Conformado de Chapas","description":"Procesos de conformado de l\xe1minas met\xe1licas.","icon":"\ud83d\udccb","status":"coming-soon","link":"/conformado-chapas","category":"Transformativa"},{"title":"Tratamientos T\xe9rmicos","description":"Procesos de calentamiento y enfriamiento controlado.","icon":"\ud83d\udd25","status":"coming-soon","link":"/tratamientos-termicos","category":"Transformativa"},{"title":"Recocido","description":"Tratamiento t\xe9rmico de recocido para ablandamiento.","icon":"\ud83d\udd25","status":"coming-soon","link":"/recocido","category":"Transformativa"},{"title":"Normalizado","description":"Tratamiento t\xe9rmico de normalizado.","icon":"\ud83d\udd25","status":"coming-soon","link":"/normalizado","category":"Transformativa"},{"title":"Temple","description":"Tratamiento t\xe9rmico de temple para endurecimiento.","icon":"\ud83d\udd25","status":"coming-soon","link":"/temple","category":"Transformativa"},{"title":"Revenido","description":"Tratamiento t\xe9rmico de revenido para ajuste de propiedades.","icon":"\ud83d\udd25","status":"coming-soon","link":"/revenido","category":"Transformativa"},{"title":"Tratamientos Termoqu\xedmicos","description":"Procesos de difusi\xf3n de elementos en superficie.","icon":"\ud83d\udd25","status":"coming-soon","link":"/tratamientos-termoquimicos","category":"Transformativa"},{"title":"Soldadura y Uni\xf3n","description":"T\xe9cnicas de uni\xf3n de materiales met\xe1licos.","icon":"\ud83d\udd17","status":"coming-soon","link":"/soldadura-union","category":"Transformativa"},{"title":"Procesos de Soldadura","description":"Diferentes procesos y t\xe9cnicas de soldadura.","icon":"\ud83d\udd17","status":"coming-soon","link":"/procesos-soldadura","category":"Transformativa"},{"title":"Metalurgia de la Soldadura","description":"Cambios metal\xfargicos durante procesos de soldadura.","icon":"\ud83d\udd17","status":"coming-soon","link":"/metalurgia-soldadura","category":"Transformativa"},{"title":"MATLAB","description":"Software de computaci\xf3n num\xe9rica y an\xe1lisis de datos para ingenier\xeda metal\xfargica.","icon":"\ud83d\udcbb","status":"coming-soon","link":"/matlab","category":"Herramientas Extractivas"},{"title":"Python","description":"Lenguaje de programaci\xf3n para an\xe1lisis de datos y modelado en metalurgia.","icon":"\ud83d\udc0d","status":"coming-soon","link":"/python","category":"Herramientas Extractivas"},{"title":"R","description":"Lenguaje de programaci\xf3n para an\xe1lisis estad\xedstico y visualizaci\xf3n de datos.","icon":"\ud83d\udcca","status":"coming-soon","link":"/r","category":"Herramientas Extractivas"},{"title":"Minitab","description":"Software estad\xedstico para control de calidad y dise\xf1o de experimentos.","icon":"\ud83d\udcc8","status":"coming-soon","link":"/minitab","category":"Herramientas Extractivas"},{"title":"JMP","description":"Software de an\xe1lisis estad\xedstico y visualizaci\xf3n de datos.","icon":"\ud83d\udcca","status":"coming-soon","link":"/jmp","category":"Herramientas Extractivas"},{"title":"Excel Avanzado","description":"Herramientas avanzadas de Excel para an\xe1lisis de datos metal\xfargicos.","icon":"\ud83d\udcca","status":"coming-soon","link":"/excel-avanzado","category":"Herramientas Extractivas"},{"title":"HSC Chemistry","description":"Software para c\xe1lculos termodin\xe1micos y equilibrios qu\xedmicos.","icon":"\ud83e\uddea","status":"coming-soon","link":"/hsc-chemistry","category":"Herramientas Extractivas"},{"title":"METSIM","description":"Software de simulaci\xf3n de procesos metal\xfargicos.","icon":"\ud83c\udfed","status":"coming-soon","link":"/metsim","category":"Herramientas Extractivas"},{"title":"USIM PAC","description":"Software de simulaci\xf3n y optimizaci\xf3n de procesos metal\xfargicos.","icon":"\u2699\ufe0f","status":"coming-soon","link":"/usim-pac","category":"Herramientas Extractivas"},{"title":"LIMN","description":"Software de simulaci\xf3n de flujos de fluidos en procesos metal\xfargicos.","icon":"\ud83c\udf0a","status":"coming-soon","link":"/limn","category":"Herramientas Extractivas"},{"title":"Whittle","description":"Software de optimizaci\xf3n de pit mining y planificaci\xf3n minera.","icon":"\u26cf\ufe0f","status":"coming-soon","link":"/whittle","category":"Herramientas Extractivas"},{"title":"An\xe1lisis Multivariante","description":"T\xe9cnicas estad\xedsticas para an\xe1lisis de m\xfaltiples variables en metalurgia.","icon":"\ud83d\udcca","status":"coming-soon","link":"/analisis-multivariante","category":"Herramientas Extractivas"},{"title":"Optimizaci\xf3n Lineal","description":"M\xe9todos de optimizaci\xf3n lineal aplicados a procesos metal\xfargicos.","icon":"\ud83d\udcd0","status":"coming-soon","link":"/optimizacion-lineal","category":"Herramientas Extractivas"},{"title":"Redes Neuronales","description":"Inteligencia artificial para modelado y predicci\xf3n en metalurgia.","icon":"\ud83e\udde0","status":"coming-soon","link":"/redes-neuronales","category":"Herramientas Extractivas"},{"title":"Algoritmos Gen\xe9ticos","description":"Algoritmos de optimizaci\xf3n inspirados en evoluci\xf3n biol\xf3gica.","icon":"\ud83e\uddec","status":"coming-soon","link":"/algoritmos-geneticos","category":"Herramientas Extractivas"},{"title":"Control Estad\xedstico","description":"T\xe9cnicas de control estad\xedstico de procesos metal\xfargicos.","icon":"\ud83d\udcca","status":"coming-soon","link":"/control-estadistico","category":"Herramientas Extractivas"},{"title":"Sistemas SCADA","description":"Sistemas de supervisi\xf3n, control y adquisici\xf3n de datos.","icon":"\ud83d\udda5\ufe0f","status":"coming-soon","link":"/sistemas-scada","category":"Herramientas Extractivas"},{"title":"DCS","description":"Sistemas de control distribuido para procesos industriales.","icon":"\u2699\ufe0f","status":"coming-soon","link":"/dcs","category":"Herramientas Extractivas"},{"title":"Sensores","description":"Tecnolog\xedas de sensores para monitoreo de procesos metal\xfargicos.","icon":"\ud83d\udce1","status":"coming-soon","link":"/sensores","category":"Herramientas Extractivas"},{"title":"Analizadores en L\xednea","description":"Equipos de an\xe1lisis autom\xe1tico en procesos metal\xfargicos.","icon":"\ud83d\udd2c","status":"coming-soon","link":"/analizadores-linea","category":"Herramientas Extractivas"},{"title":"Controladores PID","description":"Controladores proporcional-integral-derivativo para procesos metal\xfargicos.","icon":"\ud83c\udf9b\ufe0f","status":"coming-soon","link":"/controladores-pid","category":"Herramientas Extractivas"},{"title":"AutoCAD","description":"Software de dise\xf1o asistido por computadora para ingenier\xeda metal\xfargica.","icon":"\ud83d\udcd0","status":"coming-soon","link":"/autocad","category":"Herramientas Transformativas"},{"title":"SolidWorks","description":"Software de dise\xf1o 3D y modelado param\xe9trico.","icon":"\ud83d\udd27","status":"coming-soon","link":"/solidworks","category":"Herramientas Transformativas"},{"title":"CATIA","description":"Software de dise\xf1o y fabricaci\xf3n asistida por computadora.","icon":"\ud83c\udfed","status":"coming-soon","link":"/catia","category":"Herramientas Transformativas"},{"title":"Inventor","description":"Software de dise\xf1o 3D y simulaci\xf3n de productos.","icon":"\ud83d\udd27","status":"coming-soon","link":"/inventor","category":"Herramientas Transformativas"},{"title":"Fusion 360","description":"Software de dise\xf1o 3D y fabricaci\xf3n en la nube.","icon":"\u2601\ufe0f","status":"coming-soon","link":"/fusion-360","category":"Herramientas Transformativas"},{"title":"ANSYS","description":"Software de an\xe1lisis por elementos finitos para ingenier\xeda.","icon":"\u26a1","status":"coming-soon","link":"/ansys","category":"Herramientas Transformativas"},{"title":"ABAQUS","description":"Software de an\xe1lisis por elementos finitos y simulaci\xf3n.","icon":"\ud83d\udd2c","status":"coming-soon","link":"/abaqus","category":"Herramientas Transformativas"},{"title":"COMSOL","description":"Software de simulaci\xf3n multiphysics para ingenier\xeda.","icon":"\ud83c\udf10","status":"coming-soon","link":"/comsol","category":"Herramientas Transformativas"},{"title":"LS-DYNA","description":"Software de an\xe1lisis din\xe1mico no lineal por elementos finitos.","icon":"\ud83d\udca5","status":"coming-soon","link":"/ls-dyna","category":"Herramientas Transformativas"},{"title":"DEFORM","description":"Software de simulaci\xf3n de conformado de metales.","icon":"\ud83d\udd28","status":"coming-soon","link":"/deform","category":"Herramientas Transformativas"},{"title":"ProCAST","description":"Software de simulaci\xf3n de procesos de fundici\xf3n.","icon":"\ud83d\udd25","status":"coming-soon","link":"/procast","category":"Herramientas Transformativas"},{"title":"MAGMA","description":"Software de simulaci\xf3n de fundici\xf3n y solidificaci\xf3n.","icon":"\ud83d\udd25","status":"coming-soon","link":"/magma","category":"Herramientas Transformativas"},{"title":"FLOW-3D","description":"Software de simulaci\xf3n de flujos de fluidos y metal fundido.","icon":"\ud83c\udf0a","status":"coming-soon","link":"/flow-3d","category":"Herramientas Transformativas"},{"title":"AnyCasting","description":"Software de simulaci\xf3n de procesos de fundici\xf3n.","icon":"\ud83d\udd25","status":"coming-soon","link":"/anycasting","category":"Herramientas Transformativas"},{"title":"NovaFlow","description":"Software de simulaci\xf3n de flujos en procesos metal\xfargicos.","icon":"\ud83c\udf0a","status":"coming-soon","link":"/novaflow","category":"Herramientas Transformativas"},{"title":"DICTRA","description":"Software de simulaci\xf3n de difusi\xf3n en materiales.","icon":"\ud83d\udd04","status":"coming-soon","link":"/dictra","category":"Herramientas Transformativas"},{"title":"Thermo-Calc","description":"Software de c\xe1lculos termodin\xe1micos y diagramas de fase.","icon":"\ud83d\udcc8","status":"coming-soon","link":"/thermo-calc","category":"Herramientas Transformativas"},{"title":"JMatPro","description":"Software de c\xe1lculo de propiedades de materiales.","icon":"\ud83d\udd2c","status":"coming-soon","link":"/jmatpro","category":"Herramientas Transformativas"},{"title":"MTDATA","description":"Software de bases de datos termodin\xe1micas.","icon":"\ud83d\udcca","status":"coming-soon","link":"/mtdata","category":"Herramientas Transformativas"},{"title":"PANDAT","description":"Software de c\xe1lculo de diagramas de fase multicomponente.","icon":"\ud83d\udcc8","status":"coming-soon","link":"/pandat","category":"Herramientas Transformativas"},{"title":"Metalograf\xeda Digital","description":"T\xe9cnicas digitales de an\xe1lisis microestructural de metales.","icon":"\ud83d\udd2c","status":"coming-soon","link":"/metalografia-digital","category":"Herramientas Transformativas"},{"title":"Ensayos Mec\xe1nicos","description":"T\xe9cnicas de caracterizaci\xf3n mec\xe1nica de materiales met\xe1licos.","icon":"\ud83d\udcaa","status":"coming-soon","link":"/ensayos-mecanicos","category":"Herramientas Transformativas"},{"title":"Ensayos No Destructivos","description":"T\xe9cnicas de inspecci\xf3n sin da\xf1ar el material.","icon":"\ud83d\udd0d","status":"coming-soon","link":"/ensayos-no-destructivos","category":"Herramientas Transformativas"},{"title":"MES","description":"Sistemas de ejecuci\xf3n de manufactura para control de producci\xf3n.","icon":"\ud83c\udfed","status":"coming-soon","link":"/mes","category":"Herramientas Transformativas"},{"title":"ERP","description":"Sistemas de planificaci\xf3n de recursos empresariales.","icon":"\ud83d\udcbc","status":"coming-soon","link":"/erp","category":"Herramientas Transformativas"},{"title":"Lean Manufacturing","description":"Metodolog\xedas de manufactura esbelta para optimizaci\xf3n de procesos.","icon":"\u26a1","status":"coming-soon","link":"/lean-manufacturing","category":"Herramientas Transformativas"},{"title":"Six Sigma","description":"Metodolog\xeda de mejora de procesos y control de calidad.","icon":"\ud83d\udcca","status":"coming-soon","link":"/six-sigma","category":"Herramientas Transformativas"}]');function Do(){return null}function zo(){const e=ne(),{user:t}=No(),[n,o]=(0,r.useState)(!1),i=(()=>{const e={};return Io.forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}),e})(),a=(n,r)=>(0,Eo.jsxs)("div",{children:[(0,Eo.jsxs)("div",{className:"relative mb-6",children:[(0,Eo.jsx)("div",{className:"absolute top-1/2 left-0 right-0 border-t border-indigo-400",style:{left:"calc(-50vw + 50%)",right:"calc(-50vw + 50%)"}}),(0,Eo.jsx)("div",{className:"text-center",children:(0,Eo.jsx)("h2",{className:"text-sm font-bold text-indigo-800 border border-indigo-400 rounded-xl px-3 py-1 bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 inline-block relative z-10",children:n})})]}),(0,Eo.jsxs)("div",{className:"mb-6",children:[(0,Eo.jsx)("div",{className:"grid grid-cols-1 gap-2 px-4 sm:grid-cols-2 sm:px-8 lg:grid-cols-3 lg:px-32 xl:grid-cols-4 xl:px-40 2xl:grid-cols-5 2xl:px-48 3xl:grid-cols-5 3xl:px-56",children:r.map((t,r)=>(0,Eo.jsxs)("div",{onClick:()=>(t=>{"active"===t.status?e(t.link):alert(`Pr\xf3ximamente: ${t.title} - Esta funcionalidad estar\xe1 disponible pronto!`)})(t),className:"p-2 rounded-lg shadow-md hover:shadow-lg transition cursor-pointer transform hover:scale-102 duration-200 border hover:border-indigo-700 "+("coming-soon"===t.status?"bg-slate-100 border-slate-300 opacity-90":"bg-white border-indigo-200"),children:[(0,Eo.jsxs)("h3",{className:"text-sm font-semibold mb-1 "+("coming-soon"===t.status?"text-slate-600":"text-slate-900"),children:[(0,Eo.jsx)("span",{className:"coming-soon"===t.status?"grayscale":"",children:t.icon})," ",t.title]}),(0,Eo.jsx)("p",{className:"text-xs mb-1 "+("coming-soon"===t.status?"text-slate-500":"text-slate-600"),style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},children:t.description}),"active"===t.status&&"Termodin\xe1mica"!==t.title?(0,Eo.jsx)("div",{className:"mt-1 text-xs text-indigo-600 font-medium",children:"\u2728 Haz click para explorar"}):(0,Eo.jsx)("div",{className:"mt-1 text-xs text-slate-500 font-medium"})]},`${n}-${r}`))}),!t&&(0,Eo.jsx)("div",{className:"flex justify-center mt-4",children:(0,Eo.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold rounded-lg shadow-lg hover:from-green-600 hover:to-blue-600 transition-all duration-200 transform hover:scale-105 text-sm",children:[(0,Eo.jsx)("span",{className:"mr-2",children:"\u2728"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:"Crear Roadmap"}),(0,Eo.jsx)("span",{className:"sm:hidden",children:"Crear Roadmap"})]})})]})]},n);return(0,Eo.jsxs)("div",{className:"w-full min-h-screen bg-gradient-to-r from-blue-100 via-indigo-100 to-blue-200",children:[(0,Eo.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 lg:px-32 xl:px-40 2xl:px-48 3xl:px-56",children:[(0,Eo.jsx)(Do,{}),(0,Eo.jsxs)("div",{className:"pt-4 pb-4 lg:mb-12 xl:mb-16 2xl:mb-20 3xl:mb-24",children:[(0,Eo.jsx)("div",{className:"text-left sm:text-center lg:text-center xl:text-center 2xl:text-center 3xl:text-center px-4 sm:px-8 lg:px-32 xl:px-40 2xl:px-48 3xl:px-56",children:(0,Eo.jsxs)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-yellow-500 to-blue-800 bg-clip-text text-transparent animate-gradient-x select-none pointer-events-none lg:py-4 xl:py-6 2xl:py-8 3xl:py-10",children:[(0,Eo.jsx)("span",{className:"block sm:hidden",children:"MetalRoad Ing. Metalurgistas"}),(0,Eo.jsx)("span",{className:"hidden sm:block",children:"MetalRoadmap para Ingenieros Metal\xfargicos"})]})}),(0,Eo.jsx)("div",{className:"text-left sm:text-center px-4 sm:px-8 lg:px-32 xl:px-40 2xl:px-48 3xl:px-56",children:(0,Eo.jsx)("p",{className:"text-xs sm:text-sm md:text-base text-slate-700",children:"Explora los mejores recursos y gu\xedas para convertirte en un experto en ingenier\xeda metal\xfargica. Cada tarjeta representa un roadmap \xfanico con recursos valiosos."})})]})]}),(0,Eo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 lg:px-32 xl:px-40 2xl:px-48 3xl:px-56",children:(0,Eo.jsxs)("div",{className:"p-0",children:[a("Ciencias B\xe1sicas",i["Ciencias B\xe1sicas"]||[]),a("Extractiva",i.Extractiva||[]),a("Transformativa",i.Transformativa||[]),a("Herramientas Extractivas",i["Herramientas Extractivas"]||[]),a("Herramientas Transformativas",i["Herramientas Transformativas"]||[])]})}),n&&(0,Eo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Eo.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[(0,Eo.jsx)("button",{onClick:()=>o(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-3xl font-bold leading-none focus:outline-none",style:{lineHeight:"1",width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"}),(0,Eo.jsx)(jo,{onClose:()=>o(!1)})]})})]})}function Lo(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=Lo(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var $o=n(443);const Bo=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},Ho=e=>e?Bo(e):Bo;const{useDebugValue:Uo}=r,{useSyncExternalStoreWithSelector:Fo}=$o,Vo=e=>e;function Wo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo,n=arguments.length>2?arguments[2]:void 0;const r=Fo(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Uo(r),r}const qo=(e,t)=>{const n=Ho(e),r=function(e){return Wo(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function Yo(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Ko={value:()=>{}};function Xo(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Zo(r)}function Zo(e){this._=e}function Go(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Jo(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Ko,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Zo.prototype=Xo.prototype={constructor:Zo,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=Jo(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Jo(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=Go(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zo(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const Qo=Xo;function ei(){}function ti(e){return null==e?ei:function(){return this.querySelector(e)}}function ni(){return[]}function ri(e){return null==e?ni:function(){return this.querySelectorAll(e)}}function oi(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function ii(e){return function(){return this.matches(e)}}function ai(e){return function(t){return t.matches(e)}}var si=Array.prototype.find;function li(){return this.firstElementChild}var ci=Array.prototype.filter;function ui(){return Array.from(this.children)}function di(e){return new Array(e.length)}function hi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function fi(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new hi(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function pi(e,t,n,r,o,i,a){var s,l,c,u=new Map,d=t.length,h=i.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new hi(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(f[s])===l&&(o[s]=l)}function mi(e){return e.__data__}function gi(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function vi(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}hi.prototype={constructor:hi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var yi="http://www.w3.org/1999/xhtml";const bi={svg:"http://www.w3.org/2000/svg",xhtml:yi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wi(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),bi.hasOwnProperty(t)?{space:bi[t],local:e}:e}function xi(e){return function(){this.removeAttribute(e)}}function Si(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ki(e,t){return function(){this.setAttribute(e,t)}}function Ei(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _i(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ci(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ni(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ji(e){return function(){this.style.removeProperty(e)}}function Oi(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Pi(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Mi(e,t){return e.style.getPropertyValue(t)||Ni(e).getComputedStyle(e,null).getPropertyValue(t)}function Ti(e){return function(){delete this[e]}}function Ri(e,t){return function(){this[e]=t}}function Ai(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Ii(e){return e.trim().split(/^|\s+/)}function Di(e){return e.classList||new zi(e)}function zi(e){this._node=e,this._names=Ii(e.getAttribute("class")||"")}function Li(e,t){for(var n=Di(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function $i(e,t){for(var n=Di(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Bi(e){return function(){Li(this,e)}}function Hi(e){return function(){$i(this,e)}}function Ui(e,t){return function(){(t.apply(this,arguments)?Li:$i)(this,e)}}function Fi(){this.textContent=""}function Vi(e){return function(){this.textContent=e}}function Wi(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function qi(){this.innerHTML=""}function Yi(e){return function(){this.innerHTML=e}}function Ki(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Xi(){this.nextSibling&&this.parentNode.appendChild(this)}function Zi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===yi&&t.documentElement.namespaceURI===yi?t.createElement(e):t.createElementNS(n,e)}}function Ji(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qi(e){var t=wi(e);return(t.local?Ji:Gi)(t)}function ea(){return null}function ta(){var e=this.parentNode;e&&e.removeChild(this)}function na(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ra(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oa(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ia(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function aa(e,t,n){var r=Ni(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function sa(e,t){return function(){return aa(this,e,t)}}function la(e,t){return function(){return aa(this,e,t.apply(this,arguments))}}zi.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ca=[null];function ua(e,t){this._groups=e,this._parents=t}function da(){return new ua([[document.documentElement]],ca)}ua.prototype=da.prototype={constructor:ua,select:function(e){"function"!==typeof e&&(e=ti(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new ua(r,this._parents)},selectAll:function(e){e="function"===typeof e?oi(e):ri(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new ua(r,o)},selectChild:function(e){return this.select(null==e?li:function(e){return function(){return si.call(this.children,e)}}("function"===typeof e?e:ai(e)))},selectChildren:function(e){return this.selectAll(null==e?ui:function(e){return function(){return ci.call(this.children,e)}}("function"===typeof e?e:ai(e)))},filter:function(e){"function"!==typeof e&&(e=ii(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new ua(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,mi);var n,r=t?pi:fi,o=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=o[u],h=i[u],f=h.length,p=gi(e.call(d,d&&d.__data__,u,o)),m=p.length,g=l[u]=new Array(m),v=s[u]=new Array(m);r(d,h,g,v,c[u]=new Array(f),p,t);for(var y,b,w=0,x=0;w<m;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(s=new ua(s,o))._enter=l,s._exit=c,s},enter:function(){return new ua(this._enter||this._groups.map(di),this._parents)},exit:function(){return new ua(this._exit||this._groups.map(di),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,u=n[l],d=r[l],h=u.length,f=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(f[p]=c);for(;l<o;++l)s[l]=n[l];return new ua(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=vi);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new ua(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=wi(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Si:xi:"function"===typeof t?n.local?Ci:_i:n.local?Ei:ki)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ji:"function"===typeof t?Pi:Oi)(e,t,null==n?"":n)):Mi(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Ti:"function"===typeof t?Ai:Ri)(e,t)):this.node()[e]},classed:function(e,t){var n=Ii(e+"");if(arguments.length<2){for(var r=Di(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?Ui:t?Bi:Hi)(n,t))},text:function(e){return arguments.length?this.each(null==e?Fi:("function"===typeof e?Wi:Vi)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?qi:("function"===typeof e?Ki:Yi)(e)):this.node().innerHTML},raise:function(){return this.each(Xi)},lower:function(){return this.each(Zi)},append:function(e){var t="function"===typeof e?e:Qi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:Qi(e),r=null==t?ea:"function"===typeof t?t:ti(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(ta)},clone:function(e){return this.select(e?ra:na)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?ia:oa,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?la:sa)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const ha=da;function fa(e){return"string"===typeof e?new ua([[document.querySelector(e)]],[document.documentElement]):new ua([[e]],ca)}const pa={passive:!1},ma={capture:!0,passive:!1};function ga(e){e.stopImmediatePropagation()}function va(e){e.preventDefault(),e.stopImmediatePropagation()}function ya(e){var t=e.document.documentElement,n=fa(e).on("dragstart.drag",va,ma);"onselectstart"in t?n.on("selectstart.drag",va,ma):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ba(e,t){var n=e.document.documentElement,r=fa(e).on("dragstart.drag",null);t&&(r.on("click.drag",va,ma),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function wa(e){return((e=Math.exp(e))+1/e)/2}const xa=function e(t,n,r){function o(e,o){var i,a,s=e[0],l=e[1],c=e[2],u=o[0],d=o[1],h=o[2],f=u-s,p=d-l,m=f*f+p*p;if(m<1e-12)a=Math.log(h/c)/t,i=function(e){return[s+e*f,l+e*p,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),y=(h*h-c*c-r*m)/(2*h*n*g),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/t,i=function(e){var r,o=e*a,i=wa(b),u=c/(n*g)*(i*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+u*f,l+u*p,c*i/wa(t*o+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function Sa(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var ka,Ea,_a=0,Ca=0,Na=0,ja=0,Oa=0,Pa=0,Ma="object"===typeof performance&&performance.now?performance:Date,Ta="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ra(){return Oa||(Ta(Aa),Oa=Ma.now()+Pa)}function Aa(){Oa=0}function Ia(){this._call=this._time=this._next=null}function Da(e,t,n){var r=new Ia;return r.restart(e,t,n),r}function za(){Oa=(ja=Ma.now())+Pa,_a=Ca=0;try{!function(){Ra(),++_a;for(var e,t=ka;t;)(e=Oa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_a}()}finally{_a=0,function(){var e,t,n=ka,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ka=t);Ea=e,$a(r)}(),Oa=0}}function La(){var e=Ma.now(),t=e-ja;t>1e3&&(Pa-=t,ja=e)}function $a(e){_a||(Ca&&(Ca=clearTimeout(Ca)),e-Oa>24?(e<1/0&&(Ca=setTimeout(za,e-Ma.now()-Pa)),Na&&(Na=clearInterval(Na))):(Na||(ja=Ma.now(),Na=setInterval(La,1e3)),_a=1,Ta(za)))}function Ba(e,t,n){var r=new Ia;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}Ia.prototype=Da.prototype={constructor:Ia,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Ra():+n)+(null==t?0:+t),this._next||Ea===this||(Ea?Ea._next=this:ka=this,Ea=this),this._call=e,this._time=n,$a()},stop:function(){this._call&&(this._call=null,this._time=1/0,$a())}};var Ha=Qo("start","end","cancel","interrupt"),Ua=[];function Fa(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var c,u,d,h;if(1!==n.state)return l();for(c in o)if((h=o[c]).name===n.name){if(3===h.state)return Ba(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(Ba(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=Da(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:Ha,tween:Ua,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function Va(e,t){var n=qa(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Wa(e,t){var n=qa(e,t);if(n.state>3)throw new Error("too late; already running");return n}function qa(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ya(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function Ka(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Xa,Za=180/Math.PI,Ga={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ja(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Za,skewX:Math.atan(l)*Za,scaleX:a,scaleY:s}}function Qa(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Ka(e,o)},{i:l-2,x:Ka(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Ka(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Ka(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Ka(e,n)},{i:s-2,x:Ka(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var es=Qa(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ga:Ja(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),ts=Qa(function(e){return null==e?Ga:(Xa||(Xa=document.createElementNS("http://www.w3.org/2000/svg","g")),Xa.setAttribute("transform",e),(e=Xa.transform.baseVal.consolidate())?Ja((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ga)},", ",")",")");function ns(e,t){var n,r;return function(){var o=Wa(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function rs(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var i=Wa(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function os(e,t,n){var r=e._id;return e.each(function(){var e=Wa(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return qa(e,r).value[t]}}function is(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function as(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ss(){}var ls=.7,cs=1/ls,us="\\s*([+-]?\\d+)\\s*",ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fs=/^#([0-9a-f]{3,8})$/,ps=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),ms=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),gs=new RegExp(`^rgba\\(${us},${us},${us},${ds}\\)$`),vs=new RegExp(`^rgba\\(${hs},${hs},${hs},${ds}\\)$`),ys=new RegExp(`^hsl\\(${ds},${hs},${hs}\\)$`),bs=new RegExp(`^hsla\\(${ds},${hs},${hs},${ds}\\)$`),ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xs(){return this.rgb().formatHex()}function Ss(){return this.rgb().formatRgb()}function ks(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fs.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Es(t):3===n?new Ns(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?_s(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?_s(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ps.exec(e))?new Ns(t[1],t[2],t[3],1):(t=ms.exec(e))?new Ns(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=gs.exec(e))?_s(t[1],t[2],t[3],t[4]):(t=vs.exec(e))?_s(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ys.exec(e))?Rs(t[1],t[2]/100,t[3]/100,1):(t=bs.exec(e))?Rs(t[1],t[2]/100,t[3]/100,t[4]):ws.hasOwnProperty(e)?Es(ws[e]):"transparent"===e?new Ns(NaN,NaN,NaN,0):null}function Es(e){return new Ns(e>>16&255,e>>8&255,255&e,1)}function _s(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ns(e,t,n,r)}function Cs(e,t,n,r){return 1===arguments.length?((o=e)instanceof ss||(o=ks(o)),o?new Ns((o=o.rgb()).r,o.g,o.b,o.opacity):new Ns):new Ns(e,t,n,null==r?1:r);var o}function Ns(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function js(){return`#${Ts(this.r)}${Ts(this.g)}${Ts(this.b)}`}function Os(){const e=Ps(this.opacity);return`${1===e?"rgb(":"rgba("}${Ms(this.r)}, ${Ms(this.g)}, ${Ms(this.b)}${1===e?")":`, ${e})`}`}function Ps(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ts(e){return((e=Ms(e))<16?"0":"")+e.toString(16)}function Rs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Is(e,t,n,r)}function As(e){if(e instanceof Is)return new Is(e.h,e.s,e.l,e.opacity);if(e instanceof ss||(e=ks(e)),!e)return new Is;if(e instanceof Is)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Is(a,s,l,e.opacity)}function Is(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ds(e){return(e=(e||0)%360)<0?e+360:e}function zs(e){return Math.max(0,Math.min(1,e||0))}function Ls(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function $s(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}is(ss,ks,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xs,formatHex:xs,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return As(this).formatHsl()},formatRgb:Ss,toString:Ss}),is(Ns,Cs,as(ss,{brighter(e){return e=null==e?cs:Math.pow(cs,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ls:Math.pow(ls,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(Ms(this.r),Ms(this.g),Ms(this.b),Ps(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:js,formatHex:js,formatHex8:function(){return`#${Ts(this.r)}${Ts(this.g)}${Ts(this.b)}${Ts(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Os,toString:Os})),is(Is,function(e,t,n,r){return 1===arguments.length?As(e):new Is(e,t,n,null==r?1:r)},as(ss,{brighter(e){return e=null==e?cs:Math.pow(cs,e),new Is(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ls:Math.pow(ls,e),new Is(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ns(Ls(e>=240?e-240:e+120,o,r),Ls(e,o,r),Ls(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Is(Ds(this.h),zs(this.s),zs(this.l),Ps(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ps(this.opacity);return`${1===e?"hsl(":"hsla("}${Ds(this.h)}, ${100*zs(this.s)}%, ${100*zs(this.l)}%${1===e?")":`, ${e})`}`}}));const Bs=e=>()=>e;function Hs(e,t){return function(n){return e+n*t}}function Us(e){return 1===(e=+e)?Fs:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Bs(isNaN(t)?n:t)}}function Fs(e,t){var n=t-e;return n?Hs(e,n):Bs(isNaN(e)?t:e)}const Vs=function e(t){var n=Us(t);function r(e,t){var r=n((e=Cs(e)).r,(t=Cs(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Fs(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Ws(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Cs(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}Ws(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return $s((n-r/t)*t,a,o,i,s)}}),Ws(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return $s((n-r/t)*t,o,i,a,s)}});var qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ys=new RegExp(qs.source,"g");function Ks(e,t){var n,r,o,i=qs.lastIndex=Ys.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=qs.exec(e))&&(r=Ys.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ka(n,r)})),i=Ys.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Xs(e,t){var n;return("number"===typeof t?Ka:t instanceof ks?Vs:(n=ks(t))?(t=n,Vs):Ks)(e,t)}function Zs(e){return function(){this.removeAttribute(e)}}function Gs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Js(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Qs(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function el(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function tl(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function nl(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function rl(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function ol(e,t){return function(){Va(this,e).delay=+t.apply(this,arguments)}}function il(e,t){return t=+t,function(){Va(this,e).delay=t}}function al(e,t){return function(){Wa(this,e).duration=+t.apply(this,arguments)}}function sl(e,t){return t=+t,function(){Wa(this,e).duration=t}}var ll=ha.prototype.constructor;function cl(e){return function(){this.style.removeProperty(e)}}var ul=0;function dl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function hl(){return++ul}var fl=ha.prototype;dl.prototype=function(e){return ha().transition(e)}.prototype={constructor:dl,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=ti(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,d=i[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Fa(d[h],t,n,h,d,qa(s,n)));return new dl(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=ri(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),p=qa(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&Fa(h,t,n,m,f,p);i.push(f),a.push(l)}return new dl(i,a,t,n)},selectChild:fl.selectChild,selectChildren:fl.selectChildren,filter:function(e){"function"!==typeof e&&(e=ii(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new dl(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<r;++s)a[s]=t[s];return new dl(a,this._parents,this._name,this._id)},selection:function(){return new ll(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=hl(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=qa(a,t);Fa(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new dl(r,this._parents,e,n)},call:fl.call,nodes:fl.nodes,node:fl.node,size:fl.size,empty:fl.empty,each:fl.each,on:function(e,t){var n=this._id;return arguments.length<2?qa(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Va:Wa;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=wi(e),r="transform"===n?ts:Xs;return this.attrTween(e,"function"===typeof t?(n.local?tl:el)(n,r,os(this,"attr."+e,t)):null==t?(n.local?Gs:Zs)(n):(n.local?Qs:Js)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=wi(e);return this.tween(n,(r.local?nl:rl)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?es:Xs;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=Mi(this,e),a=(this.style.removeProperty(e),Mi(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,cl(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=Mi(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Mi(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,os(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=Wa(this,e),c=l.on,u=null==l.value[a]?i||(i=cl(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=Mi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(os(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=qa(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?ns:rs)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?ol:il)(t,e)):qa(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?al:sl)(t,e)):qa(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Wa(this,e).ease=t}}(t,e)):qa(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Wa(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){0===--o&&i()}};n.each(function(){var n=Wa(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===o&&i()})},[Symbol.iterator]:fl[Symbol.iterator]};var pl={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ml(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}ha.prototype.interrupt=function(e){return this.each(function(){Ya(this,e)})},ha.prototype.transition=function(e){var t,n;e instanceof dl?(t=e._id,e=e._name):(t=hl(),(n=pl).time=Ra(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&Fa(a,e,t,c,s,n||ml(a,t));return new dl(r,this._parents,e,t)};const gl=e=>()=>e;function vl(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function yl(e,t,n){this.k=e,this.x=t,this.y=n}yl.prototype={constructor:yl,scale:function(e){return 1===e?this:new yl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new yl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bl=new yl(1,0,0);function wl(e){e.stopImmediatePropagation()}function xl(e){e.preventDefault(),e.stopImmediatePropagation()}function Sl(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function kl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function El(){return this.__zoom||bl}function _l(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Cl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nl(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function jl(){var e,t,n,r=Sl,o=kl,i=Nl,a=_l,s=Cl,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=xa,h=Qo("start","zoom","end"),f=0,p=10;function m(e){e.property("__zoom",El).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",_).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new yl(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new yl(e.k,r,o)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,i=arguments,a=w(e,i).event(r),s=o.apply(e,i),l=null==n?y(s):"function"===typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,i):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new yl(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}})}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=w(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,a.apply(this,arguments)))),h=Sa(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],Ya(this),s.start()}xl(e),s.wheel=setTimeout(function(){s.wheel=null,s.end()},150),s.zoom("mouse",i(v(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function k(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=w(this,o,!0).event(e),u=fa(e.view).on("mousemove.zoom",function(e){if(xl(e),!l.moved){var t=e.clientX-h,n=e.clientY-p;l.moved=t*t+n*n>f}l.event(e).zoom("mouse",i(v(l.that.__zoom,l.mouse[0]=Sa(e,s),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){u.on("mousemove.zoom mouseup.zoom",null),ba(e.view,l.moved),xl(e),l.event(e).end()},!0),d=Sa(e,s),h=e.clientX,p=e.clientY;ya(e.view),wl(e),l.mouse=[d,this.__zoom.invert(d)],Ya(this),l.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=this.__zoom,l=Sa(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),f=i(v(g(s,h),l,d),o.apply(this,n),c);xl(e),u>0?fa(this).transition().duration(u).call(b,f,l,e):fa(this).call(m.transform,f,l,e)}}function _(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,f=w(this,i,n.changedTouches.length===h).event(n);for(wl(n),l=0;l<h;++l)u=[u=Sa(c=d[l],this),this.__zoom.invert(u),c.identifier],f.touch0?f.touch1||f.touch0[2]===u[2]||(f.touch1=u,f.taps=0):(f.touch0=u,s=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(f.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),Ya(this),f.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,a,s,l,u=w(this,n).event(e),d=e.changedTouches,h=d.length;for(xl(e),o=0;o<h;++o)s=Sa(a=d[o],this),u.touch0&&u.touch0[2]===a.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===a.identifier&&(u.touch1[0]=s);if(a=u.that.__zoom,u.touch1){var f=u.touch0[0],p=u.touch0[1],m=u.touch1[0],y=u.touch1[1],b=(b=m[0]-f[0])*b+(b=m[1]-f[1])*b,x=(x=y[0]-p[0])*x+(x=y[1]-p[1])*x;a=g(a,Math.sqrt(b/x)),s=[(f[0]+m[0])/2,(f[1]+m[1])/2],l=[(p[0]+y[0])/2,(p[1]+y[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",i(v(a,s,l),u.extent,c))}}function N(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.__zooming){var a,s,l=w(this,o).event(e),c=e.changedTouches,u=c.length;for(wl(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),a=0;a<u;++a)s=c[a],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=Sa(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<p)){var d=fa(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",El),e!==o?b(e,t,n,r):o.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"===typeof t?t.apply(this,arguments):t;return i(v(g(r,l),a,s),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?y(e):"function"===typeof r?r.apply(this,arguments):r;return i(bl.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},r,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=fa(this.that).datum();h.call(e,this.that,new vl(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:gl(+e),m):a},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:gl(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:gl(!!e),m):s},m.extent=function(e){return arguments.length?(o="function"===typeof e?e:gl([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}yl.prototype;const Ol=e=>()=>e;function Pl(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:a,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function Ml(e){return!e.ctrlKey&&!e.button}function Tl(){return this.parentNode}function Rl(e,t){return null==t?{x:e.x,y:e.y}:t}function Al(){return navigator.maxTouchPoints||"ontouchstart"in this}function Il(){var e,t,n,r,o=Ml,i=Tl,a=Rl,s=Al,l={},c=Qo("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,pa).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&o.call(this,a,s)){var l=b(this,i.call(this,a,s),a,s,"mouse");l&&(fa(a.view).on("mousemove.drag",p,ma).on("mouseup.drag",m,ma),ya(a.view),ga(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function p(r){if(va(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}l.mouse("drag",r)}function m(e){fa(e.view).on("mousemove.drag mouseup.drag",null),ba(e.view,n),va(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(ga(e),r("start",e,a[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(va(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=l[o[t].identifier])&&(ga(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,d,f,p=c.copy(),m=Sa(i||n,t);if(null!=(f=a.call(e,new Pl("beforestart",{sourceEvent:n,target:h,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-m[0]||0,d=f.y-m[1]||0,function n(i,a,c){var g,v=m;switch(i){case"start":l[o]=n,g=u++;break;case"end":delete l[o],--u;case"drag":m=Sa(c||a,t),g=u}p.call(i,e,new Pl(i,{sourceEvent:a,subject:f,target:h,identifier:o,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(o="function"===typeof e?e:Ol(!!e),h):o},h.container=function(e){return arguments.length?(i="function"===typeof e?e:Ol(e),h):i},h.subject=function(e){return arguments.length?(a="function"===typeof e?e:Ol(e),h):a},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Ol(!!e),h):s},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}Pl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(950);const Dl=(0,r.createContext)(null),zl=Dl.Provider,Ll=e=>`Node type "${e}" not found. Using fallback type "default".`,$l=()=>"The React Flow parent container needs a width and a height to render the graph.",Bl=()=>"Only child nodes can use a parent extent.",Hl=()=>"Can't create edge. An edge needs a source and a target.",Ul=e=>`Marker type "${e}" doesn't exist.`,Fl=(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,Vl=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",Wl=e=>`Edge type "${e}" not found. Using fallback type "default".`,ql=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,Yl=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Kl(e,t){const n=(0,r.useContext)(Dl);if(null===n)throw new Error(Yl);return Wo(n,e,t)}const Xl=()=>{const e=(0,r.useContext)(Dl);if(null===e)throw new Error(Yl);return(0,r.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Zl=e=>e.userSelectionActive?"none":"all";function Gl(e){let{position:t,children:n,className:o,style:i,...a}=e;const s=Kl(Zl),l=`${t}`.split("-");return r.createElement("div",{className:Lo(["react-flow__panel",o,...l]),style:{...i,pointerEvents:s},...a},n)}function Jl(e){let{proOptions:t,position:n="bottom-right"}=e;return t?.hideAttribution?null:r.createElement(Gl,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},r.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Ql=(0,r.memo)(e=>{let{x:t,y:n,label:o,labelStyle:i={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:d,...h}=e;const f=(0,r.useRef)(null),[p,m]=(0,r.useState)({x:0,y:0,width:0,height:0}),g=Lo(["react-flow__edge-textwrapper",d]);return(0,r.useEffect)(()=>{if(f.current){const e=f.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[o]),"undefined"!==typeof o&&o?r.createElement("g",{transform:`translate(${t-p.width/2} ${n-p.height/2})`,className:g,visibility:p.width?"visible":"hidden",...h},a&&r.createElement("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),r.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:i},o),u):null});const ec=e=>({width:e.offsetWidth,height:e.offsetHeight}),tc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},nc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:tc(e.x,t[0][0],t[1][0]),y:tc(e.y,t[0][1],t[1][1])}},rc=(e,t,n)=>e<t?tc(Math.abs(e-t),1,50)/50:e>n?-tc(Math.abs(e-n),1,50)/50:0,oc=(e,t)=>[20*rc(e.x,35,t.width-35),20*rc(e.y,35,t.height-35)],ic=e=>e.getRootNode?.()||window?.document,ac=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),sc=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},lc=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},cc=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),uc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},dc=e=>!isNaN(e)&&isFinite(e),hc=Symbol.for("internals"),fc=["Enter"," ","Escape"],pc=(e,t)=>{0};function mc(e){const t=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const gc=e=>"clientX"in e,vc=(e,t)=>{const n=gc(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},yc=()=>"undefined"!==typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,bc=e=>{let{id:t,path:n,labelX:o,labelY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m=20}=e;return r.createElement(r.Fragment,null,r.createElement("path",{id:t,style:h,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),m&&r.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&dc(o)&&dc(i)?r.createElement(Ql,{x:o,y:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};bc.displayName="BaseEdge";function wc(e,t,n){return void 0===n?n:r=>{const o=t().edges.find(t=>t.id===e);o&&n(r,{...o})}}function xc(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const i=Math.abs(r-t)/2,a=r<t?r+i:r-i,s=Math.abs(o-n)/2;return[a,o<n?o+s:o-s,i,s]}function Sc(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*i+.375*s+.125*r,u=.125*n+.375*a+.375*l+.125*o;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var kc,Ec,_c,Cc,Nc,jc;function Oc(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===jc.Left||t===jc.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function Pc(e){let{sourceX:t,sourceY:n,sourcePosition:r=jc.Bottom,targetX:o,targetY:i,targetPosition:a=jc.Top}=e;const[s,l]=Oc({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,u]=Oc({pos:a,x1:o,y1:i,x2:t,y2:n}),[d,h,f,p]=Sc({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${n} C${s},${l} ${c},${u} ${o},${i}`,d,h,f,p]}!function(e){e.Strict="strict",e.Loose="loose"}(kc||(kc={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Ec||(Ec={})),function(e){e.Partial="partial",e.Full="full"}(_c||(_c={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Cc||(Cc={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Nc||(Nc={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(jc||(jc={}));const Mc=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:o,targetY:i,sourcePosition:a=jc.Bottom,targetPosition:s=jc.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v}=e;const[y,b,w]=Pc({sourceX:t,sourceY:n,sourcePosition:a,targetX:o,targetY:i,targetPosition:s});return r.createElement(bc,{path:y,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v})});Mc.displayName="SimpleBezierEdge";const Tc={[jc.Left]:{x:-1,y:0},[jc.Right]:{x:1,y:0},[jc.Top]:{x:0,y:-1},[jc.Bottom]:{x:0,y:1}},Rc=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ac(e){let{source:t,sourcePosition:n=jc.Bottom,target:r,targetPosition:o=jc.Top,center:i,offset:a}=e;const s=Tc[n],l=Tc[o],c={x:t.x+s.x*a,y:t.y+s.y*a},u={x:r.x+l.x*a,y:r.y+l.y*a},d=(e=>{let{source:t,sourcePosition:n=jc.Bottom,target:r}=e;return n===jc.Left||n===jc.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),h=0!==d.x?"x":"y",f=d[h];let p,m,g=[];const v={x:0,y:0},y={x:0,y:0},[b,w,x,S]=xc({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(s[h]*l[h]===-1){p=i.x??b,m=i.y??w;const e=[{x:p,y:c.y},{x:p,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=s[h]===f?"x"===h?e:t:"x"===h?t:e}else{const e=[{x:c.x,y:u.y}],i=[{x:u.x,y:c.y}];if(g="x"===h?s.x===f?i:e:s.y===f?e:i,n===o){const e=Math.abs(t[h]-r[h]);if(e<=a){const n=Math.min(a-1,a-e);s[h]===f?v[h]=(c[h]>t[h]?-1:1)*n:y[h]=(u[h]>r[h]?-1:1)*n}}if(n!==o){const t="x"===h?"y":"x",n=s[h]===l[t],r=c[t]>u[t],o=c[t]<u[t];(1===s[h]&&(!n&&r||n&&o)||1!==s[h]&&(!n&&o||n&&r))&&(g="x"===h?e:i)}const d={x:c.x+v.x,y:c.y+v.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(p=(d.x+b.x)/2,m=g[0].y):(p=g[0].x,m=(d.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},r],p,m,x,S]}function Ic(e){let{sourceX:t,sourceY:n,sourcePosition:r=jc.Bottom,targetX:o,targetY:i,targetPosition:a=jc.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=e;const[d,h,f,p,m]=Ac({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:l,y:c},offset:u}),g=d.reduce((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const o=Math.min(Rc(e,t)/2,Rc(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a)return`L ${i+o*(e.x<n.x?-1:1)},${a}Q ${i},${a} ${i},${a+o*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${i},${a+o*(e.y<n.y?-1:1)}Q ${i},${a} ${i+o*s},${a}`}(d[n-1],t,d[n+1],s):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=r},"");return[g,h,f,p,m]}const Dc=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:f=jc.Bottom,targetPosition:p=jc.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=Ic({sourceX:t,sourceY:n,sourcePosition:f,targetX:o,targetY:i,targetPosition:p,borderRadius:v?.borderRadius,offset:v?.offset});return r.createElement(bc,{path:b,labelX:w,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:g,interactionWidth:y})});Dc.displayName="SmoothStepEdge";const zc=(0,r.memo)(e=>r.createElement(Dc,{...e,pathOptions:(0,r.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));zc.displayName="StepEdge";const Lc=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m}=e;const[g,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[i,a,s,l]=xc({sourceX:t,sourceY:n,targetX:r,targetY:o});return[`M ${t},${n}L ${r},${o}`,i,a,s,l]}({sourceX:t,sourceY:n,targetX:o,targetY:i});return r.createElement(bc,{path:g,labelX:v,labelY:y,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:m})});function $c(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Bc(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:a}=e;switch(t){case jc.Left:return[n-$c(n-o,a),r];case jc.Right:return[n+$c(o-n,a),r];case jc.Top:return[n,r-$c(r-i,a)];case jc.Bottom:return[n,r+$c(i-r,a)]}}function Hc(e){let{sourceX:t,sourceY:n,sourcePosition:r=jc.Bottom,targetX:o,targetY:i,targetPosition:a=jc.Top,curvature:s=.25}=e;const[l,c]=Bc({pos:r,x1:t,y1:n,x2:o,y2:i,c:s}),[u,d]=Bc({pos:a,x1:o,y1:i,x2:t,y2:n,c:s}),[h,f,p,m]=Sc({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${c} ${u},${d} ${o},${i}`,h,f,p,m]}Lc.displayName="StraightEdge";const Uc=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:o,targetY:i,sourcePosition:a=jc.Bottom,targetPosition:s=jc.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=Hc({sourceX:t,sourceY:n,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:v?.curvature});return r.createElement(bc,{path:b,labelX:w,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:y})});Uc.displayName="BezierEdge";const Fc=(0,r.createContext)(null),Vc=Fc.Provider;Fc.Consumer;const Wc=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return`reactflow__edge-${t}${n||""}-${r}${o||""}`},qc=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`},Yc=(e,t)=>{if(!e.source||!e.target)return pc(0,Hl()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?{...e}:{...e,id:Wc(e)},((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)},Kc=(e,t,n,r)=>{let{x:o,y:i}=e,[a,s,l]=t,[c,u]=r;const d={x:(o-a)/l,y:(i-s)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},Xc=(e,t)=>{let{x:n,y:r}=e,[o,i,a]=t;return{x:n*a+o,y:r*a+i}},Zc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},Gc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:o}=Zc(n,t).positionAbsolute;return ac(e,sc({x:r,y:o,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return lc(n)},Jc=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(a&&!r||o)return!1;const{positionAbsolute:u}=Zc(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},h=uc(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||i&&h>0||h>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},Qc=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},eu=function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),c=tc(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},tu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function nu(e,t,n,r){return(t[n]||[]).reduce((t,o)=>(`${e.id}-${o.id}-${n}`!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+o.x+o.width/2,y:(e.positionAbsolute?.y??0)+o.y+o.height/2}),t),[])}const ru={source:null,target:null,sourceHandle:null,targetHandle:null},ou=()=>({handleDomNode:null,isValid:!1,connection:ru,endHandle:null});function iu(e,t,n,r,o,i,a){const s="target"===o,l=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={...ou(),handleDomNode:l};if(l){const e=au(void 0,l),o=l.getAttribute("data-nodeid"),a=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),h={source:s?o:n,sourceHandle:s?a:r,target:s?n:o,targetHandle:s?r:a};c.connection=h;u&&d&&(t===kc.Strict?s&&"source"===e||!s&&"target"===e:o!==n||a!==r)&&(c.endHandle={nodeId:o,handleId:a,type:e},c.isValid=i(h))}return c}function au(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function su(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function lu(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function cu(e){let{event:t,handleId:n,nodeId:r,onConnect:o,isTarget:i,getState:a,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=ic(t.target),{connectionMode:h,domNode:f,autoPanOnConnect:p,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:b}=a();let w,x=0;const{x:S,y:k}=vc(t),E=d?.elementFromPoint(S,k),_=au(c,E),C=f?.getBoundingClientRect();if(!C||!_)return;let N,j=vc(t,C),O=!1,P=null,M=!1,T=null;const R=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:o}=e;return t.reduce((e,t)=>{if(t[hc]){const{handleBounds:i}=t[hc];let a=[],s=[];i&&(a=nu(t,i,"source",`${n}-${r}-${o}`),s=nu(t,i,"target",`${n}-${r}-${o}`)),e.push(...a,...s)}return e},[])}({nodes:y(),nodeId:r,handleId:n,handleType:_}),A=()=>{if(!p)return;const[e,t]=oc(j,C);v({x:e,y:t}),x=requestAnimationFrame(A)};function I(e){const{transform:t}=a();j=vc(e,C);const{handle:o,validHandleResult:c}=function(e,t,n,r,o,i){const{x:a,y:s}=vc(e),l=t.elementsFromPoint(a,s).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=au(void 0,l),r=l.getAttribute("data-handleid"),a=i({nodeId:e,id:r,type:t});if(a){const i=o.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:i?.x||n.x,y:i?.y||n.y},validHandleResult:a}}}}let c=[],u=1/0;if(o.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=i(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:ou()};if(1===c.length)return c[0];const d=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),h=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return h?"target"===t.type:!d||n.isValid})||c[0]}(e,d,Kc(j,t,!1,[1,1]),m,R,e=>iu(e,h,r,n,i?"target":"source",l,d));if(w=o,O||(A(),O=!0),T=c.handleDomNode,P=c.connection,M=c.isValid,s({connectionPosition:w&&M?Xc({x:w.x,y:w.y},t):j,connectionStatus:lu(!!w,M),connectionEndHandle:c.endHandle}),!w&&!M&&!T)return su(N);P.source!==P.target&&T&&(su(N),N=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",M),T.classList.toggle("react-flow__handle-valid",M))}function D(e){(w||T)&&P&&M&&o?.(P),a().onConnectEnd?.(e),c&&u?.(e),su(N),b(),cancelAnimationFrame(x),O=!1,M=!1,P=null,T=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",D),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",D)}s({connectionPosition:j,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:_,connectionStartHandle:{nodeId:r,handleId:n,type:_},connectionEndHandle:null}),g?.(t,{nodeId:r,handleId:n,handleType:_}),d.addEventListener("mousemove",I),d.addEventListener("mouseup",D),d.addEventListener("touchmove",I),d.addEventListener("touchend",D)}const uu=()=>!0,du=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),hu=(0,r.forwardRef)((e,t)=>{let{type:n="source",position:o=jc.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:h,onMouseDown:f,onTouchStart:p,...m}=e;const g=c||null,v="target"===n,y=Xl(),b=(0,r.useContext)(Fc),{connectOnClick:w,noPanClassName:x}=Kl(du,Yo),{connecting:S,clickConnecting:k}=Kl(((e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n||i?.nodeId===e&&i?.handleId===t&&i?.type===n,clickConnecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n}})(b,g,n),Yo);b||y.getState().onError?.("010",Vl());const E=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=y.getState(),o={...t,...e};if(r){const{edges:e,setEdges:t}=y.getState();t(Yc(o,e))}n?.(o),u?.(o)},_=e=>{if(!b)return;const t=gc(e);s&&(t&&0===e.button||!t)&&cu({event:e,handleId:g,nodeId:b,onConnect:E,isTarget:v,getState:y.getState,setState:y.setState,isValidConnection:i||y.getState().isValidConnection||uu}),t?f?.(e):p?.(e)};return r.createElement("div",{"data-handleid":g,"data-nodeid":b,"data-handlepos":o,"data-id":`${b}-${g}-${n}`,className:Lo(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",x,h,{source:!v,target:v,connectable:a,connectablestart:s,connectableend:l,connecting:k,connectionindicator:a&&(s&&!S||l&&S)}]),onMouseDown:_,onTouchStart:_,onClick:w?e=>{const{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:o,connectionMode:a,isValidConnection:l}=y.getState();if(!b||!o&&!s)return;if(!o)return t?.(e,{nodeId:b,handleId:g,handleType:n}),void y.setState({connectionClickStartHandle:{nodeId:b,type:n,handleId:g}});const c=ic(e.target),u=i||l||uu,{connection:d,isValid:h}=iu({nodeId:b,id:g,type:n},a,o.nodeId,o.handleId||null,o.type,u,c);h&&E(d),r?.(e),y.setState({connectionClickStartHandle:null})}:void 0,ref:t,...m},d)});hu.displayName="Handle";var fu=(0,r.memo)(hu);const pu=e=>{let{data:t,isConnectable:n,targetPosition:o=jc.Top,sourcePosition:i=jc.Bottom}=e;return r.createElement(r.Fragment,null,r.createElement(fu,{type:"target",position:o,isConnectable:n}),t?.label,r.createElement(fu,{type:"source",position:i,isConnectable:n}))};pu.displayName="DefaultNode";var mu=(0,r.memo)(pu);const gu=e=>{let{data:t,isConnectable:n,sourcePosition:o=jc.Bottom}=e;return r.createElement(r.Fragment,null,t?.label,r.createElement(fu,{type:"source",position:o,isConnectable:n}))};gu.displayName="InputNode";var vu=(0,r.memo)(gu);const yu=e=>{let{data:t,isConnectable:n,targetPosition:o=jc.Top}=e;return r.createElement(r.Fragment,null,r.createElement(fu,{type:"target",position:o,isConnectable:n}),t?.label)};yu.displayName="OutputNode";var bu=(0,r.memo)(yu);const wu=()=>null;wu.displayName="GroupNode";const xu=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),Su=e=>e.id;function ku(e,t){return Yo(e.selectedNodes.map(Su),t.selectedNodes.map(Su))&&Yo(e.selectedEdges.map(Su),t.selectedEdges.map(Su))}const Eu=(0,r.memo)(e=>{let{onSelectionChange:t}=e;const n=Xl(),{selectedNodes:o,selectedEdges:i}=Kl(xu,ku);return(0,r.useEffect)(()=>{const e={nodes:o,edges:i};t?.(e),n.getState().onSelectionChange.forEach(t=>t(e))},[o,i,t]),null});Eu.displayName="SelectionListener";const _u=e=>!!e.onSelectionChange;function Cu(e){let{onSelectionChange:t}=e;const n=Kl(_u);return t||n?r.createElement(Eu,{onSelectionChange:t}):null}const Nu=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ju(e,t){(0,r.useEffect)(()=>{"undefined"!==typeof e&&t(e)},[e])}function Ou(e,t,n){(0,r.useEffect)(()=>{"undefined"!==typeof t&&n({[e]:t})},[t])}const Pu=e=>{let{nodes:t,edges:n,defaultNodes:o,defaultEdges:i,onConnect:a,onConnectStart:s,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:h,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:v,maxZoom:y,nodeExtent:b,onNodesChange:w,onEdgesChange:x,elementsSelectable:S,connectionMode:k,snapGrid:E,snapToGrid:_,translateExtent:C,connectOnClick:N,defaultEdgeOptions:j,fitView:O,fitViewOptions:P,onNodesDelete:M,onEdgesDelete:T,onNodeDrag:R,onNodeDragStart:A,onNodeDragStop:I,onSelectionDrag:D,onSelectionDragStart:z,onSelectionDragStop:L,noPanClassName:$,nodeOrigin:B,rfId:H,autoPanOnConnect:U,autoPanOnNodeDrag:F,onError:V,connectionRadius:W,isValidConnection:q,nodeDragThreshold:Y}=e;const{setNodes:K,setEdges:X,setDefaultNodesAndEdges:Z,setMinZoom:G,setMaxZoom:J,setTranslateExtent:Q,setNodeExtent:ee,reset:te}=Kl(Nu,Yo),ne=Xl();return(0,r.useEffect)(()=>{const e=i?.map(e=>({...e,...j}));return Z(o,e),()=>{te()}},[]),Ou("defaultEdgeOptions",j,ne.setState),Ou("connectionMode",k,ne.setState),Ou("onConnect",a,ne.setState),Ou("onConnectStart",s,ne.setState),Ou("onConnectEnd",l,ne.setState),Ou("onClickConnectStart",c,ne.setState),Ou("onClickConnectEnd",u,ne.setState),Ou("nodesDraggable",d,ne.setState),Ou("nodesConnectable",h,ne.setState),Ou("nodesFocusable",f,ne.setState),Ou("edgesFocusable",p,ne.setState),Ou("edgesUpdatable",m,ne.setState),Ou("elementsSelectable",S,ne.setState),Ou("elevateNodesOnSelect",g,ne.setState),Ou("snapToGrid",_,ne.setState),Ou("snapGrid",E,ne.setState),Ou("onNodesChange",w,ne.setState),Ou("onEdgesChange",x,ne.setState),Ou("connectOnClick",N,ne.setState),Ou("fitViewOnInit",O,ne.setState),Ou("fitViewOnInitOptions",P,ne.setState),Ou("onNodesDelete",M,ne.setState),Ou("onEdgesDelete",T,ne.setState),Ou("onNodeDrag",R,ne.setState),Ou("onNodeDragStart",A,ne.setState),Ou("onNodeDragStop",I,ne.setState),Ou("onSelectionDrag",D,ne.setState),Ou("onSelectionDragStart",z,ne.setState),Ou("onSelectionDragStop",L,ne.setState),Ou("noPanClassName",$,ne.setState),Ou("nodeOrigin",B,ne.setState),Ou("rfId",H,ne.setState),Ou("autoPanOnConnect",U,ne.setState),Ou("autoPanOnNodeDrag",F,ne.setState),Ou("onError",V,ne.setState),Ou("connectionRadius",W,ne.setState),Ou("isValidConnection",q,ne.setState),Ou("nodeDragThreshold",Y,ne.setState),ju(t,K),ju(n,X),ju(v,G),ju(y,J),ju(C,Q),ju(b,ee),null},Mu={display:"none"},Tu={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ru="react-flow__node-desc",Au="react-flow__edge-desc",Iu=e=>e.ariaLiveMessage;function Du(e){let{rfId:t}=e;const n=Kl(Iu);return r.createElement("div",{id:`react-flow__aria-live-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Tu},n)}function zu(e){let{rfId:t,disableKeyboardA11y:n}=e;return r.createElement(r.Fragment,null,r.createElement("div",{id:`${Ru}-${t}`,style:Mu},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),r.createElement("div",{id:`${Au}-${t}`,style:Mu},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&r.createElement(Du,{rfId:t}))}var Lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[n,o]=(0,r.useState)(!1),i=(0,r.useRef)(!1),a=(0,r.useRef)(new Set([])),[s,l]=(0,r.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,r.useEffect)(()=>{const n="undefined"!==typeof document?document:null,r=t?.target||n;if(null!==e){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!i.current||i.current&&!t.actInsideInputWithModifier)&&mc(e))return!1;const n=Bu(e.code,l);a.current.add(e[n]),$u(s,a.current,!1)&&(e.preventDefault(),o(!0))},n=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&mc(e))return!1;const n=Bu(e.code,l);$u(s,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(e[n]),"Meta"===e.key&&a.current.clear(),i.current=!1},c=()=>{a.current.clear(),o(!1)};return r?.addEventListener("keydown",e),r?.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{r?.removeEventListener("keydown",e),r?.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}},[e,o]),n};function $u(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function Bu(e,t){return t.includes(e)?"code":"key"}function Hu(e,t,n,r){const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),a=Zc(i,r);return Hu(i,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(i[hc]?.z??0)>(n.z??0)?i[hc]?.z??0:n.z??0},r)}function Uu(e,t,n){e.forEach(r=>{const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n?.[r.id]){const{x:o,y:i,z:a}=Hu(r,e,{...r.position,z:r[hc]?.z??0},t);r.positionAbsolute={x:o,y:i},r[hc].z=a,n?.[r.id]&&(r[hc].isParent=!0)}})}function Fu(e,t,n,r){const o=new Map,i={},a=r?1e3:0;return e.forEach(e=>{const n=(dc(e.zIndex)?e.zIndex:0)+(e.selected?a:0),r=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(i[l]=!0);const c=r?.type&&r?.type!==e.type;Object.defineProperty(s,hc,{enumerable:!1,value:{handleBounds:c?void 0:r?.[hc]?.handleBounds,z:n}}),o.set(e.id,s)}),Uu(o,n,i),o}function Vu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),h=t.initial&&!c&&u;if(s&&l&&(h||!t.initial)){const e=n().filter(e=>{const n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some(t=>t.id===e.id):n}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){const n=Gc(e,d),{x:c,y:u,zoom:h}=eu(n,r,o,t.minZoom??i,t.maxZoom??a,t.padding??.1),f=bl.translate(c,u).scale(h);return"number"===typeof t.duration&&t.duration>0?s.transform(tu(l,t.duration),f):s.transform(l,f),!0}}return!1}function Wu(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[hc]:n[hc],selected:e.selected})}),new Map(t)}function qu(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function Yu(e){let{changedNodes:t,changedEdges:n,get:r,set:o}=e;const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();t?.length&&(c&&o({nodeInternals:Wu(t,i)}),s?.(t)),n?.length&&(u&&o({edges:qu(n,a)}),l?.(n))}const Ku=()=>{},Xu={zoomIn:Ku,zoomOut:Ku,zoomTo:Ku,getZoom:()=>1,setViewport:Ku,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ku,fitBounds:Ku,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Zu=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function Gu(){const e=(()=>{const e=Xl(),{d3Zoom:t,d3Selection:n}=Kl(Zu,Yo),o=(0,r.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(tu(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(tu(n,e?.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(tu(n,r?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,o)=>{const[i,a,s]=e.getState().transform,l=bl.translate(r.x??i,r.y??a).scale(r.zoom??s);t.transform(tu(n,o?.duration),l)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>Vu(e.getState,t),setCenter:(r,o,i)=>{const{width:a,height:s,maxZoom:l}=e.getState(),c="undefined"!==typeof i?.zoom?i.zoom:l,u=a/2-r*c,d=s/2-o*c,h=bl.translate(u,d).scale(c);t.transform(tu(n,i?.duration),h)},fitBounds:(r,o)=>{const{width:i,height:a,minZoom:s,maxZoom:l}=e.getState(),{x:c,y:u,zoom:d}=eu(r,i,a,s,l,o?.padding??.1),h=bl.translate(c,u).scale(d);t.transform(tu(n,o?.duration),h)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Kc(t,n,r,o)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:a,y:s}=i.getBoundingClientRect(),l={x:t.x-a,y:t.y-s};return Kc(l,n,r,o)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),a=Xc(t,n);return{x:a.x+o,y:a.y+i}},viewportInitialized:!0}:Xu,[t,n]);return o})(),t=Xl(),n=(0,r.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),o=(0,r.useCallback)(e=>t.getState().nodeInternals.get(e),[]),i=(0,r.useCallback)(()=>{const{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),a=(0,r.useCallback)(e=>{const{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),s=(0,r.useCallback)(e=>{const{getNodes:n,setNodes:r,hasDefaultNodes:o,onNodesChange:i}=t.getState(),a=n(),s="function"===typeof e?e(a):e;if(o)r(s);else if(i){const e=0===s.length?a.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"}));i(e)}},[]),l=(0,r.useCallback)(e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i}=t.getState(),a="function"===typeof e?e(n):e;if(o)r(a);else if(i){i(0===a.length?n.map(e=>({type:"remove",id:e.id})):a.map(e=>({item:e,type:"reset"})))}},[]),c=(0,r.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:i,onNodesChange:a}=t.getState();if(i){o([...r(),...n])}else if(a){const e=n.map(e=>({item:e,type:"add"}));a(e)}},[]),u=(0,r.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:a}=t.getState();if(i)o([...r,...n]);else if(a){a(n.map(e=>({item:e,type:"add"})))}},[]),d=(0,r.useCallback)(()=>{const{getNodes:e,edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},[]),h=(0,r.useCallback)(e=>{let{nodes:n,edges:r}=e;const{nodeInternals:o,getNodes:i,edges:a,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:h}=t.getState(),f=(n||[]).map(e=>e.id),p=(r||[]).map(e=>e.id),m=i().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!f.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(f.includes(t.id)||r)&&e.push(t),e},[]),g=a.filter(e=>"boolean"!==typeof e.deletable||e.deletable),v=g.filter(e=>p.includes(e.id));if(m||v){const e=Qc(m,g),n=[...v,...e],r=n.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||s)&&(l&&t.setState({edges:a.filter(e=>!r.includes(e.id))}),s&&(m.forEach(e=>{o.delete(e.id)}),t.setState({nodeInternals:new Map(o)}))),r.length>0&&(u?.(n),h&&h(r.map(e=>({id:e,type:"remove"})))),m.length>0&&(c?.(m),d)){d(m.map(e=>({id:e.id,type:"remove"})))}}},[]),f=(0,r.useCallback)(e=>{const n=dc((r=e).width)&&dc(r.height)&&dc(r.x)&&dc(r.y);var r;const o=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!o)return[null,null,n];return[n?e:cc(o),o,n]},[]),p=(0,r.useCallback)(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[o,i,a]=f(e);return o?(r||t.getState().getNodes()).filter(e=>{if(!a&&(e.id===i.id||!e.positionAbsolute))return!1;const t=cc(e),r=uc(t,o);return n&&r>0||r>=o.width*o.height}):[]},[]),m=(0,r.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=f(e);if(!r)return!1;const o=uc(r,t);return n&&o>0||o>=r.width*r.height},[]);return(0,r.useMemo)(()=>({...e,getNodes:n,getNode:o,getEdges:i,getEdge:a,setNodes:s,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,o,i,a,s,l,c,u,d,h,p,m])}const Ju={actInsideInputWithModifier:!1};const Qu={position:"absolute",width:"100%",height:"100%",top:0,left:0},ed=e=>({x:e.x,y:e.y,zoom:e.k}),td=(e,t)=>e.target.closest(`.${t}`),nd=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),rd=e=>{const t=e.ctrlKey&&yc()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},od=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),id=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:o,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=Ec.Free,zoomOnDoubleClick:d=!0,elementsSelectable:h,panOnDrag:f=!0,defaultViewport:p,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:b=!0,children:w,noWheelClassName:x,noPanClassName:S}=e;const k=(0,r.useRef)(),E=Xl(),_=(0,r.useRef)(!1),C=(0,r.useRef)(!1),N=(0,r.useRef)(null),j=(0,r.useRef)({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:P,d3ZoomHandler:M,userSelectionActive:T}=Kl(od,Yo),R=Lu(y),A=(0,r.useRef)(0),I=(0,r.useRef)(!1),D=(0,r.useRef)();return function(e){const t=Xl();(0,r.useEffect)(()=>{let n;const r=()=>{if(!e.current)return;const n=ec(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",$l()),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(N),(0,r.useEffect)(()=>{if(N.current){const e=N.current.getBoundingClientRect(),t=jl().scaleExtent([g,v]).translateExtent(m),n=fa(N.current).call(t),r=bl.translate(p.x,p.y).scale(tc(p.zoom,g,v)),o=[[0,0],[e.width,e.height]],i=t.constrain()(r,o,m);t.transform(n,i),t.wheelDelta(rd),E.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:N.current.closest(".react-flow")})}},[]),(0,r.useEffect)(()=>{P&&O&&(!l||R||T?"undefined"!==typeof M&&P.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||td(e,x))return null;e.preventDefault(),M.call(this,e,t)},{passive:!1}):P.on("wheel.zoom",e=>{if(td(e,x))return!1;e.preventDefault(),e.stopImmediatePropagation();const r=P.property("__zoom").k||1;if(e.ctrlKey&&s){const t=Sa(e),n=rd(e),o=r*Math.pow(2,n);return void O.scaleTo(P,o,t,e)}const i=1===e.deltaMode?20:1;let a=u===Ec.Vertical?0:e.deltaX*i,l=u===Ec.Horizontal?0:e.deltaY*i;!yc()&&e.shiftKey&&u!==Ec.Vertical&&(a=e.deltaY*i,l=0),O.translateBy(P,-a/r*c,-l/r*c,{internal:!0});const d=ed(P.property("__zoom")),{onViewportChangeStart:h,onViewportChange:f,onViewportChangeEnd:p}=E.getState();clearTimeout(D.current),I.current||(I.current=!0,n?.(e,d),h?.(d)),I.current&&(t?.(e,d),f?.(d),D.current=setTimeout(()=>{o?.(e,d),p?.(d),I.current=!1},150))},{passive:!1}))},[T,l,u,P,O,M,R,s,b,x,n,t,o]),(0,r.useEffect)(()=>{O&&O.on("start",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;A.current=e.sourceEvent?.button;const{onViewportChangeStart:t}=E.getState(),r=ed(e.transform);_.current=!0,j.current=r,"mousedown"===e.sourceEvent?.type&&E.setState({paneDragging:!0}),t?.(r),n?.(e.sourceEvent,r)})},[O,n]),(0,r.useEffect)(()=>{O&&(T&&!_.current?O.on("zoom",null):T||O.on("zoom",e=>{const{onViewportChange:n}=E.getState();if(E.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),C.current=!(!i||!nd(f,A.current??0)),(t||n)&&!e.sourceEvent?.internal){const r=ed(e.transform);n?.(r),t?.(e.sourceEvent,r)}}))},[T,O,t,f,i]),(0,r.useEffect)(()=>{O&&O.on("end",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=E.getState();if(_.current=!1,E.setState({paneDragging:!1}),i&&nd(f,A.current??0)&&!C.current&&i(e.sourceEvent),C.current=!1,(o||t)&&(n=j.current,r=e.transform,n.x!==r.x||n.y!==r.y||n.zoom!==r.k)){const n=ed(e.transform);j.current=n,clearTimeout(k.current),k.current=setTimeout(()=>{t?.(n),o?.(e.sourceEvent,n)},l?150:0)}var n,r})},[O,l,f,o,i]),(0,r.useEffect)(()=>{O&&O.filter(e=>{const t=R||a,n=s&&e.ctrlKey;if((!0===f||Array.isArray(f)&&f.includes(1))&&1===e.button&&"mousedown"===e.type&&(td(e,"react-flow__node")||td(e,"react-flow__edge")))return!0;if(!f&&!t&&!l&&!d&&!s)return!1;if(T)return!1;if(!d&&"dblclick"===e.type)return!1;if(td(e,x)&&"wheel"===e.type)return!1;if(td(e,S)&&("wheel"!==e.type||l&&"wheel"===e.type&&!R))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!f&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(f)&&!f.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(f)&&f.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[T,O,a,s,l,d,f,h,R]),r.createElement("div",{className:"react-flow__renderer",ref:N,style:Qu},w)},ad=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sd(){const{userSelectionActive:e,userSelectionRect:t}=Kl(ad,Yo);return e&&t?r.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ld(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(r.style={...r.style}||{},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function cd(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const o={...n};for(const e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(o.position=e.position),"undefined"!==typeof e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(o.dragging=e.dragging),o.expandParent&&ld(t,o);break;case"dimensions":"undefined"!==typeof e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(o.style={...o.style||{},...e.dimensions}),"boolean"===typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&ld(t,o);break;case"remove":return t}return t.push(o),t},n)}function ud(e,t){return cd(e,t)}const dd=(e,t)=>({id:e,type:"select",selected:t});function hd(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(dd(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(dd(n.id,!1))),e},[])}const fd=(e,t)=>n=>{n.target===t.current&&e?.(n)},pd=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),md=(0,r.memo)(e=>{let{isSelecting:t,selectionMode:n=_c.Full,panOnDrag:o,onSelectionStart:i,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:f}=e;const p=(0,r.useRef)(null),m=Xl(),g=(0,r.useRef)(0),v=(0,r.useRef)(0),y=(0,r.useRef)(),{userSelectionActive:b,elementsSelectable:w,dragging:x}=Kl(pd,Yo),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,v.current=0},k=e=>{s?.(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},E=c?e=>c(e):void 0,_=w&&(t||b);return r.createElement("div",{className:Lo(["react-flow__pane",{dragging:x,selection:t}]),onClick:_?void 0:fd(k,p),onContextMenu:fd(e=>{Array.isArray(o)&&o?.includes(2)?e.preventDefault():l?.(e)},p),onWheel:fd(E,p),onMouseEnter:_?void 0:u,onMouseDown:_?e=>{const{resetSelectedElements:n,domNode:r}=m.getState();if(y.current=r?.getBoundingClientRect(),!w||!t||0!==e.button||e.target!==p.current||!y.current)return;const{x:o,y:a}=vc(e,y.current);n(),m.setState({userSelectionRect:{width:0,height:0,startX:o,startY:a,x:o,y:a}}),i?.(e)}:void 0,onMouseMove:_?e=>{const{userSelectionRect:r,nodeInternals:o,edges:i,transform:a,onNodesChange:s,onEdgesChange:l,nodeOrigin:c,getNodes:u}=m.getState();if(!t||!y.current||!r)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const d=vc(e,y.current),h=r.startX??0,f=r.startY??0,p={...r,x:d.x<h?d.x:h,y:d.y<f?d.y:f,width:Math.abs(d.x-h),height:Math.abs(d.y-f)},b=u(),w=Jc(o,p,a,n===_c.Partial,!0,c),x=Qc(w,i).map(e=>e.id),S=w.map(e=>e.id);if(g.current!==S.length){g.current=S.length;const e=hd(b,S);e.length&&s?.(e)}if(v.current!==x.length){v.current=x.length;const e=hd(i,x);e.length&&l?.(e)}m.setState({userSelectionRect:p})}:d,onMouseUp:_?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!b&&t&&e.target===p.current&&k?.(e),m.setState({nodesSelectionActive:g.current>0}),S(),a?.(e)}:void 0,onMouseLeave:_?e=>{b&&(m.setState({nodesSelectionActive:g.current>0}),a?.(e)),S()}:h,ref:p,style:Qu},f,r.createElement(sd,null))});function gd(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||gd(r,t))}function vd(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function yd(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!gd(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(e.positionAbsolute?.x??0),y:n.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}))}function bd(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0;const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let s=a;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:i}=Zc(t,o).positionAbsolute;s=[[e.extent[0][0]+r,e.extent[0][1]+i],[e.extent[1][0]+r,e.extent[1][1]+i]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:i}=Zc(t,o).positionAbsolute;s=t&&dc(r)&&dc(i)&&dc(t.width)&&dc(t.height)?[[r+e.width*o[0],i+e.height*o[1]],[r+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:s}else i?.("005",Bl()),s=a;let c={x:0,y:0};if(l){const e=n.get(l);c=Zc(e,o).positionAbsolute}const u=s&&"parent"!==s?nc(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function wd(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const o=n.map(e=>({...r.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[t?o.find(e=>e.id===t):o[0],o]}md.displayName="Pane";const xd=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),a=t.getBoundingClientRect(),s=a.width*r[0],l=a.height*r[1];return i.map(e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s)/n,y:(t.top-a.top-l)/n,...ec(e)}})};function Sd(e,t,n){return void 0===n?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function kd(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):i([t])):c?.("012",ql(t))}function Ed(e){return(t,n,r)=>e?.(t,r)}function _d(e){let{nodeRef:t,disabled:n=!1,noDragClassName:o,handleSelector:i,nodeId:a,isSelectable:s,selectNodesOnDrag:l}=e;const c=Xl(),[u,d]=(0,r.useState)(!1),h=(0,r.useRef)([]),f=(0,r.useRef)({x:null,y:null}),p=(0,r.useRef)(0),m=(0,r.useRef)(null),g=(0,r.useRef)({x:0,y:0}),v=(0,r.useRef)(null),y=(0,r.useRef)(!1),b=(0,r.useRef)(!1),w=(0,r.useRef)(!1),x=function(){const e=Xl(),t=(0,r.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:o,snapToGrid:i}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:i?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:i?o[1]*Math.round(l.y/o[1]):l.y,...l}},[]);return t}();return(0,r.useEffect)(()=>{if(t?.current){const e=fa(t.current),r=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:o,onSelectionDrag:i,updateNodePositions:s,nodeExtent:l,snapGrid:u,snapToGrid:p,nodeOrigin:m,onError:g}=c.getState();f.current={x:t,y:n};let y=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=Gc(h.current,m);b=sc(e)}if(h.current=h.current.map(e=>{const o={x:t-e.distance.x,y:n-e.distance.y};p&&(o.x=u[0]*Math.round(o.x/u[0]),o.y=u[1]*Math.round(o.y/u[1]));const i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];h.current.length>1&&l&&!e.extent&&(i[0][0]=e.positionAbsolute.x-b.x+l[0][0],i[1][0]=e.positionAbsolute.x+(e.width??0)-b.x2+l[1][0],i[0][1]=e.positionAbsolute.y-b.y+l[0][1],i[1][1]=e.positionAbsolute.y+(e.height??0)-b.y2+l[1][1]);const a=bd(e,o,r,i,m,g);return y=y||e.position.x!==a.position.x||e.position.y!==a.position.y,e.position=a.position,e.positionAbsolute=a.positionAbsolute,e}),!y)return;s(h.current,!0,!0),d(!0);const w=a?o:Ed(i);if(w&&v.current){const[e,t]=wd({nodeId:a,dragItems:h.current,nodeInternals:r});w(v.current,e,t)}},u=()=>{if(!m.current)return;const[e,t]=oc(g.current,m.current);if(0!==e||0!==t){const{transform:n,panBy:o}=c.getState();f.current.x=(f.current.x??0)-e/n[2],f.current.y=(f.current.y??0)-t/n[2],o({x:e,y:t})&&r(f.current)}p.current=requestAnimationFrame(u)},S=e=>{const{nodeInternals:n,multiSelectionActive:r,nodesDraggable:o,unselectNodesAndEdges:i,onNodeDragStart:u,onSelectionDragStart:d}=c.getState();b.current=!0;const p=a?u:Ed(d);l&&s||r||!a||n.get(a)?.selected||i(),a&&s&&l&&kd({id:a,store:c,nodeRef:t});const m=x(e);if(f.current=m,h.current=yd(n,o,m,a),p&&h.current){const[t,r]=wd({nodeId:a,dragItems:h.current,nodeInternals:n});p(e.sourceEvent,t,r)}};if(!n){const n=Il().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&S(e),w.current=!1;const r=x(e);f.current=r,m.current=t?.getBoundingClientRect()||null,g.current=vc(e.sourceEvent,m.current)}).on("drag",e=>{const t=x(e),{autoPanOnNodeDrag:n,nodeDragThreshold:o}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!y.current&&b.current&&n&&(y.current=!0,u()),!b.current){const n=t.xSnapped-(f?.current?.x??0),r=t.ySnapped-(f?.current?.y??0);Math.sqrt(n*n+r*r)>o&&S(e)}(f.current.x!==t.xSnapped||f.current.y!==t.ySnapped)&&h.current&&b.current&&(v.current=e.sourceEvent,g.current=vc(e.sourceEvent,m.current),r(t))}}).on("end",e=>{if(b.current&&!w.current&&(d(!1),y.current=!1,b.current=!1,cancelAnimationFrame(p.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=c.getState(),i=a?r:Ed(o);if(t(h.current,!1,!1),i){const[t,r]=wd({nodeId:a,dragItems:h.current,nodeInternals:n});i(e.sourceEvent,t,r)}}}).filter(e=>{const n=e.target;return!e.button&&(!o||!vd(n,`.${o}`,t))&&(!i||vd(n,i,t))});return e.call(n),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[t,n,o,i,s,c,a,l,x]),u}function Cd(){const e=Xl();return(0,r.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:s,onError:l,nodesDraggable:c}=e.getState(),u=i().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),d=a?s[0]:5,h=a?s[1]:5,f=t.isShiftPressed?4:1,p=t.x*d*f,m=t.y*h*f;o(u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:o,position:i}=bd(e,t,n,r,void 0,l);e.position=i,e.positionAbsolute=o}return e}),!0,!1)},[])}const Nd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var jd=e=>{const t=t=>{let{id:n,type:o,data:i,xPos:a,yPos:s,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:v,className:y,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:S,selectNodesOnDrag:k,sourcePosition:E,targetPosition:_,hidden:C,resizeObserver:N,dragHandle:j,zIndex:O,isParent:P,noDragClassName:M,noPanClassName:T,initialized:R,disableKeyboardA11y:A,ariaLabel:I,rfId:D,hasHandleBounds:z}=t;const L=Xl(),$=(0,r.useRef)(null),B=(0,r.useRef)(null),H=(0,r.useRef)(E),U=(0,r.useRef)(_),F=(0,r.useRef)(o),V=w||b||d||h||f||p,W=Cd(),q=Sd(n,L.getState,h),Y=Sd(n,L.getState,f),K=Sd(n,L.getState,p),X=Sd(n,L.getState,m),Z=Sd(n,L.getState,g);(0,r.useEffect)(()=>()=>{B.current&&(N?.unobserve(B.current),B.current=null)},[]),(0,r.useEffect)(()=>{if($.current&&!C){const e=$.current;R&&z&&B.current===e||(B.current&&N?.unobserve(B.current),N?.observe(e),B.current=e)}},[C,R,z]),(0,r.useEffect)(()=>{const e=F.current!==o,t=H.current!==E,r=U.current!==_;$.current&&(e||t||r)&&(e&&(F.current=o),t&&(H.current=E),r&&(U.current=_),L.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,o,E,_]);const G=_d({nodeRef:$,disabled:C||!b,noDragClassName:M,handleSelector:j,nodeId:n,isSelectable:w,selectNodesOnDrag:k});return C?null:r.createElement("div",{className:Lo(["react-flow__node",`react-flow__node-${o}`,{[T]:b},y,{selected:u,selectable:w,parent:P,dragging:G}]),ref:$,style:{zIndex:O,transform:`translate(${l}px,${c}px)`,pointerEvents:V?"all":"none",visibility:R?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:q,onMouseMove:Y,onMouseLeave:K,onContextMenu:X,onClick:e=>{const{nodeDragThreshold:t}=L.getState();if(w&&(!k||!b||t>0)&&kd({id:n,store:L,nodeRef:$}),d){const t=L.getState().nodeInternals.get(n);t&&d(e,{...t})}},onDoubleClick:Z,onKeyDown:S?e=>{if(!mc(e)&&!A)if(fc.includes(e.key)&&w){const t="Escape"===e.key;kd({id:n,store:L,unselect:t,nodeRef:$})}else b&&u&&Object.prototype.hasOwnProperty.call(Nd,e.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~s}`}),W({x:Nd[e.key].x,y:Nd[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":A?void 0:`${Ru}-${D}`,"aria-label":I},r.createElement(Vc,{value:n},r.createElement(e,{id:n,data:i,type:o,xPos:a,yPos:s,selected:u,isConnectable:x,sourcePosition:E,targetPosition:_,dragging:G,dragHandle:j,zIndex:O})))};return t.displayName="NodeWrapper",(0,r.memo)(t)};const Od=e=>{const t=e.getNodes().filter(e=>e.selected);return{...Gc(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var Pd=(0,r.memo)(function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:o}=e;const i=Xl(),{width:a,height:s,x:l,y:c,transformString:u,userSelectionActive:d}=Kl(Od,Yo),h=Cd(),f=(0,r.useRef)(null);if((0,r.useEffect)(()=>{o||f.current?.focus({preventScroll:!0})},[o]),_d({nodeRef:f}),d||!a||!s)return null;const p=t?e=>{const n=i.getState().getNodes().filter(e=>e.selected);t(e,n)}:void 0;return r.createElement("div",{className:Lo(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},r.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(Nd,e.key)&&h({x:Nd[e.key].x,y:Nd[e.key].y,isShiftPressed:e.shiftKey})},style:{width:a,height:s,top:c,left:l}}))});const Md=e=>e.nodesSelectionActive,Td=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:h,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:_,panOnScrollMode:C,zoomOnDoubleClick:N,panOnDrag:j,defaultViewport:O,translateExtent:P,minZoom:M,maxZoom:T,preventScrolling:R,onSelectionContextMenu:A,noWheelClassName:I,noPanClassName:D,disableKeyboardA11y:z}=e;const L=Kl(Md),$=Lu(f),B=Lu(b),H=B||j,U=B||E,F=$||p&&!0!==H;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const o=Xl(),{deleteElements:i}=Gu(),a=Lu(t,Ju),s=Lu(n);(0,r.useEffect)(()=>{if(a){const{edges:e,getNodes:t}=o.getState(),n=t().filter(e=>e.selected),r=e.filter(e=>e.selected);i({nodes:n,edges:r}),o.setState({nodesSelectionActive:!1})}},[a]),(0,r.useEffect)(()=>{o.setState({multiSelectionActive:s})},[s])})({deleteKeyCode:c,multiSelectionKeyCode:y}),r.createElement(id,{onMove:u,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:U,panOnScrollSpeed:_,panOnScrollMode:C,zoomOnDoubleClick:N,panOnDrag:!$&&H,defaultViewport:O,translateExtent:P,minZoom:M,maxZoom:T,zoomActivationKeyCode:w,preventScrolling:R,noWheelClassName:I,noPanClassName:D},r.createElement(md,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:H,isSelecting:!!F,selectionMode:m},t,L&&r.createElement(Pd,{onSelectionContextMenu:A,noPanClassName:D,disableKeyboardA11y:z})))};Td.displayName="FlowRenderer";var Rd=(0,r.memo)(Td);function Ad(e){return{...{input:jd(e.input||vu),default:jd(e.default||mu),output:jd(e.output||bu),group:jd(e.group||wu)},...Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=jd(e[n]||mu),t),{})}}const Id=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Dd=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Kl(Id,Yo),l=(c=e.onlyRenderVisibleElements,Kl((0,r.useCallback)(e=>c?Jc(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[c])));var c;const u=(0,r.useRef)(),d=(0,r.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));a(t)});return u.current=e,e},[]);return(0,r.useEffect)(()=>()=>{u?.current?.disconnect()},[]),r.createElement("div",{className:"react-flow__nodes",style:Qu},l.map(a=>{let l=a.type||"default";e.nodeTypes[l]||(s?.("003",Ll(l)),l="default");const c=e.nodeTypes[l]||e.nodeTypes.default,u=!!(a.draggable||t&&"undefined"===typeof a.draggable),h=!!(a.selectable||i&&"undefined"===typeof a.selectable),f=!!(a.connectable||n&&"undefined"===typeof a.connectable),p=!!(a.focusable||o&&"undefined"===typeof a.focusable),m=e.nodeExtent?nc(a.positionAbsolute,e.nodeExtent):a.positionAbsolute,g=m?.x??0,v=m?.y??0,y=(e=>{let{x:t,y:n,width:r,height:o,origin:i}=e;return r&&o?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-r*i[0],y:n-o*i[1]}:{x:t,y:n}})({x:g,y:v,width:a.width??0,height:a.height??0,origin:e.nodeOrigin});return r.createElement(c,{key:a.id,id:a.id,className:a.className,style:a.style,type:l,data:a.data,sourcePosition:a.sourcePosition||jc.Bottom,targetPosition:a.targetPosition||jc.Top,hidden:a.hidden,xPos:g,yPos:v,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!a.selected,isDraggable:u,isSelectable:h,isConnectable:f,isFocusable:p,resizeObserver:d,dragHandle:a.dragHandle,zIndex:a[hc]?.z??0,isParent:!!a[hc]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!a.width&&!!a.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!!a[hc]?.handleBounds})}))};Dd.displayName="NodeRenderer";var zd=(0,r.memo)(Dd);const Ld=(e,t,n)=>n===jc.Left?e-t:n===jc.Right?e+t:e,$d=(e,t,n)=>n===jc.Top?e-t:n===jc.Bottom?e+t:e,Bd="react-flow__edgeupdater",Hd=e=>{let{position:t,centerX:n,centerY:o,radius:i=10,onMouseDown:a,onMouseEnter:s,onMouseOut:l,type:c}=e;return r.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:l,className:Lo([Bd,`${Bd}-${c}`]),cx:Ld(n,i,t),cy:$d(o,i,t),r:i,stroke:"transparent",fill:"transparent"})},Ud=()=>!0;var Fd=e=>{const t=t=>{let{id:n,className:o,type:i,data:a,onClick:s,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:v,source:y,target:b,sourceX:w,sourceY:x,targetX:S,targetY:k,sourcePosition:E,targetPosition:_,elementsSelectable:C,hidden:N,sourceHandleId:j,targetHandleId:O,onContextMenu:P,onMouseEnter:M,onMouseMove:T,onMouseLeave:R,reconnectRadius:A,onReconnect:I,onReconnectStart:D,onReconnectEnd:z,markerEnd:L,markerStart:$,rfId:B,ariaLabel:H,isFocusable:U,isReconnectable:F,pathOptions:V,interactionWidth:W,disableKeyboardA11y:q}=t;const Y=(0,r.useRef)(null),[K,X]=(0,r.useState)(!1),[Z,G]=(0,r.useState)(!1),J=Xl(),Q=(0,r.useMemo)(()=>`url('#${qc($,B)}')`,[$,B]),ee=(0,r.useMemo)(()=>`url('#${qc(L,B)}')`,[L,B]);if(N)return null;const te=wc(n,J.getState,l),ne=wc(n,J.getState,P),re=wc(n,J.getState,M),oe=wc(n,J.getState,T),ie=wc(n,J.getState,R),ae=(e,t)=>{if(0!==e.button)return;const{edges:r,isValidConnection:o}=J.getState(),i=t?b:y,a=(t?O:j)||null,s=t?"target":"source",l=o||Ud,c=t,u=r.find(e=>e.id===n);G(!0),D?.(e,u,s);cu({event:e,handleId:a,nodeId:i,onConnect:e=>I?.(u,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{G(!1),z?.(e,u,s)}})},se=()=>X(!0),le=()=>X(!1),ce=!C&&!s;return r.createElement("g",{className:Lo(["react-flow__edge",`react-flow__edge-${i}`,o,{selected:c,animated:u,inactive:ce,updating:K}]),onClick:e=>{const{edges:t,addSelectedEdges:r,unselectNodesAndEdges:o,multiSelectionActive:i}=J.getState(),a=t.find(e=>e.id===n);a&&(C&&(J.setState({nodesSelectionActive:!1}),a.selected&&i?(o({nodes:[],edges:[a]}),Y.current?.blur()):r([n])),s&&s(e,a))},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:oe,onMouseLeave:ie,onKeyDown:U?e=>{if(!q&&fc.includes(e.key)&&C){const{unselectNodesAndEdges:t,addSelectedEdges:r,edges:o}=J.getState();"Escape"===e.key?(Y.current?.blur(),t({edges:[o.find(e=>e.id===n)]})):r([n])}}:void 0,tabIndex:U?0:void 0,role:U?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":null===H?void 0:H||`Edge from ${y} to ${b}`,"aria-describedby":U?`${Au}-${B}`:void 0,ref:Y},!Z&&r.createElement(e,{id:n,source:y,target:b,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:a,style:v,sourceX:w,sourceY:x,targetX:S,targetY:k,sourcePosition:E,targetPosition:_,sourceHandleId:j,targetHandleId:O,markerStart:Q,markerEnd:ee,pathOptions:V,interactionWidth:W}),F&&r.createElement(r.Fragment,null,("source"===F||!0===F)&&r.createElement(Hd,{position:E,centerX:w,centerY:x,radius:A,onMouseDown:e=>ae(e,!0),onMouseEnter:se,onMouseOut:le,type:"source"}),("target"===F||!0===F)&&r.createElement(Hd,{position:_,centerX:S,centerY:k,radius:A,onMouseDown:e=>ae(e,!1),onMouseEnter:se,onMouseOut:le,type:"target"})))};return t.displayName="EdgeWrapper",(0,r.memo)(t)};function Vd(e){return{...{default:Fd(e.default||Uc),straight:Fd(e.bezier||Lc),step:Fd(e.step||zc),smoothstep:Fd(e.step||Dc),simplebezier:Fd(e.simplebezier||Mc)},...Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=Fd(e[n]||Uc),t),{})}}function Wd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=(n?.x||0)+t.x,o=(n?.y||0)+t.y,i=n?.width||t.width,a=n?.height||t.height;switch(e){case jc.Top:return{x:r+i/2,y:o};case jc.Right:return{x:r+i,y:o+a/2};case jc.Bottom:return{x:r+i/2,y:o+a};case jc.Left:return{x:r,y:o+a/2}}}function qd(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function Yd(e){const t=e?.[hc]?.handleBounds||null,n=t&&e?.width&&e?.height&&"undefined"!==typeof e?.positionAbsolute?.x&&"undefined"!==typeof e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const Kd=[{level:0,isMaxLevel:!0,edges:[]}];function Xd(e,t,n){const o=Kl((0,r.useCallback)(n=>e?n.edges.filter(e=>{const r=t.get(e.source),o=t.get(e.target);return r?.width&&r?.height&&o?.width&&o?.height&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:i,targetHeight:a,width:s,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+i),y2:Math.max(t.y+o,n.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=sc({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const o=e.reduce((e,o)=>{const i=dc(o.zIndex);let a=i?o.zIndex:0;if(n){const e=t.get(o.target),n=t.get(o.source),r=o.selected||e?.selected||n?.selected,s=Math.max(n?.[hc]?.z||0,e?.[hc]?.z||0,1e3);a=(i?o.zIndex:0)+(r?s:0)}return e[a]?e[a].push(o):e[a]=[o],r=a>r?a:r,e},{}),i=Object.entries(o).map(e=>{let[t,n]=e;const o=+t;return{edges:n,level:o,isMaxLevel:o===r}});return 0===i.length?Kd:i}(o,t,n)}const Zd={[Nc.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return r.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[Nc.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return r.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Gd=e=>{let{id:t,type:n,color:o,width:i=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const u=function(e){const t=Xl();return(0,r.useMemo)(()=>Object.prototype.hasOwnProperty.call(Zd,e)?Zd[e]:(t.getState().onError?.("009",Ul(e)),null),[e])}(n);return u?r.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},r.createElement(u,{color:o,strokeWidth:l})):null},Jd=e=>{let{defaultColor:t,rfId:n}=e;const o=Kl((0,r.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce((e,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o&&"object"===typeof o){const i=qc(o,n);r.includes(i)||(e.push({id:i,color:o.color||t,...o}),r.push(i))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:t,rfId:n}),[t,n]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return r.createElement("defs",null,o.map(e=>r.createElement(Gd,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};Jd.displayName="MarkerDefinitions";var Qd=(0,r.memo)(Jd);const eh=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),th=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:o,rfId:i,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,children:y,disableKeyboardA11y:b}=e;const{edgesFocusable:w,edgesUpdatable:x,elementsSelectable:S,width:k,height:E,connectionMode:_,nodeInternals:C,onError:N}=Kl(eh,Yo),j=Xd(n,C,o);return k?r.createElement(r.Fragment,null,j.map(e=>{let{level:n,edges:o,isMaxLevel:y}=e;return r.createElement("svg",{key:n,style:{zIndex:n},width:k,height:E,className:"react-flow__edges react-flow__container"},y&&r.createElement(Qd,{defaultColor:t,rfId:i}),r.createElement("g",null,o.map(e=>{const[t,n,o]=Yd(C.get(e.source)),[y,k,E]=Yd(C.get(e.target));if(!o||!E)return null;let j=e.type||"default";a[j]||(N?.("011",Wl(j)),j="default");const O=a[j]||a.default,P=_===kc.Strict?k.target:(k.target??[]).concat(k.source??[]),M=qd(n.source,e.sourceHandle),T=qd(P,e.targetHandle),R=M?.position||jc.Bottom,A=T?.position||jc.Top,I=!!(e.focusable||w&&"undefined"===typeof e.focusable),D=e.reconnectable||e.updatable,z="undefined"!==typeof p&&(D||x&&"undefined"===typeof D);if(!M||!T)return N?.("008",Fl(M,e)),null;const{sourceX:L,sourceY:$,targetX:B,targetY:H}=((e,t,n,r,o,i)=>{const a=Wd(n,e,t),s=Wd(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(t,M,R,y,T,A);return r.createElement(O,{key:e.id,id:e.id,className:Lo([e.className,s]),type:j,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:L,sourceY:$,targetX:B,targetY:H,sourcePosition:R,targetPosition:A,elementsSelectable:S,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:h,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,rfId:i,ariaLabel:e.ariaLabel,isFocusable:I,isReconnectable:z,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:b})})))}),y):null};th.displayName="EdgeRenderer";var nh=(0,r.memo)(th);const rh=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function oh(e){let{children:t}=e;const n=Kl(rh);return r.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}const ih={[jc.Left]:jc.Right,[jc.Right]:jc.Left,[jc.Top]:jc.Bottom,[jc.Bottom]:jc.Top},ah=e=>{let{nodeId:t,handleType:n,style:o,type:i=Cc.Bezier,CustomComponent:a,connectionStatus:s}=e;const{fromNode:l,handleId:c,toX:u,toY:d,connectionMode:h}=Kl((0,r.useCallback)(e=>({fromNode:e.nodeInternals.get(t),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[t]),Yo),f=l?.[hc]?.handleBounds;let p=f?.[n];if(h===kc.Loose&&(p=p||f?.["source"===n?"target":"source"]),!l||!p)return null;const m=c?p.find(e=>e.id===c):p[0],g=m?m.x+m.width/2:(l.width??0)/2,v=m?m.y+m.height/2:l.height??0,y=(l.positionAbsolute?.x??0)+g,b=(l.positionAbsolute?.y??0)+v,w=m?.position,x=w?ih[w]:null;if(!w||!x)return null;if(a)return r.createElement(a,{connectionLineType:i,connectionLineStyle:o,fromNode:l,fromHandle:m,fromX:y,fromY:b,toX:u,toY:d,fromPosition:w,toPosition:x,connectionStatus:s});let S="";const k={sourceX:y,sourceY:b,sourcePosition:w,targetX:u,targetY:d,targetPosition:x};return i===Cc.Bezier?[S]=Hc(k):i===Cc.Step?[S]=Ic({...k,borderRadius:0}):i===Cc.SmoothStep?[S]=Ic(k):i===Cc.SimpleBezier?[S]=Pc(k):S=`M${y},${b} ${u},${d}`,r.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:o})};ah.displayName="ConnectionLine";const sh=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function lh(e){let{containerStyle:t,style:n,type:o,component:i}=e;const{nodeId:a,handleType:s,nodesConnectable:l,width:c,height:u,connectionStatus:d}=Kl(sh,Yo);return!!(a&&s&&c&&l)?r.createElement("svg",{style:t,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},r.createElement("g",{className:Lo(["react-flow__connection",d])},r.createElement(ah,{nodeId:a,handleType:s,style:n,type:o,CustomComponent:i,connectionStatus:d}))):null}function ch(e,t){(0,r.useRef)(null),Xl();return(0,r.useMemo)(()=>t(e),[e])}const uh=e=>{let{nodeTypes:t,edgeTypes:n,onMove:o,onMoveStart:i,onMoveEnd:a,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:S,selectionKeyCode:k,selectionOnDrag:E,selectionMode:_,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:j,deleteKeyCode:O,onlyRenderVisibleElements:P,elementsSelectable:M,selectNodesOnDrag:T,defaultViewport:R,translateExtent:A,minZoom:I,maxZoom:D,preventScrolling:z,defaultMarkerColor:L,zoomOnScroll:$,zoomOnPinch:B,panOnScroll:H,panOnScrollSpeed:U,panOnScrollMode:F,zoomOnDoubleClick:V,panOnDrag:W,onPaneClick:q,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:X,onPaneScroll:Z,onPaneContextMenu:G,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ie,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:fe}=e;const pe=ch(t,Ad),me=ch(n,Vd);return function(e){const t=Gu(),n=(0,r.useRef)(!1);(0,r.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(s),r.createElement(Rd,{onPaneClick:q,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:X,onPaneContextMenu:G,onPaneScroll:Z,deleteKeyCode:O,selectionKeyCode:k,selectionOnDrag:E,selectionMode:_,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:N,zoomActivationKeyCode:j,elementsSelectable:M,onMove:o,onMoveStart:i,onMoveEnd:a,zoomOnScroll:$,zoomOnPinch:B,zoomOnDoubleClick:V,panOnScroll:H,panOnScrollSpeed:U,panOnScrollMode:F,panOnDrag:W,defaultViewport:R,translateExtent:A,minZoom:I,maxZoom:D,onSelectionContextMenu:g,preventScrolling:z,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue},r.createElement(oh,null,r.createElement(nh,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:P,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ie,defaultMarkerColor:L,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:fe},r.createElement(lh,{style:w,type:b,component:x,containerStyle:S})),r.createElement("div",{className:"react-flow__edgelabel-renderer"}),r.createElement(zd,{nodeTypes:pe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:P,noPanClassName:le,noDragClassName:ae,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:fe})))};uh.displayName="GraphView";var dh=(0,r.memo)(uh);const hh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],fh={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:hh,nodeExtent:hh,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:kc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:pc,isValidConnection:void 0},ph=()=>{return e=(e,t)=>({...fh,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Fu(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{const o="undefined"!==typeof n,i="undefined"!==typeof r,a=o?Fu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l?.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((e,t)=>{const n=o.get(t.id);if(n?.hidden)o.set(n.id,{...n,[hc]:{...n[hc],handleBounds:void 0}});else if(n){const r=ec(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,{...n,[hc]:{...n[hc],handleBounds:{source:xd(".source",t.nodeElement,h,c),target:xd(".target",t.nodeElement,h,c)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);Uu(o,c);const p=a||i&&!a&&Vu(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:p}),f?.length>0&&r?.(f)},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:o}=t(),i=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});o(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(n?.length){if(i){const t=Fu(ud(n,s()),o,a,l);e({nodeInternals:t})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map(e=>dd(e,!0)):(a=hd(i(),n),s=hd(o,[])),Yu({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map(e=>dd(e,!0)):(a=hd(o,n),s=hd(i(),[])),Yu({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:o,getNodes:i}=t(),a=r||o;Yu({changedNodes:(n||i()).map(e=>(e.selected=!1,dd(e.id,!1))),changedEdges:a.map(e=>dd(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r?.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r?.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t();Yu({changedNodes:r().filter(e=>e.selected).map(e=>dd(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>dd(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=nc(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:o,d3Zoom:i,d3Selection:a,translateExtent:s}=t();if(!i||!a||!e.x&&!e.y)return!1;const l=bl.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,o]],u=i?.constrain()(l,c,s);return i.transform(a,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:fh.connectionNodeId,connectionHandleId:fh.connectionHandleId,connectionHandleType:fh.connectionHandleType,connectionStatus:fh.connectionStatus,connectionStartHandle:fh.connectionStartHandle,connectionEndHandle:fh.connectionEndHandle}),reset:()=>e({...fh})}),t=Object.is,e?qo(e,t):qo;var e,t},mh=e=>{let{children:t}=e;const n=(0,r.useRef)(null);return n.current||(n.current=ph()),r.createElement(zl,{value:n.current},t)};mh.displayName="ReactFlowProvider";const gh=e=>{let{children:t}=e;return(0,r.useContext)(Dl)?r.createElement(r.Fragment,null,t):r.createElement(mh,null,t)};gh.displayName="ReactFlowWrapper";const vh={input:vu,default:mu,output:bu,group:wu},yh={default:Uc,straight:Lc,step:zc,smoothstep:Dc,simplebezier:Mc},bh=[0,0],wh=[15,15],xh={x:0,y:0,zoom:1},Sh={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},kh=(0,r.forwardRef)((e,t)=>{let{nodes:n,edges:o,defaultNodes:i,defaultEdges:a,className:s,nodeTypes:l=vh,edgeTypes:c=yh,onNodeClick:u,onEdgeClick:d,onInit:h,onMove:f,onMoveStart:p,onMoveEnd:m,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:w,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:E,onNodeDoubleClick:_,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:j,onNodesDelete:O,onEdgesDelete:P,onSelectionChange:M,onSelectionDragStart:T,onSelectionDrag:R,onSelectionDragStop:A,onSelectionContextMenu:I,onSelectionStart:D,onSelectionEnd:z,connectionMode:L=kc.Strict,connectionLineType:$=Cc.Bezier,connectionLineStyle:B,connectionLineComponent:H,connectionLineContainerStyle:U,deleteKeyCode:F="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:W=!1,selectionMode:q=_c.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:K=(yc()?"Meta":"Control"),zoomActivationKeyCode:X=(yc()?"Meta":"Control"),snapToGrid:Z=!1,snapGrid:G=wh,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:Q=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:re=bh,edgesFocusable:oe,edgesUpdatable:ie,elementsSelectable:ae,defaultViewport:se=xh,minZoom:le=.5,maxZoom:ce=2,translateExtent:ue=hh,preventScrolling:de=!0,nodeExtent:he,defaultMarkerColor:fe="#b1b1b7",zoomOnScroll:pe=!0,zoomOnPinch:me=!0,panOnScroll:ge=!1,panOnScrollSpeed:ve=.5,panOnScrollMode:ye=Ec.Free,zoomOnDoubleClick:be=!0,panOnDrag:we=!0,onPaneClick:xe,onPaneMouseEnter:Se,onPaneMouseMove:ke,onPaneMouseLeave:Ee,onPaneScroll:_e,onPaneContextMenu:Ce,children:Ne,onEdgeContextMenu:je,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Pe,onEdgeMouseMove:Me,onEdgeMouseLeave:Te,onEdgeUpdate:Re,onEdgeUpdateStart:Ae,onEdgeUpdateEnd:Ie,onReconnect:De,onReconnectStart:ze,onReconnectEnd:Le,reconnectRadius:$e=10,edgeUpdaterRadius:Be=10,onNodesChange:He,onEdgesChange:Ue,noDragClassName:Fe="nodrag",noWheelClassName:Ve="nowheel",noPanClassName:We="nopan",fitView:qe=!1,fitViewOptions:Ye,connectOnClick:Ke=!0,attributionPosition:Xe,proOptions:Ze,defaultEdgeOptions:Ge,elevateNodesOnSelect:Je=!0,elevateEdgesOnSelect:Qe=!1,disableKeyboardA11y:et=!1,autoPanOnConnect:tt=!0,autoPanOnNodeDrag:nt=!0,connectionRadius:rt=20,isValidConnection:ot,onError:it,style:at,id:st,nodeDragThreshold:lt,...ct}=e;const ut=st||"1";return r.createElement("div",{...ct,style:{...at,...Sh},ref:t,className:Lo(["react-flow",s]),"data-testid":"rf__wrapper",id:st},r.createElement(gh,null,r.createElement(dh,{onInit:h,onMove:f,onMoveStart:p,onMoveEnd:m,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:E,onNodeDoubleClick:_,nodeTypes:l,edgeTypes:c,connectionLineType:$,connectionLineStyle:B,connectionLineComponent:H,connectionLineContainerStyle:U,selectionKeyCode:V,selectionOnDrag:W,selectionMode:q,deleteKeyCode:F,multiSelectionKeyCode:K,panActivationKeyCode:Y,zoomActivationKeyCode:X,onlyRenderVisibleElements:J,selectNodesOnDrag:Q,defaultViewport:se,translateExtent:ue,minZoom:le,maxZoom:ce,preventScrolling:de,zoomOnScroll:pe,zoomOnPinch:me,zoomOnDoubleClick:be,panOnScroll:ge,panOnScrollSpeed:ve,panOnScrollMode:ye,panOnDrag:we,onPaneClick:xe,onPaneMouseEnter:Se,onPaneMouseMove:ke,onPaneMouseLeave:Ee,onPaneScroll:_e,onPaneContextMenu:Ce,onSelectionContextMenu:I,onSelectionStart:D,onSelectionEnd:z,onEdgeContextMenu:je,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Pe,onEdgeMouseMove:Me,onEdgeMouseLeave:Te,onReconnect:De??Re,onReconnectStart:ze??Ae,onReconnectEnd:Le??Ie,reconnectRadius:$e??Be,defaultMarkerColor:fe,noDragClassName:Fe,noWheelClassName:Ve,noPanClassName:We,elevateEdgesOnSelect:Qe,rfId:ut,disableKeyboardA11y:et,nodeOrigin:re,nodeExtent:he}),r.createElement(Pu,{nodes:n,edges:o,defaultNodes:i,defaultEdges:a,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:w,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:oe,edgesUpdatable:ie,elementsSelectable:ae,elevateNodesOnSelect:Je,minZoom:le,maxZoom:ce,nodeExtent:he,onNodesChange:He,onEdgesChange:Ue,snapToGrid:Z,snapGrid:G,connectionMode:L,translateExtent:ue,connectOnClick:Ke,defaultEdgeOptions:Ge,fitView:qe,fitViewOptions:Ye,onNodesDelete:O,onEdgesDelete:P,onNodeDragStart:C,onNodeDrag:N,onNodeDragStop:j,onSelectionDrag:R,onSelectionDragStart:T,onSelectionDragStop:A,noPanClassName:We,nodeOrigin:re,rfId:ut,autoPanOnConnect:tt,autoPanOnNodeDrag:nt,onError:it,connectionRadius:rt,isValidConnection:ot,nodeDragThreshold:lt}),r.createElement(Cu,{onSelectionChange:M}),Ne,r.createElement(Jl,{proOptions:Ze,position:Xe}),r.createElement(zu,{rfId:ut,disableKeyboardA11y:et})))});kh.displayName="ReactFlow";function Eh(e){return t=>{const[n,o]=(0,r.useState)(t),i=(0,r.useCallback)(t=>o(n=>e(t,n)),[]);return[n,o,i]}}const _h=Eh(ud),Ch=Eh(function(e,t){return cd(e,t)});function Nh(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function jh(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},r.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Oh(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},r.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Ph(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Mh(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Th=e=>{let{children:t,className:n,...o}=e;return r.createElement("button",{type:"button",className:Lo(["react-flow__controls-button",n]),...o},t)};Th.displayName="ControlButton";const Rh=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Ah=e=>{let{style:t,showZoom:n=!0,showFitView:o=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:h,position:f="bottom-left"}=e;const p=Xl(),[m,g]=(0,r.useState)(!1),{isInteractive:v,minZoomReached:y,maxZoomReached:b}=Kl(Rh,Yo),{zoomIn:w,zoomOut:x,fitView:S}=Gu();if((0,r.useEffect)(()=>{g(!0)},[]),!m)return null;return r.createElement(Gl,{className:Lo(["react-flow__controls",d]),position:f,style:t,"data-testid":"rf__controls"},n&&r.createElement(r.Fragment,null,r.createElement(Th,{onClick:()=>{w(),s?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},r.createElement(Nh,null)),r.createElement(Th,{onClick:()=>{x(),l?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},r.createElement(jh,null))),o&&r.createElement(Th,{className:"react-flow__controls-fitview",onClick:()=>{S(a),c?.()},title:"fit view","aria-label":"fit view"},r.createElement(Oh,null)),i&&r.createElement(Th,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),u?.(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?r.createElement(Mh,null):r.createElement(Ph,null)),h)};Ah.displayName="Controls";var Ih,Dh=(0,r.memo)(Ah);function zh(e){let{color:t,dimensions:n,lineWidth:o}=e;return r.createElement("path",{stroke:t,strokeWidth:o,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function Lh(e){let{color:t,radius:n}=e;return r.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Ih||(Ih={}));const $h={[Ih.Dots]:"#91919a",[Ih.Lines]:"#eee",[Ih.Cross]:"#e2e2e2"},Bh={[Ih.Dots]:1,[Ih.Lines]:1,[Ih.Cross]:6},Hh=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Uh(e){let{id:t,variant:n=Ih.Dots,gap:o=20,size:i,lineWidth:a=1,offset:s=2,color:l,style:c,className:u}=e;const d=(0,r.useRef)(null),{transform:h,patternId:f}=Kl(Hh,Yo),p=l||$h[n],m=i||Bh[n],g=n===Ih.Dots,v=n===Ih.Cross,y=Array.isArray(o)?o:[o,o],b=[y[0]*h[2]||1,y[1]*h[2]||1],w=m*h[2],x=v?[w,w]:b,S=g?[w/s,w/s]:[x[0]/s,x[1]/s];return r.createElement("svg",{className:Lo(["react-flow__background",u]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},r.createElement("pattern",{id:f+t,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},g?r.createElement(Lh,{color:p,radius:w/s}):r.createElement(zh,{dimensions:x,color:p,lineWidth:a})),r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+t})`}))}Uh.displayName="Background";var Fh=(0,r.memo)(Uh);const Vh=e=>{let{data:t,selected:n,onClick:r}=e;return(0,Eo.jsxs)("div",{className:"relative "+(n?"ring-2 ring-blue-500":""),children:[(0,Eo.jsx)(fu,{type:"target",position:jc.Top,className:"w-2 h-2 sm:w-3 sm:h-3 bg-gray-400 border-2 border-white"}),(0,Eo.jsx)("button",{onClick:r,type:"button",className:`\n          node-button bg-white border-2 border-gray-300 rounded-lg shadow-md p-2 sm:p-3\n          min-w-[140px] sm:min-w-[160px] md:min-w-[180px] max-w-[140px] sm:max-w-[160px] md:max-w-[180px] transition-all duration-200\n          hover:shadow-lg hover:border-blue-400 hover:scale-105\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n          cursor-pointer select-none\n          ${n?"border-blue-500 shadow-lg":""}\n        `,children:(0,Eo.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,Eo.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl mb-1",children:t.icon}),(0,Eo.jsx)("h3",{className:"font-semibold text-gray-900 text-xs sm:text-sm leading-tight mb-1",children:t.label}),(0,Eo.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:"Haz clic para m\xe1s info"})]})}),(0,Eo.jsx)(fu,{type:"source",position:jc.Bottom,className:"w-2 h-2 sm:w-3 sm:h-3 bg-gray-400 border-2 border-white"})]})},Wh=(e,t,n)=>{const o=(0,r.useCallback)(()=>e.map(e=>({...e,position:{...e.position}})),[e,t]);return(0,r.useEffect)(()=>{if(e.length>0&&t.length>0){const e=o();n(e)}},[e.length,t.length,o,n]),{getLayoutedElements:o}},qh=[{id:"termodinamica",type:"custom",position:{x:0,y:0},data:{label:"Termodin\xe1mica",description:"Ciencia que estudia las transformaciones de energ\xeda en sistemas f\xedsicos",link:"/termodinamica",icon:"\ud83d\udd25"}},{id:"sistemas",type:"custom",position:{x:-200,y:-150},data:{label:"Sistemas",description:"Sistemas termodin\xe1micos y sus propiedades fundamentales",link:"/sistemas",icon:"\u2699\ufe0f"}},{id:"primera-ley",type:"custom",position:{x:200,y:-150},data:{label:"Primera Ley",description:"Conservaci\xf3n de la energ\xeda en sistemas termodin\xe1micos",link:"/primera-ley",icon:"\u26a1"}},{id:"segunda-ley",type:"custom",position:{x:200,y:150},data:{label:"Segunda Ley",description:"Entrop\xeda y espontaneidad de los procesos",link:"/segunda-ley",icon:"\ud83d\udd04"}},{id:"energia-gibbs",type:"custom",position:{x:-200,y:150},data:{label:"Energ\xeda de Gibbs",description:"Criterio de espontaneidad para reacciones qu\xedmicas",link:"/energia-gibbs",icon:"\u2696\ufe0f"}},{id:"equilibrio",type:"custom",position:{x:0,y:-250},data:{label:"Equilibrio",description:"Estados de equilibrio termodin\xe1mico",link:"/equilibrio",icon:"\u2696\ufe0f"}},{id:"sistema-abierto",type:"custom",position:{x:-350,y:-250},data:{label:"Sistema Abierto",description:"Intercambia materia y energ\xeda con el entorno",link:"/sistema-abierto",icon:"\ud83d\udd04"}},{id:"sistema-cerrado",type:"custom",position:{x:-350,y:-50},data:{label:"Sistema Cerrado",description:"Solo intercambia energ\xeda, no materia",link:"/sistema-cerrado",icon:"\ud83d\udd12"}},{id:"sistema-aislado",type:"custom",position:{x:-350,y:150},data:{label:"Sistema Aislado",description:"No intercambia ni materia ni energ\xeda",link:"/sistema-aislado",icon:"\ud83d\udee1\ufe0f"}},{id:"energia-interna",type:"custom",position:{x:350,y:-250},data:{label:"Energ\xeda Interna",description:"Energ\xeda total del sistema termodin\xe1mico",link:"/energia-interna",icon:"\ud83d\udd0b"}},{id:"trabajo",type:"custom",position:{x:350,y:-50},data:{label:"Trabajo",description:"Transferencia de energ\xeda por fuerzas mec\xe1nicas",link:"/trabajo",icon:"\ud83d\udcaa"}},{id:"calor",type:"custom",position:{x:350,y:150},data:{label:"Calor",description:"Transferencia de energ\xeda por diferencia de temperatura",link:"/calor",icon:"\ud83c\udf21\ufe0f"}},{id:"entropia",type:"custom",position:{x:350,y:250},data:{label:"Entrop\xeda",description:"Medida del desorden molecular del sistema",link:"/entropia",icon:"\ud83d\udcc8"}},{id:"espontaneidad",type:"custom",position:{x:200,y:300},data:{label:"Espontaneidad",description:"Criterios para reacciones espont\xe1neas",link:"/espontaneidad",icon:"\ud83c\udfaf"}},{id:"delta-g",type:"custom",position:{x:-350,y:250},data:{label:"\u0394G = \u0394H - T\u0394S",description:"Ecuaci\xf3n fundamental de la energ\xeda libre de Gibbs",link:"/delta-g",icon:"\ud83e\uddee"}},{id:"aplicaciones-metalurgicas",type:"custom",position:{x:-200,y:300},data:{label:"Aplicaciones Metal\xfargicas",description:"Uso de termodin\xe1mica en procesos metal\xfargicos",link:"/aplicaciones-metalurgicas",icon:"\ud83c\udfed"}},{id:"equilibrio-quimico",type:"custom",position:{x:-100,y:-400},data:{label:"Equilibrio Qu\xedmico",description:"Reacciones qu\xedmicas en estado de equilibrio",link:"/equilibrio-quimico",icon:"\ud83e\uddea"}},{id:"equilibrio-fase",type:"custom",position:{x:100,y:-400},data:{label:"Equilibrio de Fases",description:"Coexistencia de diferentes fases en equilibrio",link:"/equilibrio-fase",icon:"\u2744\ufe0f"}}],Yh=[{id:"termodinamica-sistemas",source:"termodinamica",target:"sistemas",type:"default",animated:!0,style:{stroke:"#3B82F6",strokeWidth:3}},{id:"termodinamica-primera-ley",source:"termodinamica",target:"primera-ley",type:"default",animated:!0,style:{stroke:"#3B82F6",strokeWidth:3}},{id:"termodinamica-segunda-ley",source:"termodinamica",target:"segunda-ley",type:"default",animated:!0,style:{stroke:"#3B82F6",strokeWidth:3}},{id:"termodinamica-energia-gibbs",source:"termodinamica",target:"energia-gibbs",type:"default",animated:!0,style:{stroke:"#3B82F6",strokeWidth:3}},{id:"termodinamica-equilibrio",source:"termodinamica",target:"equilibrio",type:"default",animated:!0,style:{stroke:"#3B82F6",strokeWidth:3}},{id:"sistemas-sistema-abierto",source:"sistemas",target:"sistema-abierto",type:"default",animated:!0,style:{stroke:"#10B981",strokeWidth:2}},{id:"sistemas-sistema-cerrado",source:"sistemas",target:"sistema-cerrado",type:"default",animated:!0,style:{stroke:"#10B981",strokeWidth:2}},{id:"sistemas-sistema-aislado",source:"sistemas",target:"sistema-aislado",type:"default",animated:!0,style:{stroke:"#10B981",strokeWidth:2}},{id:"primera-ley-energia-interna",source:"primera-ley",target:"energia-interna",type:"default",animated:!0,style:{stroke:"#F59E0B",strokeWidth:2}},{id:"primera-ley-trabajo",source:"primera-ley",target:"trabajo",type:"default",animated:!0,style:{stroke:"#F59E0B",strokeWidth:2}},{id:"primera-ley-calor",source:"primera-ley",target:"calor",type:"default",animated:!0,style:{stroke:"#F59E0B",strokeWidth:2}},{id:"segunda-ley-entropia",source:"segunda-ley",target:"entropia",type:"default",animated:!0,style:{stroke:"#EF4444",strokeWidth:2}},{id:"segunda-ley-espontaneidad",source:"segunda-ley",target:"espontaneidad",type:"default",animated:!0,style:{stroke:"#EF4444",strokeWidth:2}},{id:"energia-gibbs-delta-g",source:"energia-gibbs",target:"delta-g",type:"default",animated:!0,style:{stroke:"#8B5CF6",strokeWidth:2}},{id:"energia-gibbs-aplicaciones-metalurgicas",source:"energia-gibbs",target:"aplicaciones-metalurgicas",type:"default",animated:!0,style:{stroke:"#8B5CF6",strokeWidth:2}},{id:"equilibrio-equilibrio-quimico",source:"equilibrio",target:"equilibrio-quimico",type:"default",animated:!0,style:{stroke:"#06B6D4",strokeWidth:2}},{id:"equilibrio-equilibrio-fase",source:"equilibrio",target:"equilibrio-fase",type:"default",animated:!0,style:{stroke:"#06B6D4",strokeWidth:2}}],Kh={custom:e=>(0,Eo.jsx)(Vh,{...e,onClick:()=>e.data.onNodeClick(e.id)})};function Xh(e){let{node:t,onClose:n}=e;if(!t)return null;const r={"termodinamica-basica":{title:"Termodin\xe1mica B\xe1sica",description:"La termodin\xe1mica es la rama de la f\xedsica que estudia las relaciones entre el calor, la energ\xeda y el trabajo. En ingenier\xeda metal\xfargica, es fundamental para entender los procesos de transformaci\xf3n de materiales, las reacciones qu\xedmicas y los cambios de fase que ocurren durante la extracci\xf3n y refinaci\xf3n de metales. Esta disciplina proporciona las herramientas matem\xe1ticas y conceptuales necesarias para analizar y optimizar los procesos industriales.",freeResources:[{type:"art\xedculo",title:"Introducci\xf3n a la Termodin\xe1mica",url:"#"},{type:"video",title:"Primera Ley de la Termodin\xe1mica",url:"#"},{type:"art\xedculo",title:"Segunda Ley de la Termodin\xe1mica",url:"#"},{type:"video",title:"Termodin\xe1mica en 5 minutos",url:"#"},{type:"libro",title:"Fundamentos de Termodin\xe1mica Metal\xfargica",url:"#"}],premiumResources:[{type:"curso",title:"Termodin\xe1mica Avanzada para Metalurgia",discount:"20%",url:"#"},{type:"curso",title:"Aplicaciones Termodin\xe1micas en Procesos Metal\xfargicos",discount:"15%",url:"#"}]},entalpia:{title:"Entalp\xeda",description:"La entalp\xeda es una propiedad termodin\xe1mica que representa la cantidad total de energ\xeda contenida en un sistema. En metalurgia, es crucial para calcular el calor necesario en procesos como la fundici\xf3n, el refinamiento y las reacciones qu\xedmicas que ocurren durante la extracci\xf3n de metales. Esta propiedad permite determinar la energ\xeda requerida para transformar los materiales y optimizar los procesos industriales de manera eficiente.",freeResources:[{type:"art\xedculo",title:"\xbfQu\xe9 es la Entalp\xeda?",url:"#"},{type:"video",title:"C\xe1lculo de Entalp\xeda en Reacciones Qu\xedmicas",url:"#"},{type:"art\xedculo",title:"Entalp\xeda en Procesos Metal\xfargicos",url:"#"},{type:"libro",title:"Entalp\xeda y Transformaciones de Fase",url:"#"}],premiumResources:[{type:"curso",title:"Entalp\xeda y Procesos Metal\xfargicos",discount:"25%",url:"#"}]},entropia:{title:"Entrop\xeda",description:"La entrop\xeda es una medida del desorden o aleatoriedad en un sistema. En metalurgia, ayuda a entender la espontaneidad de las reacciones qu\xedmicas y la direcci\xf3n de los procesos de transformaci\xf3n de materiales. Esta propiedad termodin\xe1mica es fundamental para predecir si una reacci\xf3n ocurrir\xe1 espont\xe1neamente y determinar las condiciones \xf3ptimas para los procesos industriales.",freeResources:[{type:"art\xedculo",title:"Concepto de Entrop\xeda",url:"#"},{type:"video",title:"Entrop\xeda en Reacciones Qu\xedmicas",url:"#"},{type:"art\xedculo",title:"Entrop\xeda y Espontaneidad",url:"#"},{type:"libro",title:"Entrop\xeda en Sistemas Metal\xfargicos",url:"#"}],premiumResources:[{type:"curso",title:"Entrop\xeda en Ingenier\xeda Metal\xfargica",discount:"20%",url:"#"}]}}[t.id]||{title:t.data.label,description:"La termodin\xe1mica es fundamental en ingenier\xeda metal\xfargica para entender los procesos de transformaci\xf3n de materiales. Esta disciplina estudia las relaciones entre calor, energ\xeda y trabajo, proporcionando las herramientas necesarias para analizar y optimizar procesos industriales complejos.",freeResources:[{type:"art\xedculo",title:"Recurso gratuito 1",url:"#"},{type:"video",title:"Video explicativo",url:"#"},{type:"libro",title:"Libro de referencia",url:"#"}],premiumResources:[{type:"curso",title:"Curso premium",discount:"20%",url:"#"}]};return(0,Eo.jsxs)(Eo.Fragment,{children:[(0,Eo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[200] transition-opacity duration-300",onClick:n}),(0,Eo.jsxs)("div",{className:"fixed top-0 right-0 h-screen w-full sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-2/5 bg-white z-[210] shadow-2xl transform transition-transform duration-300 ease-in-out flex flex-col",children:[(0,Eo.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 md:p-6 border-b border-gray-200",children:[(0,Eo.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,Eo.jsx)("span",{className:"text-xl sm:text-2xl md:text-3xl",children:t.data.icon}),(0,Eo.jsx)("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 truncate",children:r.title})]}),(0,Eo.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 sm:p-2",children:(0,Eo.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Eo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Eo.jsx)("div",{className:"flex-1 p-3 sm:p-4 md:p-6 overflow-y-auto",children:(0,Eo.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[(0,Eo.jsx)("div",{children:(0,Eo.jsx)("p",{className:"text-xs sm:text-sm md:text-base text-black leading-relaxed",children:r.description})}),(0,Eo.jsxs)("div",{children:[(0,Eo.jsxs)("div",{className:"relative mb-3 sm:mb-4",children:[(0,Eo.jsx)("div",{className:"absolute top-1/2 left-0 right-0 border-t border-green-500"}),(0,Eo.jsx)("div",{className:"text-left pl-3 sm:pl-4",children:(0,Eo.jsxs)("h4",{className:"text-xs sm:text-sm font-semibold text-green-700 border border-green-500 rounded-lg px-2 sm:px-3 py-1 bg-white inline-block relative z-10",children:[(0,Eo.jsx)("svg",{className:"inline w-3 h-3 mr-1 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Eo.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"Recursos gratuitos"]})})]}),(0,Eo.jsx)("div",{className:"space-y-1",children:r.freeResources.map((e,t)=>(0,Eo.jsxs)("div",{className:"flex items-center",children:[(0,Eo.jsx)("a",{href:e.url,className:"text-xs sm:text-sm font-semibold px-2 py-1 rounded mr-2 sm:mr-3 transition-colors hover:opacity-80 "+("art\xedculo"===e.type?"bg-yellow-500 text-black":"video"===e.type?"bg-purple-500 text-black":"libro"===e.type?"bg-blue-500 text-black":"bg-gray-500 text-black"),children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,Eo.jsx)("a",{href:e.url,className:"text-gray-700 text-xs sm:text-sm md:text-base font-medium truncate hover:text-blue-600 transition-colors pr-2 sm:pr-4 underline decoration-gray-600 hover:decoration-blue-700",children:e.title})]},t))})]}),(0,Eo.jsxs)("div",{children:[(0,Eo.jsxs)("div",{className:"relative mb-3 sm:mb-4",children:[(0,Eo.jsx)("div",{className:"absolute top-1/2 left-0 right-0 border-t border-purple-500"}),(0,Eo.jsx)("div",{className:"text-left pl-3 sm:pl-4",children:(0,Eo.jsxs)("h4",{className:"text-xs sm:text-sm font-semibold text-purple-700 border border-purple-500 rounded-lg px-2 sm:px-3 py-1 bg-white inline-block relative z-10",children:[(0,Eo.jsx)("svg",{className:"inline w-3 h-3 mr-1 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Eo.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"Recursos premium"]})})]}),(0,Eo.jsx)("div",{className:"text-center py-3 sm:py-4",children:(0,Eo.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"Muy pronto"})})]})]})})]})]})}function Zh(){const{fitView:e}=Gu();return(0,r.useEffect)(()=>{const t=setTimeout(()=>{e({padding:.2,includeHiddenNodes:!1,duration:800})},100);return()=>clearTimeout(t)},[e]),null}const Gh=()=>{const[e,t,n]=_h(qh),[o,i,a]=Ch(Yh.map(e=>({...e,markerEnd:{type:Nc.ArrowClosed}}))),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),{user:d}=No(),h=ne(),f=e.map(e=>({...e,data:{...e.data,onNodeClick:e=>l(e)}}));Wh(e,o,t);const p=(0,r.useCallback)(e=>i(t=>Yc(e,t)),[i]),m=e.find(e=>e.id===s);return(0,Eo.jsxs)("div",{className:"w-full h-full relative",children:[(0,Eo.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Eo.jsx)("button",{onClick:()=>{d?h("/edit/termodinamica"):u(!0)},className:"px-4 py-2 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105 bg-blue-500 hover:bg-blue-600 text-white",children:(0,Eo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Eo.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Eo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,Eo.jsx)("span",{className:"text-sm font-medium",children:"Editar"})]})})}),(0,Eo.jsx)("div",{className:"h-full",children:(0,Eo.jsxs)(kh,{nodes:f,edges:o,onNodesChange:n,onEdgesChange:a,onConnect:p,nodeTypes:Kh,fitView:!1,fitViewOptions:{padding:.2,includeHiddenNodes:!1},defaultViewport:{x:0,y:0,zoom:.6},minZoom:.1,maxZoom:2,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!0,panOnScroll:!1,zoomOnScroll:!1,panOnDrag:!0,zoomOnPinch:!0,panOnScrollMode:"free",attributionPosition:"bottom-left",preventScrolling:!1,zoomOnDoubleClick:!1,multiSelectionKeyCode:null,deleteKeyCode:null,children:[(0,Eo.jsx)(Zh,{}),(0,Eo.jsx)(Dh,{}),(0,Eo.jsx)(Fh,{variant:"lines",gap:20,size:1,color:"#e5e7eb",style:{backgroundColor:"#f9fafb"}})]})}),(0,Eo.jsx)(Xh,{node:m,onClose:()=>l(null)}),c&&(0,Eo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Eo.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[(0,Eo.jsx)("button",{onClick:()=>u(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-3xl font-bold leading-none focus:outline-none",style:{lineHeight:"1",width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"}),(0,Eo.jsx)(jo,{onClose:()=>u(!1)})]})})]})};function Jh(e){let{title:t,description:n,icon:o,children:i,onBackClick:a,showPrintButton:s=!0,showShareButton:l=!0,showSuggestionsButton:c=!0,customBackText:u="All Roadmaps"}=e;const d=ne();(0,r.useEffect)(()=>{const e=setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100);return()=>clearTimeout(e)},[]);return(0,Eo.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Eo.jsx)("div",{className:"h-2 sm:h-4 md:h-6 lg:h-8"}),(0,Eo.jsx)("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 mb-4 sm:mb-6 md:mb-8 lg:mb-10",children:(0,Eo.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:(0,Eo.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Eo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Eo.jsx)("div",{className:"flex items-center",children:(0,Eo.jsxs)("button",{onClick:()=>{a?a():(d("/"),setTimeout(()=>{window.location.reload()},100))},className:"flex items-center px-3 sm:px-4 py-2 bg-gray-200 text-gray-700 rounded-lg text-xs sm:text-sm font-semibold hover:bg-gray-300 transition-all duration-300 shadow-sm hover:shadow-md",children:[(0,Eo.jsx)(co,{className:"mr-1 sm:mr-2"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:u}),(0,Eo.jsx)("span",{className:"sm:hidden",children:"All"})]})}),(0,Eo.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[s&&(0,Eo.jsxs)("button",{className:"flex items-center px-2 sm:px-3 py-2 bg-orange-500 text-white rounded-md text-xs font-semibold hover:bg-orange-600 transition",onClick:()=>{const e=document.querySelectorAll(".no-print");e.forEach(e=>{e.style.display="none"});const r=document.createElement("style");r.textContent="\n      @media print {\n        body { margin: 0; padding: 0; }\n        .print-container { \n          width: 100% !important; \n          height: auto !important; \n          max-width: none !important;\n          margin: 0 !important;\n          padding: 20px !important;\n        }\n        .print-header {\n          background: white !important;\n          color: black !important;\n          padding: 20px !important;\n          margin-bottom: 20px !important;\n          border: 1px solid #ccc !important;\n          border-radius: 8px !important;\n        }\n        .print-content {\n          background: white !important;\n          color: black !important;\n          padding: 20px !important;\n          border: 1px solid #ccc !important;\n          border-radius: 8px !important;\n          min-height: 600px !important;\n        }\n        .print-title {\n          font-size: 24px !important;\n          font-weight: bold !important;\n          margin-bottom: 10px !important;\n          color: black !important;\n        }\n        .print-description {\n          font-size: 16px !important;\n          color: #666 !important;\n          margin-bottom: 20px !important;\n        }\n        .print-info {\n          font-size: 12px !important;\n          color: #888 !important;\n          margin-top: 20px !important;\n          text-align: center !important;\n        }\n        @page { margin: 1cm; }\n      }\n    ",document.head.appendChild(r);const i=window.open("","_blank");i.document.write(`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>${t} - MetalRoadmap</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n            .print-container { \n              width: 100%; \n              max-width: 800px; \n              margin: 0 auto; \n              padding: 20px; \n            }\n            .print-header {\n              background: white;\n              color: black;\n              padding: 20px;\n              margin-bottom: 20px;\n              border: 1px solid #ccc;\n              border-radius: 8px;\n            }\n            .print-content {\n              background: white;\n              color: black;\n              padding: 20px;\n              border: 1px solid #ccc;\n              border-radius: 8px;\n              min-height: 600px;\n            }\n            .print-title {\n              font-size: 24px;\n              font-weight: bold;\n              margin-bottom: 10px;\n              color: black;\n            }\n            .print-description {\n              font-size: 16px;\n              color: #666;\n              margin-bottom: 20px;\n            }\n            .print-info {\n              font-size: 12px;\n              color: #888;\n              margin-top: 20px;\n              text-align: center;\n            }\n            @media print {\n              @page { margin: 1cm; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="print-container">\n            <div class="print-header">\n              <div class="print-title">${o} ${t}</div>\n              <div class="print-description">${n}</div>\n              <div class="print-info">\n                Impreso desde MetalRoadmap - ${(new Date).toLocaleDateString()}\n              </div>\n            </div>\n            <div class="print-content">\n              <h3>Mapa Mental Interactivo</h3>\n              <p>Este roadmap contiene un mapa mental interactivo que se puede explorar en la versi\xf3n digital.</p>\n              <p>Para acceder al contenido completo, visita: ${window.location.href}</p>\n            </div>\n          </div>\n        </body>\n      </html>\n    `),i.document.close(),setTimeout(()=>{i.print(),i.close(),e.forEach(e=>{e.style.display=""}),document.head.removeChild(r)},500)},title:"Imprimir",children:[(0,Eo.jsx)(yo,{className:"mr-1"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:"Imprimir"})]}),l&&(0,Eo.jsxs)("button",{className:"flex items-center px-2 sm:px-3 py-2 bg-orange-500 text-white rounded-md text-xs font-semibold hover:bg-orange-600 transition",onClick:()=>navigator.share?navigator.share({title:document.title,url:window.location.href}):alert("Funci\xf3n no soportada en este navegador."),title:"Compartir",children:[(0,Eo.jsx)(wo,{className:"mr-1"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:"Compartir"})]})]})]}),(0,Eo.jsxs)("div",{className:"mb-4",children:[(0,Eo.jsxs)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 select-none pointer-events-none",children:[o," ",t]}),(0,Eo.jsx)("p",{className:"text-xs sm:text-sm md:text-lg text-gray-600",children:n})]}),c&&(0,Eo.jsx)("div",{className:"flex justify-end",children:(0,Eo.jsxs)("button",{className:"flex items-center px-2 sm:px-3 py-2 bg-gray-200 text-gray-700 rounded-md text-xs sm:text-sm font-semibold hover:bg-gray-300 transition",children:[(0,Eo.jsx)(go,{className:"mr-1 sm:mr-2"}),(0,Eo.jsx)("span",{className:"hidden sm:inline",children:"Sugerencias"}),(0,Eo.jsx)("span",{className:"sm:hidden",children:"Sug"})]})})]})})}),(0,Eo.jsx)("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 mb-4 sm:mb-6 md:mb-8 lg:mb-10",children:(0,Eo.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:(0,Eo.jsx)("div",{className:"h-[calc(100vh-200px)] min-h-[500px] sm:min-h-[600px]",children:i})})})]})}function Qh(){return(0,Eo.jsx)(Jh,{title:"Termodin\xe1mica Metal\xfargica",description:"Mapa mental interactivo de conceptos fundamentales de termodin\xe1mica aplicada a procesos metal\xfargicos",icon:"\ud83d\udd25",children:(0,Eo.jsx)(Gh,{})})}function ef(e){let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(o!==t){const e=t;t=r?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,subscribe:(e,r,i)=>r||i?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function s(){const n=r(t);if(!i(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)}(e,r,i):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,o,i),i}const tf="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function nf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function of(e,t){if(e){if("string"===typeof e)return rf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rf(e,t):void 0}}function af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||of(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sf,lf,cf,uf,df,hf;!function(e){e.Strict="strict",e.Loose="loose"}(sf||(sf={})),function(e){e.Lines="lines",e.Dots="dots"}(lf||(lf={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(cf||(cf={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(uf||(uf={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(df||(df={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(hf||(hf={}));var ff=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},pf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},mf=function(e,t){return{x:pf(e.x,t[0][0],t[1][0]),y:pf(e.y,t[0][1],t[1][1])}},gf=function(e){var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},vf=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},yf=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},bf=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},wf=function(e){return!isNaN(e)&&isFinite(e)},xf=Symbol("internals");function Sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ef(e,t){var n=e.find(function(e){return e.id===t.parentNode});if(n){var r=t.position.x+t.width-n.width,o=t.position.y+t.height-n.height;if(r>0||o>0||t.position.x<0||t.position.y<0){var i,a;if(n.style=kf({},n.style)||{},n.style.width=null!==(i=n.style.width)&&void 0!==i?i:n.width,n.style.height=null!==(a=n.style.height)&&void 0!==a?a:n.height,r>0&&(n.style.width+=r),o>0&&(n.style.height+=o),t.position.x<0){var s=Math.abs(t.position.x);n.position.x=n.position.x-s,n.style.width+=s,t.position.x=0}if(t.position.y<0){var l=Math.abs(t.position.y);n.position.y=n.position.y-l,n.style.height+=l,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function _f(e,t){if(e.some(function(e){return"reset"===e.type}))return e.filter(function(e){return"reset"===e.type}).map(function(e){return e.item});var n=e.filter(function(e){return"add"===e.type}).map(function(e){return e.item});return t.reduce(function(t,n){var r=e.find(function(e){return e.id===n.id});if(r)switch(r.type){case"select":return t.push(kf(kf({},n),{},{selected:r.selected})),t;case"position":var o=kf({},n);return"undefined"!==typeof r.position&&(o.position=r.position),"undefined"!==typeof r.positionAbsolute&&(o.positionAbsolute=r.positionAbsolute),"undefined"!==typeof r.dragging&&(o.dragging=r.dragging),o.expandParent&&Ef(t,o),t.push(o),t;case"dimensions":var i=kf({},n);return"undefined"!==typeof r.dimensions&&(i.width=r.dimensions.width,i.height=r.dimensions.height),i.expandParent&&Ef(t,i),t.push(i),t;case"remove":return t}return t.push(n),t},n)}function Cf(e,t){return _f(e,t)}var Nf=function(e,t){return{id:e,type:"select",selected:t}};function jf(e,t){return e.reduce(function(e,n){var r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(Nf(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(Nf(n.id,!1))),e},[])}function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Mf=function(e,t,n){var r=t.querySelectorAll(e);if(!r||!r.length)return null;var o=Array.from(r),i=t.getBoundingClientRect();return o.map(function(e){var t=e.getBoundingClientRect();return Pf({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left)/n,y:(t.top-i.top)/n},ff(e))})};function Tf(e,t,n){return void 0===n?n:function(r){var o=t().nodeInternals.get(e);n(r,Pf({},o))}}function Rf(e){var t=e.id,n=e.store,r=n.getState(),o=r.addSelectedNodes,i=r.unselectNodesAndEdges,a=r.multiSelectionActive,s=r.nodeInternals.get(t);n.setState({nodesSelectionActive:!1}),s.selected?s.selected&&a&&i({nodes:[s]}):o([t])}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Af(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Df=function(e){var t=e.source,n=e.sourceHandle,r=e.target,o=e.targetHandle;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(o||"")},zf=function(e,t){if("undefined"===typeof e)return"";if("string"===typeof e)return e;var n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"))},Lf=function(e,t){return e.source&&e.target?function(e,t){return t.some(function(t){return t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)})}(n="id"in(r=e)&&"source"in r&&"target"in r?If({},e):If(If({},e),{},{id:Df(e)}),t)?t:t.concat(n):t;var n,r},$f=function(e,t,n,r){var o=e.x,i=e.y,a=af(t,3),s=a[0],l=a[1],c=a[2],u=af(r,2),d=u[0],h=u[1],f={x:(o-s)/c,y:(i-l)/c};return n?{x:d*Math.round(f.x/d),y:h*Math.round(f.y/h)}:f},Bf=function(e){if(0===e.length)return{x:0,y:0,width:0,height:0};var t=e.reduce(function(e,t){var n=t.positionAbsolute,r=t.position,o=t.width,i=t.height;return vf(e,yf({x:n?n.x:r.x,y:n?n.y:r.y,width:o||0,height:i||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bf(t)},Hf=function(e,t){var n=af(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],3),r=n[0],o=n[1],i=n[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=yf({x:(t.x-r)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i}),c=[];return e.forEach(function(e){var t=e.positionAbsolute,n=e.width,r=e.height,o=e.selectable;if(s&&!(void 0===o||o))return!1;var i=yf(If(If({},t),{},{width:n||0,height:r||0})),u=Math.max(0,Math.min(l.x2,i.x2)-Math.max(l.x,i.x)),d=Math.max(0,Math.min(l.y2,i.y2)-Math.max(l.y,i.y)),h=Math.ceil(u*d);("undefined"===typeof n||"undefined"===typeof r||null===n||null===r||a&&h>0||h>=(n||0)*(r||0))&&c.push(e)}),c},Uf=function(e,t){var n=e.map(function(e){return e.id});return t.filter(function(e){return n.includes(e.source)||n.includes(e.target)})},Ff=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),c=pf(l,r,o);return[t/2-(e.x+e.width/2)*c,n/2-(e.y+e.height/2)*c,c]},Vf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yf(e,t,n,r){var o,i,a,s,l,c,u,d,h,f,p,m;if(!e.parentNode)return r;var g=t.get(e.parentNode);return Yf(g,t,n,{x:(null!==(o=r.x)&&void 0!==o?o:0)+(null!==(i=null===(a=g.position)||void 0===a?void 0:a.x)&&void 0!==i?i:0),y:(null!==(s=r.y)&&void 0!==s?s:0)+(null!==(l=null===(c=g.position)||void 0===c?void 0:c.y)&&void 0!==l?l:0),z:(null!==(u=null===(d=g[xf])||void 0===d?void 0:d.z)&&void 0!==u?u:0)>(null!==(h=r.z)&&void 0!==h?h:0)?null!==(f=null===(p=g[xf])||void 0===p?void 0:p.z)&&void 0!==f?f:0:null!==(m=r.z)&&void 0!==m?m:0})}function Kf(e,t){var n=new Map,r={};return e.forEach(function(e){var o,i=wf(e.zIndex)?e.zIndex:e.selected?1e3:0,a=t.get(e.id),s=qf(qf({width:null===a||void 0===a?void 0:a.width,height:null===a||void 0===a?void 0:a.height},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}});e.parentNode&&(s.parentNode=e.parentNode,r[e.parentNode]=!0),Object.defineProperty(s,xf,{enumerable:!1,value:{handleBounds:null===a||void 0===a||null===(o=a[xf])||void 0===o?void 0:o.handleBounds,z:i}}),n.set(e.id,s)}),n.forEach(function(e){if(e.parentNode&&!n.has(e.parentNode))throw new Error("Parent node ".concat(e.parentNode," not found"));if(e.parentNode||r[e.id]){var t,o,i=Yf(e,n,r,qf(qf({},e.position),{},{z:null!==(t=null===(o=e[xf])||void 0===o?void 0:o.z)&&void 0!==t?t:0})),a=i.x,s=i.y,l=i.z;e.positionAbsolute={x:a,y:s},e[xf].z=l,r[e.id]&&(e[xf].isParent=!0)}}),n}function Xf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e(),r=n.nodeInternals,o=n.width,i=n.height,a=n.minZoom,s=n.maxZoom,l=n.d3Zoom,c=n.d3Selection,u=n.fitViewOnInitDone,d=n.fitViewOnInit;if((t.initial&&!u&&d||!t.initial)&&l&&c){var h=Array.from(r.values()).filter(function(e){return t.includeHiddenNodes?e.width&&e.height:!e.hidden}),f=h.every(function(e){return e.width&&e.height});if(h.length>0&&f){var p,m,g,v=Bf(h),y=af(Ff(v,o,i,null!==(p=t.minZoom)&&void 0!==p?p:a,null!==(m=t.maxZoom)&&void 0!==m?m:s,null!==(g=t.padding)&&void 0!==g?g:.1),3),b=y[0],w=y[1],x=y[2],S=bl.translate(b,w).scale(x);return"number"===typeof t.duration&&t.duration>0?l.transform(Vf(c,t.duration),S):l.transform(c,S),!0}}return!1}function Zf(e,t){return e.forEach(function(e){var n,r=t.get(e.id);r&&t.set(r.id,qf(qf({},r),{},(nf(n={},xf,r[xf]),nf(n,"selected",e.selected),n)))}),new Map(t)}function Gf(e,t){return t.map(function(t){var n=e.find(function(e){return e.id===t.id});return n&&(t.selected=n.selected),t})}function Jf(e){var t=e.changedNodes,n=e.changedEdges,r=e.get,o=e.set,i=r(),a=i.nodeInternals,s=i.edges,l=i.onNodesChange,c=i.onEdgesChange,u=i.hasDefaultNodes,d=i.hasDefaultEdges;null!==t&&void 0!==t&&t.length&&(u&&o({nodeInternals:Zf(t,a)}),null===l||void 0===l||l(t)),null!==n&&void 0!==n&&n.length&&(d&&o({edges:Gf(n,s)}),null===c||void 0===c||c(n))}var Qf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ep={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Qf,nodeExtent:Qf,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:sf.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.17",connectionStartHandle:null,connectOnClick:!0};function tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rp=function(){const e=(0,r.createContext)(void 0);return{Provider:t=>{let{initialStore:n,createStore:o,children:i}=t;const a=(0,r.useRef)();return a.current||(n&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),o||(o=()=>n)),a.current=o()),(0,r.createElement)(e.Provider,{value:a.current},i)},useStore:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const o=(0,r.useContext)(e);if(!o)throw new Error("Seems like you have not used zustand provider as an ancestor.");return o(t,n)},useStoreApi:()=>{const t=(0,r.useContext)(e);if(!t)throw new Error("Seems like you have not used zustand provider as an ancestor.");return(0,r.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])}}}(),op=rp.Provider,ip=rp.useStore,ap=rp.useStoreApi,sp=function(){return function(e){const t="function"===typeof e?ef(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,o]=(0,r.useReducer)(e=>e+1,0),i=t.getState(),a=(0,r.useRef)(i),s=(0,r.useRef)(e),l=(0,r.useRef)(n),c=(0,r.useRef)(!1),u=(0,r.useRef)();let d;void 0===u.current&&(u.current=e(i));let h=!1;(a.current!==i||s.current!==e||l.current!==n||c.current)&&(d=e(i),h=!n(u.current,d)),tf(()=>{h&&(u.current=d),a.current=i,s.current=e,l.current=n,c.current=!1});const f=(0,r.useRef)(i);tf(()=>{const e=()=>{try{const e=t.getState(),n=s.current(e);l.current(u.current,n)||(a.current=e,u.current=n,o())}catch(e){c.current=!0,o()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n},[]);const p=h?d:u.current;return(0,r.useDebugValue)(p),p};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}(function(e,t){return np(np({},ep),{},{setNodes:function(n){e({nodeInternals:Kf(n,t().nodeInternals)})},setEdges:function(n){var r=t().defaultEdgeOptions,o=void 0===r?{}:r;e({edges:n.map(function(e){return np(np({},o),e)})})},setDefaultNodesAndEdges:function(t,n){var r="undefined"!==typeof t,o="undefined"!==typeof n,i=r?Kf(t,new Map):new Map;e({nodeInternals:i,edges:o?n:[],hasDefaultNodes:r,hasDefaultEdges:o})},updateNodeDimensions:function(n){var r=t(),o=r.onNodesChange,i=r.nodeInternals,a=r.fitViewOnInit,s=r.fitViewOnInitDone,l=r.fitViewOnInitOptions,c=r.domNode,u=null===c||void 0===c?void 0:c.querySelector(".react-flow__viewport");if(u){var d=window.getComputedStyle(u),h=new window.DOMMatrixReadOnly(d.transform).m22,f=n.reduce(function(e,t){var n=i.get(t.id);if(n){var r=ff(t.nodeElement);!(!r.width||!r.height||n.width===r.width&&n.height===r.height&&!t.forceUpdate)&&(i.set(n.id,np(np({},n),{},nf({},xf,np(np({},n[xf]),{},{handleBounds:{source:Mf(".source",t.nodeElement,h),target:Mf(".target",t.nodeElement,h)}})),r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]),p=s||a&&!s&&Xf(t,np({initial:!0},l));e({nodeInternals:new Map(i),fitViewOnInitDone:p}),(null===f||void 0===f?void 0:f.length)>0&&(null===o||void 0===o||o(f))}},updateNodePositions:function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t(),a=i.onNodesChange,s=i.nodeInternals,l=i.hasDefaultNodes;if(l||a){var c=n.map(function(e){var t={id:e.id,type:"position",dragging:o};return r&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});if(null!==c&&void 0!==c&&c.length){if(l){var u=Kf(Cf(c,Array.from(s.values())),s);e({nodeInternals:u})}null===a||void 0===a||a(c)}}},addSelectedNodes:function(n){var r,o=t(),i=o.multiSelectionActive,a=o.nodeInternals,s=o.edges,l=null;i?r=n.map(function(e){return Nf(e,!0)}):(r=jf(Array.from(a.values()),n),l=jf(s,[])),Jf({changedNodes:r,changedEdges:l,get:t,set:e})},addSelectedEdges:function(n){var r,o=t(),i=o.multiSelectionActive,a=o.edges,s=o.nodeInternals,l=null;i?r=n.map(function(e){return Nf(e,!0)}):(r=jf(a,n),l=jf(Array.from(s.values()),[])),Jf({changedNodes:l,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nodes,o=n.edges,i=t(),a=i.nodeInternals,s=i.edges,l=o||s;Jf({changedNodes:(r||Array.from(a.values())).map(function(e){return e.selected=!1,Nf(e.id,!1)}),changedEdges:l.map(function(e){return Nf(e.id,!1)}),get:t,set:e})},setMinZoom:function(n){var r=t(),o=r.d3Zoom,i=r.maxZoom;null===o||void 0===o||o.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:function(n){var r=t(),o=r.d3Zoom,i=r.minZoom;null===o||void 0===o||o.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:function(n){var r=t().d3Zoom;null===r||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:function(){var n=t(),r=n.nodeInternals,o=n.edges;Jf({changedNodes:Array.from(r.values()).filter(function(e){return e.selected}).map(function(e){return Nf(e.id,!1)}),changedEdges:o.filter(function(e){return e.selected}).map(function(e){return Nf(e.id,!1)}),get:t,set:e})},setNodeExtent:function(n){var r=t().nodeInternals;r.forEach(function(e){e.positionAbsolute=mf(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},reset:function(){return e(np({},ep))}})})};function lp(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function cp(e){return function(e){if(Array.isArray(e))return rf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||of(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var up={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},getZoom:function(){return 1},setViewport:function(e){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(e,t){},fitBounds:function(e){},project:function(e){return e},viewportInitialized:!1},dp=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}};function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pp(){var e=function(){var e=ap(),t=ip(dp,lp),n=t.d3Zoom,o=t.d3Selection,i=(0,r.useMemo)(function(){return o&&n?{zoomIn:function(e){return n.scaleBy(Vf(o,null===e||void 0===e?void 0:e.duration),1.2)},zoomOut:function(e){return n.scaleBy(Vf(o,null===e||void 0===e?void 0:e.duration),1/1.2)},zoomTo:function(e,t){return n.scaleTo(Vf(o,null===t||void 0===t?void 0:t.duration),e)},getZoom:function(){return e.getState().transform[2]},setViewport:function(t,r){var i,a,s,l=af(e.getState().transform,3),c=l[0],u=l[1],d=l[2],h=bl.translate(null!==(i=t.x)&&void 0!==i?i:c,null!==(a=t.y)&&void 0!==a?a:u).scale(null!==(s=t.zoom)&&void 0!==s?s:d);n.transform(Vf(o,null===r||void 0===r?void 0:r.duration),h)},getViewport:function(){var t=af(e.getState().transform,3);return{x:t[0],y:t[1],zoom:t[2]}},fitView:function(t){return Xf(e.getState,t)},setCenter:function(t,r,i){var a=e.getState(),s=a.width,l=a.height,c=a.maxZoom,u="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:c,d=s/2-t*u,h=l/2-r*u,f=bl.translate(d,h).scale(u);n.transform(Vf(o,null===i||void 0===i?void 0:i.duration),f)},fitBounds:function(t,r){var i,a=e.getState(),s=a.width,l=a.height,c=a.minZoom,u=a.maxZoom,d=af(Ff(t,s,l,c,u,null!==(i=null===r||void 0===r?void 0:r.padding)&&void 0!==i?i:.1),3),h=d[0],f=d[1],p=d[2],m=bl.translate(h,f).scale(p);n.transform(Vf(o,null===r||void 0===r?void 0:r.duration),m)},project:function(t){var n=e.getState(),r=n.transform,o=n.snapToGrid,i=n.snapGrid;return $f(t,r,o,i)},viewportInitialized:!0}:up},[n,o]);return i}(),t=ap(),n=(0,r.useCallback)(function(){var e=t.getState().nodeInternals;return Array.from(e.values()).map(function(e){return fp({},e)})},[]),o=(0,r.useCallback)(function(e){return t.getState().nodeInternals.get(e)},[]),i=(0,r.useCallback)(function(){var e=t.getState().edges;return(void 0===e?[]:e).map(function(e){return fp({},e)})},[]),a=(0,r.useCallback)(function(e){var n=t.getState().edges;return(void 0===n?[]:n).find(function(t){return t.id===e})},[]),s=(0,r.useCallback)(function(e){var n=t.getState(),r=n.nodeInternals,o=n.setNodes,i=n.hasDefaultNodes,a=n.onNodesChange,s=Array.from(r.values()),l="function"===typeof e?e(s):e;if(i)o(l);else if(a){var c=0===l.length?s.map(function(e){return{type:"remove",id:e.id}}):l.map(function(e){return{item:e,type:"reset"}});a(c)}},[]),l=(0,r.useCallback)(function(e){var n=t.getState(),r=n.edges,o=void 0===r?[]:r,i=n.setEdges,a=n.hasDefaultEdges,s=n.onEdgesChange,l="function"===typeof e?e(o):e;if(a)i(l);else if(s){s(0===l.length?o.map(function(e){return{type:"remove",id:e.id}}):l.map(function(e){return{item:e,type:"reset"}}))}},[]),c=(0,r.useCallback)(function(e){var n=Array.isArray(e)?e:[e],r=t.getState(),o=r.nodeInternals,i=r.setNodes,a=r.hasDefaultNodes,s=r.onNodesChange;if(a){var l=Array.from(o.values());i([].concat(l,cp(n)))}else if(s){var c=n.map(function(e){return{item:e,type:"add"}});s(c)}},[]),u=(0,r.useCallback)(function(e){var n=Array.isArray(e)?e:[e],r=t.getState(),o=r.edges,i=void 0===o?[]:o,a=r.setEdges,s=r.hasDefaultEdges,l=r.onEdgesChange;if(s)a([].concat(cp(i),cp(n)));else if(l){l(n.map(function(e){return{item:e,type:"add"}}))}},[]),d=(0,r.useCallback)(function(){var e=t.getState(),n=e.nodeInternals,r=e.edges,o=void 0===r?[]:r,i=e.transform,a=Array.from(n.values()),s=af(i,3),l=s[0],c=s[1],u=s[2];return{nodes:a.map(function(e){return fp({},e)}),edges:o.map(function(e){return fp({},e)}),viewport:{x:l,y:c,zoom:u}}},[]);return(0,r.useMemo)(function(){return fp(fp({},e),{},{getNodes:n,getNode:o,getEdges:i,getEdge:a,setNodes:s,setEdges:l,addNodes:c,addEdges:u,toObject:d})},[e,n,o,i,a,s,l,c,u,d])}function mp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function gp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function vp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},r.createElement("path",{d:"M0 0h32v4.2H0z"}))}function yp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},r.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function bp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function wp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var xp=["children","className"];function Sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var kp=function(e){var t=e.children,n=e.className,o=mp(e,xp);return r.createElement("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sp(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({type:"button",className:Lo(["react-flow__controls-button",n])},o),t)},Ep=function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable},_p=function(e){var t=e.style,n=e.showZoom,o=void 0===n||n,i=e.showFitView,a=void 0===i||i,s=e.showInteractive,l=void 0===s||s,c=e.fitViewOptions,u=e.onZoomIn,d=e.onZoomOut,h=e.onFitView,f=e.onInteractiveChange,p=e.className,m=e.children,g=ap(),v=af((0,r.useState)(!1),2),y=v[0],b=v[1],w=ip(Ep),x=pp(),S=x.zoomIn,k=x.zoomOut,E=x.fitView;if((0,r.useEffect)(function(){b(!0)},[]),!y)return null;return r.createElement("div",{className:Lo(["react-flow__controls",p]),style:t},o&&r.createElement(r.Fragment,null,r.createElement(kp,{onClick:function(){null===S||void 0===S||S(),null===u||void 0===u||u()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in"},r.createElement(gp,null)),r.createElement(kp,{onClick:function(){null===k||void 0===k||k(),null===d||void 0===d||d()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out"},r.createElement(vp,null))),a&&r.createElement(kp,{className:"react-flow__controls-fitview",onClick:function(){null===E||void 0===E||E(c),null===h||void 0===h||h()},title:"fit view","aria-label":"fit view"},r.createElement(yp,null)),l&&r.createElement(kp,{className:"react-flow__controls-interactive",onClick:function(){g.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),null===f||void 0===f||f(!w)},title:"toggle interactivity","aria-label":"toggle interactivity"},w?r.createElement(wp,null):r.createElement(bp,null)),m)};_p.displayName="Controls";var Cp=(0,r.memo)(_p),Np=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function jp(e){var t=e.proOptions,n=e.position,o=void 0===n?"bottom-right":n;if(null!==t&&void 0!==t&&t.account&&Np.includes(null===t||void 0===t?void 0:t.account)&&null!==t&&void 0!==t&&t.hideAttribution)return null;var i="".concat(o).split("-");return r.createElement("div",{className:Lo(["react-flow__attribution"].concat(cp(i))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},r.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var Op=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function Pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Mp=function(e){var t=e.x,n=e.y,o=e.label,i=e.labelStyle,a=void 0===i?{}:i,s=e.labelShowBg,l=void 0===s||s,c=e.labelBgStyle,u=void 0===c?{}:c,d=e.labelBgPadding,h=void 0===d?[2,4]:d,f=e.labelBgBorderRadius,p=void 0===f?2:f,m=e.children,g=e.className,v=mp(e,Op),y=(0,r.useRef)(null),b=af((0,r.useState)({x:0,y:0,width:0,height:0}),2),w=b[0],x=b[1],S=Lo(["react-flow__edge-textwrapper",g]);return(0,r.useEffect)(function(){if(y.current){var e=y.current.getBBox();x({x:e.x,y:e.y,width:e.width,height:e.height})}},[o]),"undefined"!==typeof o&&o?r.createElement("g",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pp(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({transform:"translate(".concat(t-w.width/2," ").concat(n-w.height/2,")"),className:S},v),l&&r.createElement("rect",{width:w.width+2*h[0],x:-h[0],y:-h[1],height:w.height+2*h[1],className:"react-flow__edge-textbg",style:u,rx:p,ry:p}),r.createElement("text",{className:"react-flow__edge-text",y:w.height/2,dy:"0.3em",ref:y,style:a},o),m):null},Tp=(0,r.memo)(Mp),Rp=function(e){var t=e.path,n=e.centerX,o=e.centerY,i=e.label,a=e.labelStyle,s=e.labelShowBg,l=e.labelBgStyle,c=e.labelBgPadding,u=e.labelBgBorderRadius,d=e.style,h=e.markerEnd,f=e.markerStart,p=i?r.createElement(Tp,{x:n,y:o,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null;return r.createElement(r.Fragment,null,r.createElement("path",{style:d,d:t,className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p)};function Ap(e){var t,n,r=e.pos,o=e.x1,i=e.y1,a=e.x2,s=e.y2;switch(r){case hf.Left:case hf.Right:t=.5*(o+a),n=i;break;case hf.Top:case hf.Bottom:t=o,n=.5*(i+s)}return[t,n]}function Ip(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?hf.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,l=void 0===s?hf.Top:s,c=af(Ap({pos:o,x1:t,y1:n,x2:i,y2:a}),2),u=c[0],d=c[1],h=af(Ap({pos:l,x1:i,y1:a,x2:t,y2:n}),2),f=h[0],p=h[1];return"M".concat(t,",").concat(n," C").concat(u,",").concat(d," ").concat(f,",").concat(p," ").concat(i,",").concat(a)}var Dp=(0,r.memo)(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,i=e.targetY,a=e.sourcePosition,s=void 0===a?hf.Bottom:a,l=e.targetPosition,c=void 0===l?hf.Top:l,u=e.label,d=e.labelStyle,h=e.labelShowBg,f=e.labelBgStyle,p=e.labelBgPadding,m=e.labelBgBorderRadius,g=e.style,v=e.markerEnd,y=e.markerStart,b={sourceX:t,sourceY:n,sourcePosition:s,targetX:o,targetY:i,targetPosition:c},w=Ip(b),x=function(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?hf.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,l=void 0===s?hf.Top:s,c=af(Ap({pos:o,x1:t,y1:n,x2:i,y2:a}),2),u=c[0],d=c[1],h=af(Ap({pos:l,x1:i,y1:a,x2:t,y2:n}),2),f=.125*t+.375*u+.375*h[0]+.125*i,p=.125*n+.375*d+.375*h[1]+.125*a;return[f,p,Math.abs(f-t),Math.abs(p-n)]}(b),S=af(x,2),k=S[0],E=S[1];return r.createElement(Rp,{path:w,centerX:k,centerY:E,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:y})});function zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Lp=[hf.Left,hf.Right],$p=function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=e.sourcePosition,a=void 0===i?hf.Bottom:i,s=e.targetPosition,l=void 0===s?hf.Top:s,c=Lp.includes(a),u=Lp.includes(l);if(c&&!u||u&&!c){var d=c?Math.abs(r-t):0,h=t>r?t-d:t+d,f=c?0:Math.abs(o-n);return[h,n<o?n+f:n-f,d,f]}var p=Math.abs(r-t)/2,m=r<t?r+p:r-p,g=Math.abs(o-n)/2;return[m,o<n?o+g:o-g,p,g]};function Bp(e,t,n){return void 0===n?n:function(r){var o=t().edges.find(function(t){return t.id===e});n(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o))}}var Hp=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},Up=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},Fp=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},Vp=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},Wp=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)},qp=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},Yp=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},Kp=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)};function Xp(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?hf.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,l=void 0===s?hf.Top:s,c=e.borderRadius,u=void 0===c?5:c,d=e.centerX,h=e.centerY,f=af($p({sourceX:t,sourceY:n,targetX:i,targetY:a}),4),p=f[0],m=f[1],g=f[2],v=f[3],y=Math.min(u,Math.abs(i-t)),b=Math.min(u,Math.abs(a-n)),w=Math.min(y,b,g,v),x=[hf.Left,hf.Right],S="undefined"!==typeof d?d:p,k="undefined"!==typeof h?h:m,E=null,_=null;return t<=i?(E=n<=a?Hp(t,k,w):qp(t,k,w),_=n<=a?Kp(i,k,w):Vp(i,k,w)):(E=n<a?Fp(t,k,w):Yp(t,k,w),_=n<a?Wp(i,k,w):Up(i,k,w)),x.includes(o)&&x.includes(l)?t<=i?(E=n<=a?Kp(S,n,w):Vp(S,n,w),_=n<=a?Hp(S,a,w):qp(S,a,w)):(o===hf.Right&&l===hf.Left||o===hf.Left&&l===hf.Right||o===hf.Left&&l===hf.Left)&&(E=n<=a?Wp(S,n,w):Up(S,n,w),_=n<=a?Fp(S,a,w):Yp(S,a,w)):x.includes(o)&&!x.includes(l)?(E=t<=i?n<=a?Kp(i,n,w):Vp(i,n,w):n<=a?Wp(i,n,w):Up(i,n,w),_=""):!x.includes(o)&&x.includes(l)&&(E=t<=i?n<=a?Hp(t,a,w):qp(t,a,w):n<=a?Fp(t,a,w):Yp(t,a,w),_=""),"M ".concat(t,",").concat(n).concat(E).concat(_,"L ").concat(i,",").concat(a)}var Zp=(0,r.memo)(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,i=e.targetY,a=e.label,s=e.labelStyle,l=e.labelShowBg,c=e.labelBgStyle,u=e.labelBgPadding,d=e.labelBgBorderRadius,h=e.style,f=e.sourcePosition,p=void 0===f?hf.Bottom:f,m=e.targetPosition,g=void 0===m?hf.Top:m,v=e.markerEnd,y=e.markerStart,b=e.borderRadius,w=void 0===b?5:b,x=af($p({sourceX:t,sourceY:n,targetX:o,targetY:i,sourcePosition:p,targetPosition:g}),2),S=x[0],k=x[1],E=Xp({sourceX:t,sourceY:n,sourcePosition:p,targetX:o,targetY:i,targetPosition:g,borderRadius:w});return r.createElement(Rp,{path:E,centerX:S,centerY:k,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:v,markerStart:y})});function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qp=(0,r.memo)(function(e){return r.createElement(Zp,Jp(Jp({},e),{},{borderRadius:0}))}),em=(0,r.memo)(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,i=e.targetY,a=e.label,s=e.labelStyle,l=e.labelShowBg,c=e.labelBgStyle,u=e.labelBgPadding,d=e.labelBgBorderRadius,h=e.style,f=e.markerEnd,p=e.markerStart,m=Math.abs(i-n)/2,g=i<n?i+m:i-m,v=Math.abs(o-t)/2,y=o<t?o+v:o-v,b="M ".concat(t,",").concat(n,"L ").concat(o,",").concat(i);return r.createElement(Rp,{path:b,centerX:y,centerY:g,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p})});function tm(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function nm(e){var t,n,r=e.pos,o=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.c;switch(r){case hf.Left:t=o-tm(o-a,l),n=i;break;case hf.Right:t=o+tm(a-o,l),n=i;break;case hf.Top:t=o,n=i-tm(i-s,l);break;case hf.Bottom:t=o,n=i+tm(s-i,l)}return[t,n]}function rm(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?hf.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,l=void 0===s?hf.Top:s,c=e.curvature,u=void 0===c?.25:c,d=af(nm({pos:o,x1:t,y1:n,x2:i,y2:a,c:u}),2),h=d[0],f=d[1],p=af(nm({pos:l,x1:i,y1:a,x2:t,y2:n,c:u}),2),m=p[0],g=p[1];return"M".concat(t,",").concat(n," C").concat(h,",").concat(f," ").concat(m,",").concat(g," ").concat(i,",").concat(a)}var om=(0,r.memo)(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,i=e.targetY,a=e.sourcePosition,s=void 0===a?hf.Bottom:a,l=e.targetPosition,c=void 0===l?hf.Top:l,u=e.label,d=e.labelStyle,h=e.labelShowBg,f=e.labelBgStyle,p=e.labelBgPadding,m=e.labelBgBorderRadius,g=e.style,v=e.markerEnd,y=e.markerStart,b={sourceX:t,sourceY:n,sourcePosition:s,targetX:o,targetY:i,targetPosition:c,curvature:e.curvature},w=rm(b),x=function(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?hf.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,l=void 0===s?hf.Top:s,c=e.curvature,u=void 0===c?.25:c,d=af(nm({pos:o,x1:t,y1:n,x2:i,y2:a,c:u}),2),h=d[0],f=d[1],p=af(nm({pos:l,x1:i,y1:a,x2:t,y2:n,c:u}),2),m=.125*t+.375*h+.375*p[0]+.125*i,g=.125*n+.375*f+.375*p[1]+.125*a;return[m,g,Math.abs(m-t),Math.abs(g-n)]}(b),S=af(x,2),k=S[0],E=S[1];return r.createElement(Rp,{path:w,centerX:k,centerY:E,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:y})}),im=(0,r.createContext)(null),am=im.Provider;function sm(e,t,n,r,o,i,a){var s=a.elementFromPoint(e.clientX,e.clientY),l=(null===s||void 0===s?void 0:s.classList.contains("target"))||!1,c=(null===s||void 0===s?void 0:s.classList.contains("source"))||!1,u={elementBelow:s,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(s&&(l||c)){u.isHoveringHandle=!0;var d=s.getAttribute("data-nodeid"),h=s.getAttribute("data-handleid"),f=n?{source:d,sourceHandle:h,target:r,targetHandle:o}:{source:r,sourceHandle:o,target:d,targetHandle:h};u.connection=f,(t!==sf.Strict||(n&&c||!n&&l))&&(u.isValid=i(f))}return u}function lm(e){null===e||void 0===e||e.classList.remove("react-flow__handle-valid"),null===e||void 0===e||e.classList.remove("react-flow__handle-connecting")}function cm(e){var t=e.event,n=e.handleId,r=e.nodeId,o=e.onConnect,i=e.isTarget,a=e.getState,s=e.setState,l=e.isValidConnection,c=e.elementEdgeUpdaterType,u=e.onEdgeUpdateEnd,d=t.target.closest(".react-flow"),h=gf(t.target);if(h){var f=h.elementFromPoint(t.clientX,t.clientY),p=null===f||void 0===f?void 0:f.classList.contains("target"),m=null===f||void 0===f?void 0:f.classList.contains("source");if(d&&(p||m||c)){var g,v=a(),y=v.onConnectStart,b=v.connectionMode,w=c||(p?"target":"source"),x=d.getBoundingClientRect();s({connectionPosition:{x:t.clientX-x.left,y:t.clientY-x.top},connectionNodeId:r,connectionHandleId:n,connectionHandleType:w}),null===y||void 0===y||y(t,{nodeId:r,handleId:n,handleType:w}),h.addEventListener("mousemove",S),h.addEventListener("mouseup",function e(t){var d=a(),f=d.onConnectStop,p=d.onConnectEnd,m=sm(t,b,i,r,n,l,h),v=m.connection,y=m.isValid;null===f||void 0===f||f(t),y&&(null===o||void 0===o||o(v)),null===p||void 0===p||p(t),c&&u&&u(t),lm(g),s({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),h.removeEventListener("mousemove",S),h.removeEventListener("mouseup",e)})}}function S(e){s({connectionPosition:{x:e.clientX-x.left,y:e.clientY-x.top}});var t=sm(e,b,i,r,n,l,h),o=t.connection,a=t.elementBelow,c=t.isValid;if(!t.isHoveringHandle)return lm(g);o.source!==o.target&&a&&(lm(g),g=a,a.classList.add("react-flow__handle-connecting"),a.classList.toggle("react-flow__handle-valid",c))}}im.Consumer;var um=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var fm=function(){return!0},pm=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick}},mm=(0,r.forwardRef)(function(e,t){var n=e.type,o=void 0===n?"source":n,i=e.position,a=void 0===i?hf.Top:i,s=e.isValidConnection,l=void 0===s?fm:s,c=e.isConnectable,u=void 0===c||c,d=e.id,h=e.onConnect,f=e.children,p=e.className,m=e.onMouseDown,g=mp(e,um),v=ap(),y=(0,r.useContext)(im),b=ip(pm,lp),w=b.connectionStartHandle,x=b.connectOnClick,S=d||null,k="target"===o,E=function(e){var t=v.getState(),n=t.defaultEdgeOptions,r=t.onConnect,o=t.hasDefaultEdges,i=hm(hm({},n),e);if(o){var a=v.getState().edges;v.setState({edges:Lf(i,a)})}null===r||void 0===r||r(i),null===h||void 0===h||h(i)};return r.createElement("div",hm({"data-handleid":S,"data-nodeid":y,"data-handlepos":a,className:Lo(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",p,{source:!k,target:k,connectable:u,connecting:(null===w||void 0===w?void 0:w.nodeId)===y&&(null===w||void 0===w?void 0:w.handleId)===S&&(null===w||void 0===w?void 0:w.type)===o}]),onMouseDown:function(e){0===e.button&&cm({event:e,handleId:S,nodeId:y,onConnect:E,isTarget:k,getState:v.getState,setState:v.setState,isValidConnection:l}),null===m||void 0===m||m(e)},onClick:x?function(e){var t=v.getState(),n=t.onClickConnectStart,r=t.onClickConnectStop,i=t.onClickConnectEnd,a=t.connectionMode;if(!w)return null===n||void 0===n||n(e,{nodeId:y,handleId:S,handleType:o}),void v.setState({connectionStartHandle:{nodeId:y,type:o,handleId:S}});var s=gf(e.target),c=sm(e,a,"target"===w.type,w.nodeId,w.handleId||null,l,s),u=c.connection,d=c.isValid;null===r||void 0===r||r(e),d&&E(u),null===i||void 0===i||i(e),v.setState({connectionStartHandle:null})}:void 0,ref:t},g),f)});mm.displayName="Handle";var gm=(0,r.memo)(mm),vm=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,i=void 0===o?hf.Top:o,a=e.sourcePosition,s=void 0===a?hf.Bottom:a;return r.createElement(r.Fragment,null,r.createElement(gm,{type:"target",position:i,isConnectable:n}),null===t||void 0===t?void 0:t.label,r.createElement(gm,{type:"source",position:s,isConnectable:n}))};vm.displayName="DefaultNode";var ym=(0,r.memo)(vm),bm=function(e){var t=e.data,n=e.isConnectable,o=e.sourcePosition,i=void 0===o?hf.Bottom:o;return r.createElement(r.Fragment,null,null===t||void 0===t?void 0:t.label,r.createElement(gm,{type:"source",position:i,isConnectable:n}))};bm.displayName="InputNode";var wm=(0,r.memo)(bm),xm=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,i=void 0===o?hf.Top:o;return r.createElement(r.Fragment,null,r.createElement(gm,{type:"target",position:i,isConnectable:n}),null===t||void 0===t?void 0:t.label)};xm.displayName="OutputNode";var Sm=(0,r.memo)(xm),km=function(e){return{selectedNodes:Array.from(e.nodeInternals.values()).filter(function(e){return e.selected}),selectedEdges:e.edges.filter(function(e){return e.selected})}},Em=function(e,t){var n=e.selectedNodes.map(function(e){return e.id}),r=t.selectedNodes.map(function(e){return e.id}),o=e.selectedEdges.map(function(e){return e.id}),i=t.selectedEdges.map(function(e){return e.id});return lp(n,r)&&lp(o,i)};function _m(e){var t=e.onSelectionChange,n=ip(km,Em),o=n.selectedNodes,i=n.selectedEdges;return(0,r.useEffect)(function(){t({nodes:o,edges:i})},[o,i]),null}var Cm=(0,r.memo)(_m),Nm=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function jm(e,t){(0,r.useEffect)(function(){"undefined"!==typeof e&&t(e)},[e])}function Om(e,t,n){(0,r.useEffect)(function(){"undefined"!==typeof t&&n(nf({},e,t))},[t])}var Pm=function(e){var t=e.nodes,n=e.edges,o=e.defaultNodes,i=e.defaultEdges,a=e.onConnect,s=e.onConnectStart,l=e.onConnectStop,c=e.onConnectEnd,u=e.onClickConnectStart,d=e.onClickConnectStop,h=e.onClickConnectEnd,f=e.nodesDraggable,p=e.nodesConnectable,m=e.minZoom,g=e.maxZoom,v=e.nodeExtent,y=e.onNodesChange,b=e.onEdgesChange,w=e.elementsSelectable,x=e.connectionMode,S=e.snapGrid,k=e.snapToGrid,E=e.translateExtent,_=e.connectOnClick,C=e.defaultEdgeOptions,N=e.fitView,j=e.fitViewOptions,O=e.onNodesDelete,P=e.onEdgesDelete,M=e.onNodeDrag,T=e.onNodeDragStart,R=e.onNodeDragStop,A=e.onSelectionDrag,I=e.onSelectionDragStart,D=e.onSelectionDragStop,z=ip(Nm,lp),L=z.setNodes,$=z.setEdges,B=z.setDefaultNodesAndEdges,H=z.setMinZoom,U=z.setMaxZoom,F=z.setTranslateExtent,V=z.setNodeExtent,W=z.reset,q=ap();return(0,r.useEffect)(function(){return B(o,i),function(){W()}},[]),Om("defaultEdgeOptions",C,q.setState),Om("connectionMode",x,q.setState),Om("onConnect",a,q.setState),Om("onConnectStart",s,q.setState),Om("onConnectStop",l,q.setState),Om("onConnectEnd",c,q.setState),Om("onClickConnectStart",u,q.setState),Om("onClickConnectStop",d,q.setState),Om("onClickConnectEnd",h,q.setState),Om("nodesDraggable",f,q.setState),Om("nodesConnectable",p,q.setState),Om("elementsSelectable",w,q.setState),Om("snapToGrid",k,q.setState),Om("snapGrid",S,q.setState),Om("onNodesChange",y,q.setState),Om("onEdgesChange",b,q.setState),Om("connectOnClick",_,q.setState),Om("fitViewOnInit",N,q.setState),Om("fitViewOnInitOptions",j,q.setState),Om("onNodesDelete",O,q.setState),Om("onEdgesDelete",P,q.setState),Om("onNodeDrag",M,q.setState),Om("onNodeDragStart",T,q.setState),Om("onNodeDragStop",R,q.setState),Om("onSelectionDrag",A,q.setState),Om("onSelectionDragStart",I,q.setState),Om("onSelectionDragStop",D,q.setState),jm(t,L),jm(n,$),jm(o,L),jm(i,$),jm(m,H),jm(g,U),jm(E,F),jm(v,V),null},Mm=function(e,t,n){return n===hf.Left?e-t:n===hf.Right?e+t:e},Tm=function(e,t,n){return n===hf.Top?e-t:n===hf.Bottom?e+t:e},Rm=function(e){var t=e.className,n=e.position,o=e.centerX,i=e.centerY,a=e.radius,s=void 0===a?10:a;return r.createElement("circle",{className:Lo(["react-flow__edgeupdater",t]),cx:Mm(o,s,n),cy:Tm(i,s,n),r:s,stroke:"transparent",fill:"transparent"})},Am=function(e){var t=function(t){var n=t.id,o=t.className,i=t.type,a=t.data,s=t.onClick,l=t.onEdgeDoubleClick,c=t.selected,u=t.animated,d=t.label,h=t.labelStyle,f=t.labelShowBg,p=t.labelBgStyle,m=t.labelBgPadding,g=t.labelBgBorderRadius,v=t.style,y=t.source,b=t.target,w=t.sourceX,x=t.sourceY,S=t.targetX,k=t.targetY,E=t.sourcePosition,_=t.targetPosition,C=t.elementsSelectable,N=t.hidden,j=t.sourceHandleId,O=t.targetHandleId,P=t.onContextMenu,M=t.onMouseEnter,T=t.onMouseMove,R=t.onMouseLeave,A=t.edgeUpdaterRadius,I=t.onEdgeUpdate,D=t.onEdgeUpdateStart,z=t.onEdgeUpdateEnd,L=t.markerEnd,$=t.markerStart,B=t.rfId,H=af((0,r.useState)(!1),2),U=H[0],F=H[1],V=ap(),W=Bp(n,V.getState,l),q=Bp(n,V.getState,P),Y=Bp(n,V.getState,M),K=Bp(n,V.getState,T),X=Bp(n,V.getState,R),Z=function(e,t){var r=t?b:y,o=(t?O:j)||null,i=t?"target":"source",a=t,s=V.getState().edges.find(function(e){return e.id===n});null===D||void 0===D||D(e,s,i);var l=z?function(e){return z(e,s,i)}:void 0;cm({event:e,handleId:o,nodeId:r,onConnect:function(e){return null===I||void 0===I?void 0:I(s,e)},isTarget:a,getState:V.getState,setState:V.setState,isValidConnection:function(){return!0},elementEdgeUpdaterType:i,onEdgeUpdateEnd:l})},G=function(){return F(!0)},J=function(){return F(!1)},Q=(0,r.useMemo)(function(){return"url(#".concat(zf($,B),")")},[$,B]),ee=(0,r.useMemo)(function(){return"url(#".concat(zf(L,B),")")},[L,B]);if(N)return null;var te=!C&&!s,ne="undefined"!==typeof I,re=Lo(["react-flow__edge","react-flow__edge-".concat(i),o,{selected:c,animated:u,inactive:te,updating:U}]);return r.createElement("g",{className:re,onClick:function(e){var t=V.getState(),r=t.edges,o=t.addSelectedEdges,i=r.find(function(e){return e.id===n});C&&(V.setState({nodesSelectionActive:!1}),o([n])),null===s||void 0===s||s(e,i)},onDoubleClick:W,onContextMenu:q,onMouseEnter:Y,onMouseMove:K,onMouseLeave:X},r.createElement(e,{id:n,source:y,target:b,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:a,style:v,sourceX:w,sourceY:x,targetX:S,targetY:k,sourcePosition:E,targetPosition:_,sourceHandleId:j,targetHandleId:O,markerStart:Q,markerEnd:ee,"data-testid":"rf__edge-".concat(n)}),ne&&r.createElement("g",{onMouseDown:function(e){return Z(e,!0)},onMouseEnter:G,onMouseOut:J},r.createElement(Rm,{position:E,centerX:w,centerY:x,radius:A})),ne&&r.createElement("g",{onMouseDown:function(e){return Z(e,!1)},onMouseEnter:G,onMouseOut:J},r.createElement(Rm,{position:_,centerX:S,centerY:k,radius:A})))};return t.displayName="EdgeWrapper",(0,r.memo)(t)};function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zm(e){var t={default:Am(e.default||om),straight:Am(e.bezier||em),step:Am(e.step||Qp),smoothstep:Am(e.step||Zp),simplebezier:Am(e.simplebezier||Dp)},n=Object.keys(e).filter(function(e){return!["default","bezier"].includes(e)}).reduce(function(t,n){return t[n]=Am(e[n]||om),t},{});return Dm(Dm({},t),n)}function Lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=((null===n||void 0===n?void 0:n.x)||0)+t.x,o=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,a=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case hf.Top:return{x:r+i/2,y:o};case hf.Right:return{x:r+i,y:o+a/2};case hf.Bottom:return{x:r+i/2,y:o+a};case hf.Left:return{x:r,y:o+a/2}}}function $m(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find(function(e){return e.id===t})):n=e[0],"undefined"===typeof n?null:n}function Bm(e,t){var n,r,o,i,a,s=e.get(t),l=(null===s||void 0===s||null===(n=s[xf])||void 0===n?void 0:n.handleBounds)||null,c=!s||!l||!s.width||!s.height||"undefined"===typeof(null===(r=s.positionAbsolute)||void 0===r?void 0:r.x)||"undefined"===typeof(null===(o=s.positionAbsolute)||void 0===o?void 0:o.y);return[{x:(null===s||void 0===s||null===(i=s.positionAbsolute)||void 0===i?void 0:i.x)||0,y:(null===s||void 0===s||null===(a=s.positionAbsolute)||void 0===a?void 0:a.y)||0,width:(null===s||void 0===s?void 0:s.width)||0,height:(null===s||void 0===s?void 0:s.height)||0},l,!c]}var Hm="undefined"!==typeof document?document:null,Um=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:Hm},n=af((0,r.useState)(!1),2),o=n[0],i=n[1],a=(0,r.useRef)(new Set([])),s=af((0,r.useMemo)(function(){if(null!==e){var t=(Array.isArray(e)?e:[e]).filter(function(e){return"string"===typeof e}).map(function(e){return e.split("+")}),n=t.reduce(function(e,t){return e.concat.apply(e,cp(t))},[]);return[t,n]}return[[],[]]},[e]),2),l=s[0],c=s[1];return(0,r.useEffect)(function(){if(null!==e){var n,r,o=function(e){if(Wm(e))return!1;var t=Vm(e.code,c);a.current.add(e[t]),Fm(l,a.current,!1)&&(e.preventDefault(),i(!0))},s=function(e){if(Wm(e))return!1;var t=Vm(e.code,c);Fm(l,a.current,!0)?(i(!1),a.current.clear()):a.current.delete(e[t])},u=function(){a.current.clear(),i(!1)};return null===t||void 0===t||null===(n=t.target)||void 0===n||n.addEventListener("keydown",o),null===t||void 0===t||null===(r=t.target)||void 0===r||r.addEventListener("keyup",s),window.addEventListener("blur",u),function(){var e,n;null===t||void 0===t||null===(e=t.target)||void 0===e||e.removeEventListener("keydown",o),null===t||void 0===t||null===(n=t.target)||void 0===n||n.removeEventListener("keyup",s),window.removeEventListener("blur",u)}}},[e,i]),o};function Fm(e,t,n){return e.filter(function(e){return n||e.length===t.size}).some(function(e){return e.every(function(e){return t.has(e)})})}function Vm(e,t){return t.includes(e)?"code":"key"}function Wm(e){var t,n=(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===n||void 0===n?void 0:n.nodeName)||(null===n||void 0===n?void 0:n.hasAttribute("contenteditable"))}var qm=function(e){return{onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange}};var Ym=function(e){return{x:e.x,y:e.y,zoom:e.k}},Km=function(e,t){return e.target.closest(".".concat(t))},Xm=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}},Zm=function(e){var t=e.onMove,n=e.onMoveStart,o=e.onMoveEnd,i=e.zoomOnScroll,a=void 0===i||i,s=e.zoomOnPinch,l=void 0===s||s,c=e.panOnScroll,u=void 0!==c&&c,d=e.panOnScrollSpeed,h=void 0===d?.5:d,f=e.panOnScrollMode,p=void 0===f?cf.Free:f,m=e.zoomOnDoubleClick,g=void 0===m||m,v=e.selectionKeyPressed,y=e.elementsSelectable,b=e.panOnDrag,w=void 0===b||b,x=e.translateExtent,S=e.minZoom,k=e.maxZoom,E=e.defaultZoom,_=void 0===E?1:E,C=e.defaultPosition,N=void 0===C?[0,0]:C,j=e.zoomActivationKeyCode,O=e.preventScrolling,P=void 0===O||O,M=e.children,T=e.noWheelClassName,R=e.noPanClassName,A=ap(),I=(0,r.useRef)(!1),D=(0,r.useRef)(null),z=(0,r.useRef)({x:0,y:0,zoom:0}),L=ip(Xm,lp),$=L.d3Zoom,B=L.d3Selection,H=L.d3ZoomHandler,U=Um(j);return function(e){var t=ap();(0,r.useEffect)(function(){var n,r=function(){if(e.current){var n=ff(e.current);t.setState({width:n.width||500,height:n.height||500})}};return r(),window.onresize=r,e.current&&(n=new ResizeObserver(function(){return r()})).observe(e.current),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}},[])}(D),(0,r.useEffect)(function(){if(D.current){var e,t=jl().scaleExtent([S,k]).translateExtent(x),n=fa(D.current).call(t),r=pf(N[0],x[0][0],x[1][0]),o=pf(N[1],x[0][1],x[1][1]),i=pf(_,S,k),a=bl.translate(r,o).scale(i);t.transform(n,a),A.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[r,o,i],domNode:null===(e=n.node())||void 0===e?void 0:e.closest(".react-flow")})}},[]),(0,r.useEffect)(function(){B&&$&&(u&&!U?B.on("wheel",function(e){if(Km(e,T))return!1;e.preventDefault(),e.stopImmediatePropagation();var t=B.property("__zoom").k||1;if(e.ctrlKey&&l){var n=Sa(e),r=-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10,o=t*Math.pow(2,r);$.scaleTo(B,o,n)}else{var i=1===e.deltaMode?20:1,a=p===cf.Vertical?0:e.deltaX*i,s=p===cf.Horizontal?0:e.deltaY*i;$.translateBy(B,-a/t*h,-s/t*h)}}).on("wheel.zoom",null):"undefined"!==typeof H&&B.on("wheel",function(e){if(!P||Km(e,T))return null;e.preventDefault()}).on("wheel.zoom",H))},[u,p,B,$,H,U,l,P,T]),(0,r.useEffect)(function(){$&&(v&&!I.current?$.on("zoom",null):v||$.on("zoom",function(e){if(A.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),t){var n=Ym(e.transform);t(e.sourceEvent,n)}}))},[v,$,t]),(0,r.useEffect)(function(){$&&$.on("start",function(e){if(I.current=!0,n){var t=Ym(e.transform);z.current=t,n(e.sourceEvent,t)}})},[$,n]),(0,r.useEffect)(function(){$&&$.on("end",function(e){if(I.current=!1,o&&(n=z.current,r=e.transform,n.x!==r.x||n.y!==r.y||n.zoom!==r.k)){var t=Ym(e.transform);z.current=t,o(e.sourceEvent,t)}var n,r})},[$,o]),(0,r.useEffect)(function(){$&&$.filter(function(e){var t=U||a,n=l&&e.ctrlKey;return!!(w||t||u||g||l)&&(!v&&(!(!g&&"dblclick"===e.type)&&((!Km(e,T)||"wheel"!==e.type)&&((!Km(e,R)||"wheel"===e.type)&&(!(!l&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||u||n||"wheel"!==e.type)&&(!!(w||"mousedown"!==e.type&&"touchstart"!==e.type)&&((!e.ctrlKey||"wheel"===e.type)&&!e.button))))))))})},[$,a,l,u,g,w,v,y,U]),r.createElement("div",{className:"react-flow__renderer react-flow__container",ref:D},M)};function Gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gm(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qm(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var eg=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}},tg={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},ng=(0,r.memo)(function(e){var t=e.selectionKeyPressed,n=ap(),o=(0,r.useRef)(0),i=(0,r.useRef)(0),a=(0,r.useRef)(),s=af((0,r.useState)(tg),2),l=s[0],c=s[1],u=ip(eg,lp),d=u.userSelectionActive;if(!u.elementsSelectable||!(d||t))return null;var h=function(){c(tg),n.setState({userSelectionActive:!1}),o.current=0,i.current=0};return r.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:function(e){var t=e.target.closest(".react-flow");a.current=t.getBoundingClientRect();var r=Qm(e,a.current);c({width:0,height:0,startX:r.x,startY:r.y,x:r.x,y:r.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},onMouseMove:function(e){var r,s;if(t&&l.draw&&a.current){var u=Qm(e,a.current),d=null!==(r=l.startX)&&void 0!==r?r:0,h=null!==(s=l.startY)&&void 0!==s?s:0,f=Jm(Jm({},l),{},{x:u.x<d?u.x:d,y:u.y<h?u.y:h,width:Math.abs(u.x-d),height:Math.abs(u.y-h)}),p=n.getState(),m=p.nodeInternals,g=p.edges,v=p.transform,y=p.onNodesChange,b=p.onEdgesChange,w=Array.from(m.values()),x=Hf(m,f,v,!1,!0),S=Uf(x,g).map(function(e){return e.id}),k=x.map(function(e){return e.id});if(o.current!==k.length){o.current=k.length;var E=jf(w,k);E.length&&(null===y||void 0===y||y(E))}if(i.current!==S.length){i.current=S.length;var _=jf(g,S);_.length&&(null===b||void 0===b||b(_))}c(f)}},onMouseUp:function(){n.setState({nodesSelectionActive:o.current>0}),h()},onMouseLeave:function(){n.setState({nodesSelectionActive:!1}),h()}},l.draw&&r.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:l.width,height:l.height,transform:"translate(".concat(l.x,"px, ").concat(l.y,"px)")}}))});function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ig(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return!!n&&(!!n.selected||ig(n,t))}function ag(e,t,n){var r=e;do{var o;if(null!==(o=r)&&void 0!==o&&o.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function sg(e,t,n){return Array.from(e.values()).filter(function(t){return(t.selected||t.id===n)&&(!t.parentNode||!ig(t,e))}).map(function(e){var n,r,o,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:t.x-(null!==(n=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==n?n:0),y:t.y-(null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==o?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode,width:e.width,height:e.height}})}function lg(e){var t=e.nodeId,n=e.dragItems,r=e.nodeInternals,o=n.map(function(e){return og(og({},r.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute})});return[t?o.find(function(e){return e.id===t}):o[0],o]}function cg(e){return function(t,n,r){return null===e||void 0===e?void 0:e(t,r)}}function ug(e){var t=e.nodeRef,n=e.disabled,o=void 0!==n&&n,i=e.noDragClassName,a=e.handleSelector,s=e.nodeId,l=e.isSelectable,c=e.selectNodesOnDrag,u=af((0,r.useState)(!1),2),d=u[0],h=u[1],f=ap(),p=(0,r.useRef)(),m=(0,r.useRef)({x:null,y:null}),g=(0,r.useCallback)(function(e){var t=e.sourceEvent,n=f.getState(),r=n.transform,o=n.snapGrid,i=n.snapToGrid,a=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY;return $f({x:a,y:s},r,i,o)},[]);return(0,r.useEffect)(function(){if(null!==t&&void 0!==t&&t.current){var e=fa(t.current);if(!o){var n=Il().on("start",function(e){var t,n=f.getState(),r=n.nodeInternals,o=n.multiSelectionActive,i=n.unselectNodesAndEdges,a=n.onNodeDragStart,u=n.onSelectionDragStart,d=s?a:cg(u);c||o||!s||(null!==(t=r.get(s))&&void 0!==t&&t.selected||i());s&&l&&c&&Rf({id:s,store:f});var h=g(e);if(m.current=h,p.current=sg(r,h,s),d&&p.current){var v=af(lg({nodeId:s,dragItems:p.current,nodeInternals:r}),2),y=v[0],b=v[1];d(e.sourceEvent,y,b)}}).on("drag",function(e){var t=f.getState(),n=t.updateNodePositions,r=t.snapToGrid,o=t.snapGrid,i=t.nodeInternals,a=t.nodeExtent,l=t.onNodeDrag,c=t.onSelectionDrag,u=g(e);if((m.current.x!==u.x||m.current.y!==u.y)&&p.current){m.current=u,p.current=p.current.map(function(e){return function(e,t,n,r,o,i){var a=af(r,2),s=a[0],l=a[1],c=e.extent||i,u={x:t.x-e.distance.x,y:t.y-e.distance.y};if(n&&(u.x=s*Math.round(u.x/s),u.y=l*Math.round(u.y/l)),"parent"===e.extent)if(e.parentNode&&e.width&&e.height){var d=o.get(e.parentNode);c=null!==d&&void 0!==d&&d.positionAbsolute&&null!==d&&void 0!==d&&d.width&&null!==d&&void 0!==d&&d.height?[[d.positionAbsolute.x,d.positionAbsolute.y],[d.positionAbsolute.x+d.width-e.width,d.positionAbsolute.y+d.height-e.height]]:c}else c=i;else if(e.extent&&e.parentNode){var h,f,p,m,g=o.get(e.parentNode),v=null!==(h=null===g||void 0===g||null===(f=g.positionAbsolute)||void 0===f?void 0:f.x)&&void 0!==h?h:0,y=null!==(p=null===g||void 0===g||null===(m=g.positionAbsolute)||void 0===m?void 0:m.y)&&void 0!==p?p:0;c=[[e.extent[0][0]+v,e.extent[0][1]+y],[e.extent[1][0]+v,e.extent[1][1]+y]]}var b={x:0,y:0};if(e.parentNode){var w,x,S,k,E=o.get(e.parentNode);b={x:null!==(w=null===E||void 0===E||null===(x=E.positionAbsolute)||void 0===x?void 0:x.x)&&void 0!==w?w:0,y:null!==(S=null===E||void 0===E||null===(k=E.positionAbsolute)||void 0===k?void 0:k.y)&&void 0!==S?S:0}}return e.positionAbsolute=c?mf(u,c):u,e.position={x:e.positionAbsolute.x-b.x,y:e.positionAbsolute.y-b.y},e}(e,u,r,o,i,a)});var d=s?l:cg(c);if(n(p.current,!0,!0),h(!0),d){var v=af(lg({nodeId:s,dragItems:p.current,nodeInternals:i}),2),y=v[0],b=v[1];d(e.sourceEvent,y,b)}}e.on("end",function(e){if(h(!1),p.current){var t=f.getState(),n=t.updateNodePositions,r=t.nodeInternals,o=t.onNodeDragStop,i=t.onSelectionDragStop,a=s?o:cg(i);if(n(p.current,!1,!1),a){var l=af(lg({nodeId:s,dragItems:p.current,nodeInternals:r}),2),c=l[0],u=l[1];a(e.sourceEvent,c,u)}}})}).filter(function(e){var n=e.target;return!e.button&&(!i||!ag(n,".".concat(i),t))&&(!a||ag(n,a,t))});return e.call(n),function(){e.on(".drag",null)}}e.on(".drag",null)}},[t,o,i,a,l,f,s,c,g]),d}function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var hg=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive},Bf(Array.from(e.nodeInternals.values()).filter(function(e){return e.selected})))},fg=function(e){var t=Array.from(e.nodeInternals.values()).filter(function(e){return e.selected});return Bf(t)};function pg(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,o=ap(),i=ip(hg,lp),a=i.transformString,s=i.userSelectionActive,l=ip(fg,lp),c=l.width,u=l.height,d=l.x,h=l.y,f=(0,r.useRef)(null);if(ug({nodeRef:f}),s||!c||!u)return null;var p=t?function(e){var n=Array.from(o.getState().nodeInternals.values()).filter(function(e){return e.selected});t(e,n)}:void 0;return r.createElement("div",{className:Lo(["react-flow__nodesselection","react-flow__container",n]),style:{transform:a}},r.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,style:{width:c,height:u,top:h,left:d}}))}var mg=(0,r.memo)(pg),gg=function(e){return e.nodesSelectionActive},vg=function(e){var t=e.children,n=e.onPaneClick,o=e.onPaneContextMenu,i=e.onPaneScroll,a=e.deleteKeyCode,s=e.onMove,l=e.onMoveStart,c=e.onMoveEnd,u=e.selectionKeyCode,d=e.multiSelectionKeyCode,h=e.zoomActivationKeyCode,f=e.elementsSelectable,p=e.zoomOnScroll,m=e.zoomOnPinch,g=e.panOnScroll,v=e.panOnScrollSpeed,y=e.panOnScrollMode,b=e.zoomOnDoubleClick,w=e.panOnDrag,x=e.translateExtent,S=e.minZoom,k=e.maxZoom,E=e.defaultZoom,_=e.defaultPosition,C=e.preventScrolling,N=e.onSelectionContextMenu,j=e.noWheelClassName,O=e.noPanClassName,P=ap(),M=ip(gg),T=Um(u);!function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,o=ap(),i=ip(qm,lp),a=i.onNodesChange,s=i.onEdgesChange,l=Um(t),c=Um(n);(0,r.useEffect)(function(){var e=o.getState(),t=e.nodeInternals,n=e.edges,r=e.hasDefaultNodes,i=e.hasDefaultEdges,c=e.onNodesDelete,u=e.onEdgesDelete,d=Array.from(t.values()).reduce(function(e,t){return(!t.selected&&t.parentNode&&e.find(function(e){return e.id===t.parentNode})||t.selected)&&e.push(t),e},[]),h=n.filter(function(e){return e.selected});if(l&&(d||h)){var f=Uf(d,n),p=[].concat(cp(h),cp(f)),m=p.reduce(function(e,t){return e.includes(t.id)||e.push(t.id),e},[]);if((i||r)&&(i&&o.setState({edges:n.filter(function(e){return!m.includes(e.id)})}),r&&(d.forEach(function(e){t.delete(e.id)}),o.setState({nodeInternals:new Map(t)}))),m.length>0&&(null===u||void 0===u||u(p),s)){var g=m.map(function(e){return{id:e,type:"remove"}});s(g)}if(d.length>0&&(null===c||void 0===c||c(d),a)){var v=d.map(function(e){return{id:e.id,type:"remove"}});a(v)}o.setState({nodesSelectionActive:!1})}},[l,a,s]),(0,r.useEffect)(function(){o.setState({multiSelectionActive:c})},[c])}({deleteKeyCode:a,multiSelectionKeyCode:d});var R=o?function(e){return o(e)}:void 0,A=i?function(e){return i(e)}:void 0;return r.createElement(Zm,{onMove:s,onMoveStart:l,onMoveEnd:c,selectionKeyPressed:T,elementsSelectable:f,zoomOnScroll:p,zoomOnPinch:m,panOnScroll:g,panOnScrollSpeed:v,panOnScrollMode:y,zoomOnDoubleClick:b,panOnDrag:w,translateExtent:x,minZoom:S,maxZoom:k,defaultZoom:E,defaultPosition:_,zoomActivationKeyCode:h,preventScrolling:C,noWheelClassName:j,noPanClassName:O},t,r.createElement(ng,{selectionKeyPressed:T}),M&&r.createElement(mg,{onSelectionContextMenu:N,noPanClassName:O}),r.createElement("div",{className:"react-flow__pane react-flow__container",onClick:function(e){null===n||void 0===n||n(e),P.getState().resetSelectedElements(),P.setState({nodesSelectionActive:!1})},onContextMenu:R,onWheel:A}))};vg.displayName="FlowRenderer";var yg=(0,r.memo)(vg);var bg=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}},wg=function(e){var t,n=ip(bg,lp),o=n.nodesDraggable,i=n.nodesConnectable,a=n.elementsSelectable,s=n.updateNodeDimensions,l=(t=e.onlyRenderVisibleElements,ip((0,r.useCallback)(function(e){return t?Hf(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):Array.from(e.nodeInternals.values())},[t]))),c=(0,r.useRef)(),u=(0,r.useMemo)(function(){if("undefined"===typeof ResizeObserver)return null;var e=new ResizeObserver(function(e){var t=e.map(function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}});s(t)});return c.current=e,e},[]);return(0,r.useEffect)(function(){return function(){var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.disconnect()}},[]),r.createElement("div",{className:"react-flow__nodes react-flow__container"},l.map(function(t){var n,s,l,c,d,h,f,p=t.type||"default";e.nodeTypes[p]||(p="default");var m=e.nodeTypes[p]||e.nodeTypes.default,g=!!(t.draggable||o&&"undefined"===typeof t.draggable),v=!!(t.selectable||a&&"undefined"===typeof t.selectable),y=!!(t.connectable||i&&"undefined"===typeof t.connectable);return r.createElement(m,{key:t.id,id:t.id,className:t.className,style:t.style,type:p,data:t.data,sourcePosition:t.sourcePosition||hf.Bottom,targetPosition:t.targetPosition||hf.Top,hidden:t.hidden,xPos:null!==(n=null===(s=t.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==n?n:0,yPos:null!==(l=null===(c=t.positionAbsolute)||void 0===c?void 0:c.y)&&void 0!==l?l:0,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:g,isSelectable:v,isConnectable:y,resizeObserver:u,dragHandle:t.dragHandle,zIndex:null!==(d=null===(h=t[xf])||void 0===h?void 0:h.z)&&void 0!==d?d:0,isParent:!(null===(f=t[xf])||void 0===f||!f.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height})}))};wg.displayName="NodeRenderer";var xg,Sg=(0,r.memo)(wg);function kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kg(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _g,Cg=(nf(xg={},hf.Left,hf.Right),nf(xg,hf.Right,hf.Left),nf(xg,hf.Top,hf.Bottom),nf(xg,hf.Bottom,hf.Top),xg),Ng=function(e){var t,n,o,i,a,s=e.connectionNodeId,l=e.connectionHandleType,c=e.connectionLineStyle,u=e.connectionLineType,d=void 0===u?uf.Bezier:u,h=e.isConnectable,f=e.CustomConnectionLineComponent,p=ip((0,r.useCallback)(function(e){return{fromNode:e.nodeInternals.get(s),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2]}},[s]),lp),m=p.fromNode,g=p.handleId,v=p.toX,y=p.toY,b=null===m||void 0===m||null===(t=m[xf])||void 0===t?void 0:t.handleBounds;if(!m||!h||null===b||void 0===b||!b[l])return null;var w=b[l],x=g?w.find(function(e){return e.id===g}):w[0],S=x?x.x+x.width/2:(null!==(n=null===m||void 0===m?void 0:m.width)&&void 0!==n?n:0)/2,k=x?x.y+x.height/2:null!==(o=null===m||void 0===m?void 0:m.height)&&void 0!==o?o:0,E=((null===m||void 0===m||null===(i=m.positionAbsolute)||void 0===i?void 0:i.x)||0)+S,_=((null===m||void 0===m||null===(a=m.positionAbsolute)||void 0===a?void 0:a.y)||0)+k,C=null===x||void 0===x?void 0:x.position;if(!C)return null;var N,j,O,P,M,T,R=Cg[C];switch(l){case"source":N=E,j=_,O=C,P=v,M=y,T=R;break;case"target":N=v,j=y,O=R,P=E,M=_,T=C}if(f)return r.createElement("g",{className:"react-flow__connection"},r.createElement(f,{connectionLineType:d,connectionLineStyle:c,fromNode:m,fromHandle:x,fromX:E,fromY:_,toX:v,toY:y,fromPosition:C,toPosition:R,sourcePosition:O,targetPosition:T,sourceNode:m,sourceHandle:x,targetX:P,targetY:M,sourceX:N,sourceY:j}));var A="",I={sourceX:N,sourceY:j,sourcePosition:O,targetX:P,targetY:M,targetPosition:T};return A=d===uf.Bezier?rm(I):d===uf.Step?Xp(Eg(Eg({},I),{},{borderRadius:0})):d===uf.SmoothStep?Xp(I):d===uf.SimpleBezier?Ip(I):"M".concat(N,",").concat(j," ").concat(P,",").concat(M),r.createElement("g",{className:"react-flow__connection"},r.createElement("path",{d:A,className:"react-flow__connection-path",style:c}))};function jg(e){return jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}var Og=(nf(_g={},df.Arrow,function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth,i=void 0===o?1:o;return r.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:i,fill:"none",points:"-5,-4 0,0 -5,4"})}),nf(_g,df.ArrowClosed,function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth,i=void 0===o?1:o;return r.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:i,fill:n,points:"-5,-4 0,0 -5,4 -5,-4"})}),_g);function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Mg=function(e){var t=e.id,n=e.type,o=e.color,i=e.width,a=void 0===i?12.5:i,s=e.height,l=void 0===s?12.5:s,c=e.markerUnits,u=void 0===c?"strokeWidth":c,d=e.strokeWidth,h=e.orient,f=void 0===h?"auto":h,p=function(e){return(0,r.useMemo)(function(){return Og.hasOwnProperty(e)?Og[e]:function(){return null}},[e])}(n);return r.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(a),markerHeight:"".concat(l),viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0"},r.createElement(p,{color:o,strokeWidth:d}))},Tg=function(e){var t=e.defaultColor,n=e.rfId;return function(e){var r=[];return e.edges.reduce(function(e,o){return[o.markerStart,o.markerEnd].forEach(function(o){if(o&&"object"===jg(o)){var i=zf(o,n);r.includes(i)||(e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:i,color:o.color||t},o)),r.push(i))}}),e},[]).sort(function(e,t){return e.id.localeCompare(t.id)})}},Rg=function(e){var t=e.defaultColor,n=e.rfId,o=ip((0,r.useCallback)(Tg({defaultColor:t,rfId:n}),[t,n]),function(e,t){return!(e.length!==t.length||e.some(function(e,n){return e.id!==t[n].id}))});return r.createElement("defs",null,o.map(function(e){return r.createElement(Mg,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})}))};Rg.displayName="MarkerDefinitions";var Ag=(0,r.memo)(Rg),Ig=[{level:0,isMaxLevel:!0,edges:[]}];function Dg(e,t,n){var o=ip((0,r.useCallback)(function(n){return e?n.edges.filter(function(e){var r=t.get(e.source),o=t.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&function(e){var t=e.sourcePos,n=e.targetPos,r=e.sourceWidth,o=e.sourceHeight,i=e.targetWidth,a=e.targetHeight,s=e.width,l=e.height,c=e.transform,u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+i),y2:Math.max(t.y+o,n.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);var d=yf({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:n.width,height:n.height,transform:n.transform})}):n.edges},[e,t]));return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1,o=e.reduce(function(e,o){var i,a,s,l,c=wf(o.zIndex),u=c?o.zIndex:0;return n&&(u=c?o.zIndex:Math.max((null===(i=t.get(o.source))||void 0===i||null===(a=i[xf])||void 0===a?void 0:a.z)||0,(null===(s=t.get(o.target))||void 0===s||null===(l=s[xf])||void 0===l?void 0:l.z)||0)),e[u]?e[u].push(o):e[u]=[o],r=u>r?u:r,e},{}),i=Object.entries(o).map(function(e){var t=af(e,2),n=+t[0];return{edges:t[1],level:n,isMaxLevel:n===r}});return 0===i.length?Ig:i}(o,t,n)}var zg=function(e){return{connectionNodeId:e.connectionNodeId,connectionHandleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}},Lg=function(e){var t=ip(zg,lp),n=t.connectionNodeId,o=t.connectionHandleType,i=t.nodesConnectable,a=t.elementsSelectable,s=t.width,l=t.height,c=t.connectionMode,u=t.nodeInternals,d=Dg(e.onlyRenderVisibleElements,u,e.elevateEdgesOnSelect);if(!s)return null;var h=e.connectionLineType,f=e.defaultMarkerColor,p=e.connectionLineStyle,m=e.connectionLineComponent,g=e.connectionLineContainerStyle,v=n&&o;return r.createElement(r.Fragment,null,d.map(function(t){var n=t.level,o=t.edges,i=t.isMaxLevel;return r.createElement("svg",{key:n,style:{zIndex:n},width:s,height:l,className:"react-flow__edges react-flow__container"},i&&r.createElement(Ag,{defaultColor:f,rfId:e.rfId}),r.createElement("g",null,o.map(function(t){var n=af(Bm(u,t.source),3),o=n[0],i=n[1],s=n[2],l=af(Bm(u,t.target),3),d=l[0],h=l[1],f=l[2];if(!s||!f)return null;var p=t.type||"default";e.edgeTypes[p]||(console.warn('[React Flow]: Edge type "'.concat(p,'" not found. Using fallback type "default". Help: https://reactflow.dev/error#300')),p="default");var m=e.edgeTypes[p]||e.edgeTypes.default,g=c===sf.Strict?h.target:h.target||h.source,v=$m(i.source,t.sourceHandle||null),y=$m(g,t.targetHandle||null),b=(null===v||void 0===v?void 0:v.position)||hf.Bottom,w=(null===y||void 0===y?void 0:y.position)||hf.Top;if(!v)return null;if(!y)return null;var x=function(e,t,n,r,o,i){var a=Lm(n,e,t),s=Lm(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}}(o,v,b,d,y,w),S=x.sourceX,k=x.sourceY,E=x.targetX,_=x.targetY;return r.createElement(m,{key:t.id,id:t.id,className:Lo([t.className,e.noPanClassName]),type:p,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:S,sourceY:k,targetX:E,targetY:_,sourcePosition:b,targetPosition:w,elementsSelectable:a,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId})})))}),v&&r.createElement("svg",{style:g,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},r.createElement(Ng,{connectionNodeId:n,connectionHandleType:o,connectionLineStyle:p,connectionLineType:h,isConnectable:i,CustomConnectionLineComponent:m})))};Lg.displayName="EdgeRenderer";var $g=(0,r.memo)(Lg),Bg=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function Hg(e){var t=e.children,n=ip(Bg);return r.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}var Ug=function(e){var t=e.nodeTypes,n=e.edgeTypes,o=e.onMove,i=e.onMoveStart,a=e.onMoveEnd,s=e.onInit,l=e.onNodeClick,c=e.onEdgeClick,u=e.onNodeDoubleClick,d=e.onEdgeDoubleClick,h=e.onNodeMouseEnter,f=e.onNodeMouseMove,p=e.onNodeMouseLeave,m=e.onNodeContextMenu,g=e.onSelectionContextMenu,v=e.connectionLineType,y=e.connectionLineStyle,b=e.connectionLineComponent,w=e.connectionLineContainerStyle,x=e.selectionKeyCode,S=e.multiSelectionKeyCode,k=e.zoomActivationKeyCode,E=e.deleteKeyCode,_=e.onlyRenderVisibleElements,C=e.elementsSelectable,N=e.selectNodesOnDrag,j=e.translateExtent,O=e.minZoom,P=e.maxZoom,M=e.defaultZoom,T=e.defaultPosition,R=e.preventScrolling,A=e.defaultMarkerColor,I=e.zoomOnScroll,D=e.zoomOnPinch,z=e.panOnScroll,L=e.panOnScrollSpeed,$=e.panOnScrollMode,B=e.zoomOnDoubleClick,H=e.panOnDrag,U=e.onPaneClick,F=e.onPaneScroll,V=e.onPaneContextMenu,W=e.onEdgeUpdate,q=e.onEdgeContextMenu,Y=e.onEdgeMouseEnter,K=e.onEdgeMouseMove,X=e.onEdgeMouseLeave,Z=e.edgeUpdaterRadius,G=e.onEdgeUpdateStart,J=e.onEdgeUpdateEnd,Q=e.noDragClassName,ee=e.noWheelClassName,te=e.noPanClassName,ne=e.elevateEdgesOnSelect,re=e.id;return function(e){var t=pp(),n=(0,r.useRef)(!1);(0,r.useEffect)(function(){!n.current&&t.viewportInitialized&&e&&(setTimeout(function(){return e(t)},1),n.current=!0)},[e,t.viewportInitialized])}(s),r.createElement(yg,{onPaneClick:U,onPaneContextMenu:V,onPaneScroll:F,deleteKeyCode:E,selectionKeyCode:x,multiSelectionKeyCode:S,zoomActivationKeyCode:k,elementsSelectable:C,onMove:o,onMoveStart:i,onMoveEnd:a,zoomOnScroll:I,zoomOnPinch:D,zoomOnDoubleClick:B,panOnScroll:z,panOnScrollSpeed:L,panOnScrollMode:$,panOnDrag:H,translateExtent:j,minZoom:O,maxZoom:P,defaultZoom:M,defaultPosition:T,onSelectionContextMenu:g,preventScrolling:R,noDragClassName:Q,noWheelClassName:ee,noPanClassName:te},r.createElement(Hg,null,r.createElement($g,{edgeTypes:n,onEdgeClick:c,onEdgeDoubleClick:d,connectionLineType:v,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:w,onEdgeUpdate:W,onlyRenderVisibleElements:_,onEdgeContextMenu:q,onEdgeMouseEnter:Y,onEdgeMouseMove:K,onEdgeMouseLeave:X,onEdgeUpdateStart:G,onEdgeUpdateEnd:J,edgeUpdaterRadius:Z,defaultMarkerColor:A,noPanClassName:te,elevateEdgesOnSelect:!!ne,rfId:re}),r.createElement(Sg,{nodeTypes:t,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:N,onlyRenderVisibleElements:_,noPanClassName:te,noDragClassName:Q})))};Ug.displayName="GraphView";var Fg=(0,r.memo)(Ug),Vg=function(){return null};function Wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wg(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Vg.displayName="GroupNode";var Yg=function(e){var t=function(t){var n=t.id,o=t.type,i=t.data,a=t.xPos,s=t.yPos,l=t.selected,c=t.onClick,u=t.onMouseEnter,d=t.onMouseMove,h=t.onMouseLeave,f=t.onContextMenu,p=t.onDoubleClick,m=t.style,g=t.className,v=t.isDraggable,y=t.isSelectable,b=t.isConnectable,w=t.selectNodesOnDrag,x=t.sourcePosition,S=t.targetPosition,k=t.hidden,E=t.resizeObserver,_=t.dragHandle,C=t.zIndex,N=t.isParent,j=t.noPanClassName,O=t.noDragClassName,P=t.initialized,M=ap(),T=(0,r.useRef)(null),R=(0,r.useRef)(x),A=(0,r.useRef)(S),I=(0,r.useRef)(o),D=y||v||c||u||d||h,z=Tf(n,M.getState,u),L=Tf(n,M.getState,d),$=Tf(n,M.getState,h),B=Tf(n,M.getState,f),H=Tf(n,M.getState,p);(0,r.useEffect)(function(){if(T.current&&!k){var e=T.current;return null===E||void 0===E||E.observe(e),function(){return null===E||void 0===E?void 0:E.unobserve(e)}}},[k]),(0,r.useEffect)(function(){var e=I.current!==o,t=R.current!==x,r=A.current!==S;T.current&&(e||t||r)&&(e&&(I.current=o),t&&(R.current=x),r&&(A.current=S),M.getState().updateNodeDimensions([{id:n,nodeElement:T.current,forceUpdate:!0}]))},[n,o,x,S]);var U=ug({nodeRef:T,disabled:k||!v,noDragClassName:O,handleSelector:_,nodeId:n,isSelectable:y,selectNodesOnDrag:w});return k?null:r.createElement("div",{className:Lo(["react-flow__node","react-flow__node-".concat(o),j,g,{selected:l,selectable:y,parent:N}]),ref:T,style:qg({zIndex:C,transform:"translate(".concat(a,"px,").concat(s,"px)"),pointerEvents:D?"all":"none",visibility:P?"visible":"hidden"},m),onMouseEnter:z,onMouseMove:L,onMouseLeave:$,onContextMenu:B,onClick:function(e){if(!y||w&&v||Rf({id:n,store:M}),c){var t=M.getState().nodeInternals.get(n);c(e,qg({},t))}},onDoubleClick:H,"data-testid":"rf__node-".concat(n),"data-id":n},r.createElement(am,{value:n},r.createElement(e,{id:n,data:i,type:o,xPos:a,yPos:s,selected:l,isConnectable:b,sourcePosition:x,targetPosition:S,dragging:U,dragHandle:_,zIndex:C})))};return t.displayName="NodeWrapper",(0,r.memo)(t)};function Kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kg(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zg(e){var t={input:Yg(e.input||wm),default:Yg(e.default||ym),output:Yg(e.output||Sm),group:Yg(e.group||Vg)},n=Object.keys(e).filter(function(e){return!["input","default","output","group"].includes(e)}).reduce(function(t,n){return t[n]=Yg(e[n]||ym),t},{});return Xg(Xg({},t),n)}function Gg(e,t){(0,r.useRef)(null);return(0,r.useMemo)(function(){return t(e)},[e])}function Jg(e){if(e&&"undefined"!==typeof document){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.appendChild(document.createTextNode(e))}}var Qg=function(e){var t=e.children,n=!0;try{ap()}catch(Av){n=!1}return n?r.createElement(r.Fragment,null,t):r.createElement(op,{createStore:sp},t)};Qg.displayName="ReactFlowWrapper";var ev=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Jg(".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}"),Jg(".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var rv={input:wm,default:ym,output:Sm},ov={default:om,straight:em,step:Qp,smoothstep:Zp,simplebezier:Dp},iv=[15,15],av=[0,0],sv=(0,r.forwardRef)(function(e,t){var n=e.nodes,o=e.edges,i=e.defaultNodes,a=e.defaultEdges,s=e.className,l=e.nodeTypes,c=void 0===l?rv:l,u=e.edgeTypes,d=void 0===u?ov:u,h=e.onNodeClick,f=e.onEdgeClick,p=e.onInit,m=e.onMove,g=e.onMoveStart,v=e.onMoveEnd,y=e.onConnect,b=e.onConnectStart,w=e.onConnectStop,x=e.onConnectEnd,S=e.onClickConnectStart,k=e.onClickConnectStop,E=e.onClickConnectEnd,_=e.onNodeMouseEnter,C=e.onNodeMouseMove,N=e.onNodeMouseLeave,j=e.onNodeContextMenu,O=e.onNodeDoubleClick,P=e.onNodeDragStart,M=e.onNodeDrag,T=e.onNodeDragStop,R=e.onNodesDelete,A=e.onEdgesDelete,I=e.onSelectionChange,D=e.onSelectionDragStart,z=e.onSelectionDrag,L=e.onSelectionDragStop,$=e.onSelectionContextMenu,B=e.connectionMode,H=void 0===B?sf.Strict:B,U=e.connectionLineType,F=void 0===U?uf.Bezier:U,V=e.connectionLineStyle,W=e.connectionLineComponent,q=e.connectionLineContainerStyle,Y=e.deleteKeyCode,K=void 0===Y?"Backspace":Y,X=e.selectionKeyCode,Z=void 0===X?"Shift":X,G=e.multiSelectionKeyCode,J=void 0===G?"Meta":G,Q=e.zoomActivationKeyCode,ee=void 0===Q?"Meta":Q,te=e.snapToGrid,ne=void 0!==te&&te,re=e.snapGrid,oe=void 0===re?iv:re,ie=e.onlyRenderVisibleElements,ae=void 0!==ie&&ie,se=e.selectNodesOnDrag,le=void 0===se||se,ce=e.nodesDraggable,ue=e.nodesConnectable,de=e.elementsSelectable,he=e.minZoom,fe=void 0===he?.5:he,pe=e.maxZoom,me=void 0===pe?2:pe,ge=e.defaultZoom,ve=void 0===ge?1:ge,ye=e.defaultPosition,be=void 0===ye?av:ye,we=e.translateExtent,xe=void 0===we?Qf:we,Se=e.preventScrolling,ke=void 0===Se||Se,Ee=e.nodeExtent,_e=e.defaultMarkerColor,Ce=void 0===_e?"#b1b1b7":_e,Ne=e.zoomOnScroll,je=void 0===Ne||Ne,Oe=e.zoomOnPinch,Pe=void 0===Oe||Oe,Me=e.panOnScroll,Te=void 0!==Me&&Me,Re=e.panOnScrollSpeed,Ae=void 0===Re?.5:Re,Ie=e.panOnScrollMode,De=void 0===Ie?cf.Free:Ie,ze=e.zoomOnDoubleClick,Le=void 0===ze||ze,$e=e.panOnDrag,Be=void 0===$e||$e,He=e.onPaneClick,Ue=e.onPaneScroll,Fe=e.onPaneContextMenu,Ve=e.children,We=e.onEdgeUpdate,qe=e.onEdgeContextMenu,Ye=e.onEdgeDoubleClick,Ke=e.onEdgeMouseEnter,Xe=e.onEdgeMouseMove,Ze=e.onEdgeMouseLeave,Ge=e.onEdgeUpdateStart,Je=e.onEdgeUpdateEnd,Qe=e.edgeUpdaterRadius,et=void 0===Qe?10:Qe,tt=e.onNodesChange,nt=e.onEdgesChange,rt=e.noDragClassName,ot=void 0===rt?"nodrag":rt,it=e.noWheelClassName,at=void 0===it?"nowheel":it,st=e.noPanClassName,lt=void 0===st?"nopan":st,ct=e.fitView,ut=void 0!==ct&&ct,dt=e.fitViewOptions,ht=e.connectOnClick,ft=void 0===ht||ht,pt=e.attributionPosition,mt=e.proOptions,gt=e.defaultEdgeOptions,vt=e.elevateEdgesOnSelect,yt=void 0!==vt&&vt,bt=mp(e,ev),wt=Gg(c,Zg),xt=Gg(d,zm);return r.createElement("div",nv(nv({},bt),{},{ref:t,className:Lo(["react-flow",s])}),r.createElement(Qg,null,r.createElement(Fg,{onInit:p,onMove:m,onMoveStart:g,onMoveEnd:v,onNodeClick:h,onEdgeClick:f,onNodeMouseEnter:_,onNodeMouseMove:C,onNodeMouseLeave:N,onNodeContextMenu:j,onNodeDoubleClick:O,nodeTypes:wt,edgeTypes:xt,connectionLineType:F,connectionLineStyle:V,connectionLineComponent:W,connectionLineContainerStyle:q,selectionKeyCode:Z,deleteKeyCode:K,multiSelectionKeyCode:J,zoomActivationKeyCode:ee,onlyRenderVisibleElements:ae,selectNodesOnDrag:le,translateExtent:xe,minZoom:fe,maxZoom:me,defaultZoom:ve,defaultPosition:be,preventScrolling:ke,zoomOnScroll:je,zoomOnPinch:Pe,zoomOnDoubleClick:Le,panOnScroll:Te,panOnScrollSpeed:Ae,panOnScrollMode:De,panOnDrag:Be,onPaneClick:He,onPaneScroll:Ue,onPaneContextMenu:Fe,onSelectionContextMenu:$,onEdgeUpdate:We,onEdgeContextMenu:qe,onEdgeDoubleClick:Ye,onEdgeMouseEnter:Ke,onEdgeMouseMove:Xe,onEdgeMouseLeave:Ze,onEdgeUpdateStart:Ge,onEdgeUpdateEnd:Je,edgeUpdaterRadius:et,defaultMarkerColor:Ce,noDragClassName:ot,noWheelClassName:at,noPanClassName:lt,elevateEdgesOnSelect:yt,id:null===bt||void 0===bt?void 0:bt.id}),r.createElement(Pm,{nodes:n,edges:o,defaultNodes:i,defaultEdges:a,onConnect:y,onConnectStart:b,onConnectStop:w,onConnectEnd:x,onClickConnectStart:S,onClickConnectStop:k,onClickConnectEnd:E,nodesDraggable:ce,nodesConnectable:ue,elementsSelectable:de,minZoom:fe,maxZoom:me,nodeExtent:Ee,onNodesChange:tt,onEdgesChange:nt,snapToGrid:ne,snapGrid:oe,connectionMode:H,translateExtent:xe,connectOnClick:ft,defaultEdgeOptions:gt,fitView:ut,fitViewOptions:dt,onNodesDelete:R,onEdgesDelete:A,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:T,onSelectionDrag:z,onSelectionDragStart:D,onSelectionDragStop:L}),I&&r.createElement(Cm,{onSelectionChange:I}),Ve,r.createElement(jp,{proOptions:mt,position:pt})))});sv.displayName="ReactFlow";function lv(e){return function(t){var n=af((0,r.useState)(t),2),o=n[0],i=n[1],a=(0,r.useCallback)(function(t){return i(function(n){return e(t,n)})},[]);return[o,i,a]}}var cv=lv(Cf),uv=lv(function(e,t){return _f(e,t)}),dv=function(e){var t=e.x,n=e.y,o=e.width,i=e.height,a=e.style,s=e.color,l=e.strokeColor,c=e.strokeWidth,u=e.className,d=e.borderRadius,h=e.shapeRendering,f=a||{},p=f.background,m=f.backgroundColor,g=s||p||m;return r.createElement("rect",{className:Lo(["react-flow__minimap-node",u]),x:t,y:n,rx:d,ry:d,width:o,height:i,fill:g,stroke:l,strokeWidth:c,shapeRendering:h})};dv.displayName="MiniMapNode";var hv=(0,r.memo)(dv),fv=function(e){return{viewBBox:{x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]},nodes:Array.from(e.nodeInternals.values())}},pv=function(e){return e instanceof Function?e:function(){return e}},mv=function(e){var t,n,o,i,a=e.style,s=e.className,l=e.nodeStrokeColor,c=void 0===l?"#555":l,u=e.nodeColor,d=void 0===u?"#fff":u,h=e.nodeClassName,f=void 0===h?"":h,p=e.nodeBorderRadius,m=void 0===p?5:p,g=e.nodeStrokeWidth,v=void 0===g?2:g,y=e.maskColor,b=void 0===y?"rgb(240, 242, 243, 0.7)":y,w=ip(fv,lp),x=w.viewBBox,S=w.nodes,k=null!==(t=null===a||void 0===a?void 0:a.width)&&void 0!==t?t:200,E=null!==(n=null===a||void 0===a?void 0:a.height)&&void 0!==n?n:150,_=pv(d),C=pv(c),N=pv(f),j=S.length>0?(o=Bf(S),i=x,bf(vf(yf(o),yf(i)))):x,O=j.width/k,P=j.height/E,M=Math.max(O,P),T=M*k,R=M*E,A=5*M,I=j.x-(T-j.width)/2-A,D=j.y-(R-j.height)/2-A,z=T+2*A,L=R+2*A,$="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return r.createElement("svg",{width:k,height:E,viewBox:"".concat(I," ").concat(D," ").concat(z," ").concat(L),style:a,className:Lo(["react-flow__minimap",s])},S.filter(function(e){return!e.hidden&&e.width&&e.height}).map(function(e){var t,n,o,i;return r.createElement(hv,{key:e.id,x:null!==(t=null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==o?o:0,width:e.width,height:e.height,style:e.style,className:N(e),color:_(e),borderRadius:m,strokeColor:C(e),strokeWidth:v,shapeRendering:$})}),r.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(I-A,",").concat(D-A,"h").concat(z+2*A,"v").concat(L+2*A,"h").concat(-z-2*A,"z\n        M").concat(x.x,",").concat(x.y,"h").concat(x.width,"v").concat(x.height,"h").concat(-x.width,"z"),fill:b,fillRule:"evenodd"}))};mv.displayName="MiniMap";var gv,vv=(0,r.memo)(mv);function yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(n),!0).forEach(function(t){nf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var wv=(nf(gv={},lf.Dots,"#81818a"),nf(gv,lf.Lines,"#eee"),gv),xv=function(e){return e.transform},Sv=function(e){var t=e.variant,n=void 0===t?lf.Dots:t,o=e.gap,i=void 0===o?15:o,a=e.size,s=void 0===a?.4:a,l=e.color,c=e.style,u=e.className,d=(0,r.useRef)(null),h=af((0,r.useState)(null),2),f=h[0],p=h[1],m=af(ip(xv),3),g=m[0],v=m[1],y=m[2];(0,r.useEffect)(function(){var e=document.querySelectorAll(".react-flow__background"),t=Array.from(e).findIndex(function(e){return e===d.current});p("pattern-".concat(t))},[]);var b=i*y||1,w=g%b,x=v%b,S=n===lf.Lines,k=l||wv[n],E=S?function(e,t,n){return r.createElement("path",{stroke:n,strokeWidth:t,d:"M".concat(e/2," 0 V").concat(e," M0 ").concat(e/2," H").concat(e)})}(b,s,k):function(e,t){return r.createElement("circle",{cx:e,cy:e,r:e,fill:t})}(s*y,k);return r.createElement("svg",{className:Lo(["react-flow__background","react-flow__container",u]),style:bv(bv({},c),{},{width:"100%",height:"100%"}),ref:d},f&&r.createElement(r.Fragment,null,r.createElement("pattern",{id:f,x:w,y:x,width:b,height:b,patternUnits:"userSpaceOnUse"},E),r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(f,")")})))};Sv.displayName="Background";var kv=(0,r.memo)(Sv);const Ev=[{id:"1",type:"input",data:{label:"Concepto inicial"},position:{x:250,y:5}}],_v=[];function Cv(){const e=ne(),{user:t,loading:n}=No(),[o,i]=(0,r.useState)({emoji:"\ud83d\udd25",title:"",description:"",nodes:[]}),[a,s]=(0,r.useState)({label:"",description:"",icon:"\ud83d\udcda"}),[l,c,u]=cv(Ev),[d,h,f]=uv(_v),p=(0,r.useCallback)(e=>h(t=>Lf(e,t)),[h]);(0,r.useEffect)(()=>{if(!n&&!t)return alert("Debes iniciar sesi\xf3n para crear roadmaps"),void e("/")},[t,n,e]);return n?(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsx)("div",{className:"text-center",children:(0,Eo.jsx)("p",{className:"text-gray-600",children:"Cargando..."})})}):t?(0,Eo.jsxs)("div",{className:"w-full h-[calc(100vh-80px)] bg-gray-50 flex flex-col",children:[(0,Eo.jsx)("div",{className:"flex items-center justify-between px-6 py-3 bg-white border-b border-gray-200 shadow-sm",children:(0,Eo.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Editor de Roadmap"})}),(0,Eo.jsx)("div",{className:"flex-1",children:(0,Eo.jsxs)(sv,{nodes:l,edges:d,onNodesChange:u,onEdgesChange:f,onConnect:p,fitView:!0,children:[(0,Eo.jsx)(vv,{}),(0,Eo.jsx)(Cp,{}),(0,Eo.jsx)(kv,{gap:16,color:"#e5e7eb"})]})})]}):(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsx)("div",{className:"text-center",children:(0,Eo.jsx)("p",{className:"text-gray-600",children:"Redirigiendo..."})})})}function Nv(){const e=ne(),{user:t,loading:n}=No(),[o,i]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!n&&!t)return alert("Debes iniciar sesi\xf3n para ver tus roadmaps"),void e("/");t&&l(t.id)},[t,n,e]);const l=async e=>{try{const t=await Gr.getUserRoadmaps(e);i(t)}catch(t){console.error("Error cargando roadmaps:",t),alert("Error al cargar tus roadmaps")}finally{s(!1)}};return n?(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsx)("div",{className:"text-center",children:(0,Eo.jsx)("p",{className:"text-gray-600",children:"Cargando..."})})}):t?a?(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsx)("div",{className:"text-center",children:(0,Eo.jsx)("p",{className:"text-gray-600",children:"Cargando tus roadmaps..."})})}):(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Eo.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Eo.jsx)("div",{className:"mb-8",children:(0,Eo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Eo.jsxs)("div",{children:[(0,Eo.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mis Roadmaps"}),(0,Eo.jsx)("p",{className:"text-gray-600",children:"Gestiona tus roadmaps personalizados"})]}),(0,Eo.jsxs)("button",{onClick:()=>e("/create"),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Eo.jsx)(vo,{className:"mr-2"}),"Crear Nuevo"]})]})}),0===o.length?(0,Eo.jsxs)("div",{className:"text-center py-12",children:[(0,Eo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcda"}),(0,Eo.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tienes roadmaps a\xfan"}),(0,Eo.jsx)("p",{className:"text-gray-600 mb-6",children:"Crea tu primer roadmap personalizado"}),(0,Eo.jsx)("button",{onClick:()=>e("/create"),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Crear Mi Primer Roadmap"})]}):(0,Eo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(n=>(0,Eo.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,Eo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Eo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Eo.jsx)("span",{className:"text-3xl",children:n.emoji}),(0,Eo.jsxs)("div",{children:[(0,Eo.jsx)("h3",{className:"font-semibold text-gray-900",children:n.title}),(0,Eo.jsx)("p",{className:"text-sm text-gray-500",children:new Date(n.created_at).toLocaleDateString()})]})]}),(0,Eo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Eo.jsx)("button",{onClick:()=>{return t=n.id,void e(`/roadmap/${t}`);var t},className:"p-2 text-blue-600 hover:text-blue-800 transition-colors",title:"Ver roadmap",children:(0,Eo.jsx)(fo,{})}),(0,Eo.jsx)("button",{onClick:()=>{return t=n.id,void e(`/edit/${t}`);var t},className:"p-2 text-green-600 hover:text-green-800 transition-colors",title:"Editar roadmap",children:(0,Eo.jsx)(ho,{})}),(0,Eo.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este roadmap?"))try{const{error:n}=await Zr.from("roadmaps").delete().eq("id",e);if(n)throw n;await l(t.id),alert("Roadmap eliminado exitosamente")}catch(n){console.error("Error eliminando roadmap:",n),alert("Error al eliminar el roadmap")}})(n.id),className:"p-2 text-red-600 hover:text-red-800 transition-colors",title:"Eliminar roadmap",children:(0,Eo.jsx)(So,{})})]})]}),n.description&&(0,Eo.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:n.description}),(0,Eo.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Eo.jsx)("span",{children:n.is_public?"\ud83c\udf10 P\xfablico":"\ud83d\udd12 Privado"}),(0,Eo.jsx)("span",{children:n.updated_at!==n.created_at?"Editado":"Creado"})]})]},n.id))})]})}):(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsx)("div",{className:"text-center",children:(0,Eo.jsx)("p",{className:"text-gray-600",children:"Redirigiendo..."})})})}function jv(){return(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Eo.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Eo.jsxs)("div",{className:"mb-8",children:[(0,Eo.jsxs)(nt,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,Eo.jsx)(co,{className:"mr-2"}),"Volver al inicio"]}),(0,Eo.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pol\xedtica de Privacidad"}),(0,Eo.jsx)("p",{className:"text-gray-600",children:"\xdaltima actualizaci\xf3n: Enero 2025"})]}),(0,Eo.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 sm:p-8",children:(0,Eo.jsxs)("div",{className:"prose prose-lg max-w-none",children:[(0,Eo.jsx)("h2",{children:"1. Informaci\xf3n General"}),(0,Eo.jsx)("p",{children:'MetalRoadmap ("nosotros", "nuestro", "la aplicaci\xf3n") es una plataforma educativa especializada en ingenier\xeda metal\xfargica que permite a los usuarios crear y gestionar roadmaps de aprendizaje personalizados.'}),(0,Eo.jsx)("h2",{children:"2. Informaci\xf3n que Recolectamos"}),(0,Eo.jsx)("h3",{children:"2.1 Informaci\xf3n de Registro"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Direcci\xf3n de correo electr\xf3nico"}),": Para crear y gestionar tu cuenta"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Nombre"}),": Opcional, obtenido desde LinkedIn o proporcionado por el usuario"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Contrase\xf1a"}),": Solo para registro con email (no almacenamos contrase\xf1as en texto plano)"]})]}),(0,Eo.jsx)("h3",{children:"2.2 Informaci\xf3n de LinkedIn (Opcional)"}),(0,Eo.jsx)("p",{children:"Si eliges iniciar sesi\xf3n con LinkedIn, podemos recibir:"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Nombre y apellido"}),(0,Eo.jsx)("li",{children:"Direcci\xf3n de correo electr\xf3nico"}),(0,Eo.jsx)("li",{children:"Foto de perfil (si est\xe1 disponible)"}),(0,Eo.jsx)("li",{children:"Informaci\xf3n b\xe1sica del perfil p\xfablico"})]}),(0,Eo.jsx)("h3",{children:"2.3 Contenido del Usuario"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Roadmaps creados"}),": T\xedtulos, descripciones, emojis"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Conceptos y nodos"}),": Informaci\xf3n educativa que agregas"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Recursos"}),": Enlaces y referencias que compartes"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Metadatos"}),": Fechas de creaci\xf3n, modificaciones"]})]}),(0,Eo.jsx)("h2",{children:"3. C\xf3mo Usamos tu Informaci\xf3n"}),(0,Eo.jsx)("h3",{children:"3.1 Prop\xf3sitos Principales"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Autenticaci\xf3n"}),": Verificar tu identidad y mantener tu sesi\xf3n"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Funcionalidad"}),": Permitirte crear, editar y gestionar roadmaps"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Mejoras"}),": Analizar el uso para mejorar la aplicaci\xf3n"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Comunicaci\xf3n"}),": Enviar notificaciones importantes sobre tu cuenta"]})]}),(0,Eo.jsx)("h3",{children:"3.2 An\xe1lisis y Mejoras"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Uso de datos agregados para mejorar la experiencia del usuario"}),(0,Eo.jsx)("li",{children:"No vendemos, alquilamos o compartimos datos personales con terceros"})]}),(0,Eo.jsx)("h2",{children:"4. Almacenamiento y Seguridad"}),(0,Eo.jsx)("h3",{children:"4.1 Base de Datos"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Utilizamos Supabase (PostgreSQL) para almacenar datos"}),(0,Eo.jsx)("li",{children:"Todos los datos est\xe1n protegidos con Row Level Security (RLS)"}),(0,Eo.jsx)("li",{children:"Cada usuario solo puede acceder a sus propios datos"})]}),(0,Eo.jsx)("h3",{children:"4.2 Seguridad"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Conexiones encriptadas (HTTPS)"}),(0,Eo.jsx)("li",{children:"Autenticaci\xf3n segura"}),(0,Eo.jsx)("li",{children:"Contrase\xf1as hasheadas (cuando aplica)"}),(0,Eo.jsx)("li",{children:"Acceso restringido a datos personales"})]}),(0,Eo.jsx)("h2",{children:"5. Compartir Informaci\xf3n"}),(0,Eo.jsx)("h3",{children:"5.1 No Vendemos Datos"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"No vendemos, alquilamos o comercializamos tus datos personales"}),(0,Eo.jsx)("li",{children:"No compartimos informaci\xf3n con anunciantes"})]}),(0,Eo.jsx)("h3",{children:"5.2 Proveedores de Servicios"}),(0,Eo.jsx)("p",{children:"Podemos compartir datos con:"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Supabase"}),": Para almacenamiento y autenticaci\xf3n"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Vercel"}),": Para hosting de la aplicaci\xf3n"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"LinkedIn"}),": Solo si usas login con LinkedIn"]})]}),(0,Eo.jsx)("h2",{children:"6. Tus Derechos"}),(0,Eo.jsx)("h3",{children:"6.1 Acceso y Control"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Ver tus datos"}),": Puedes ver toda la informaci\xf3n que tenemos sobre ti"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Editar"}),": Puedes actualizar tu informaci\xf3n de perfil"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Eliminar"}),": Puedes eliminar tu cuenta y todos tus datos"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Exportar"}),": Puedes solicitar una copia de tus datos"]})]}),(0,Eo.jsx)("h3",{children:"6.2 Eliminaci\xf3n de Datos"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Al eliminar tu cuenta, todos tus roadmaps y datos se eliminan permanentemente"}),(0,Eo.jsx)("li",{children:"Los datos eliminados no se pueden recuperar"})]}),(0,Eo.jsx)("h2",{children:"7. Cookies y Tecnolog\xedas de Seguimiento"}),(0,Eo.jsx)("h3",{children:"7.1 Cookies Necesarias"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Sesi\xf3n"}),": Para mantener tu sesi\xf3n activa"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Preferencias"}),": Para recordar tus configuraciones"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Seguridad"}),": Para proteger contra ataques"]})]}),(0,Eo.jsx)("h3",{children:"7.2 No Usamos"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Cookies de publicidad"}),(0,Eo.jsx)("li",{children:"Seguimiento de terceros"}),(0,Eo.jsx)("li",{children:"An\xe1lisis invasivo"})]}),(0,Eo.jsx)("h2",{children:"8. Menores de Edad"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Nuestra aplicaci\xf3n no est\xe1 dirigida a menores de 13 a\xf1os"}),(0,Eo.jsx)("li",{children:"No recolectamos intencionalmente informaci\xf3n de menores de 13 a\xf1os"}),(0,Eo.jsx)("li",{children:"Si eres padre y crees que tu hijo nos ha proporcionado informaci\xf3n, cont\xe1ctanos"})]}),(0,Eo.jsx)("h2",{children:"9. Cambios a esta Pol\xedtica"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"Notificaremos cambios importantes por email"}),(0,Eo.jsx)("li",{children:'La fecha de "\xfaltima actualizaci\xf3n" se modificar\xe1'}),(0,Eo.jsx)("li",{children:"El uso continuado significa aceptaci\xf3n de los cambios"})]}),(0,Eo.jsx)("h2",{children:"10. Contacto"}),(0,Eo.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,Eo.jsxs)("h3",{className:"flex items-center text-blue-800 mb-2",children:[(0,Eo.jsx)(mo,{className:"mr-2"}),"Para preguntas sobre privacidad:"]}),(0,Eo.jsxs)("ul",{className:"text-blue-700",children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Email"}),": [tu-email@dominio.com]"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Sitio web"}),": [tu-sitio-web.com/privacy]"]})]})]}),(0,Eo.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,Eo.jsxs)("h3",{className:"flex items-center text-green-800 mb-2",children:[(0,Eo.jsx)(xo,{className:"mr-2"}),"Para solicitudes de datos:"]}),(0,Eo.jsxs)("ul",{className:"text-green-700",children:[(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Acceso a datos"}),": Solicita una copia de tus datos"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Eliminaci\xf3n"}),": Solicita eliminar tu cuenta y datos"]}),(0,Eo.jsxs)("li",{children:[(0,Eo.jsx)("strong",{children:"Correcci\xf3n"}),": Solicita corregir informaci\xf3n incorrecta"]})]})]}),(0,Eo.jsx)("h2",{children:"11. Jurisdicci\xf3n"}),(0,Eo.jsx)("p",{children:"Esta pol\xedtica se rige por las leyes de [tu pa\xeds/regi\xf3n] y cumple con:"}),(0,Eo.jsxs)("ul",{children:[(0,Eo.jsx)("li",{children:"GDPR (Europa)"}),(0,Eo.jsx)("li",{children:"CCPA (California)"}),(0,Eo.jsx)("li",{children:"LGPD (Brasil)"}),(0,Eo.jsx)("li",{children:"Otras regulaciones aplicables"})]}),(0,Eo.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-8",children:[(0,Eo.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,Eo.jsx)("strong",{children:"Nota"}),": Esta pol\xedtica de privacidad es un template. Debes personalizarla con:"]}),(0,Eo.jsxs)("ul",{className:"text-yellow-700 text-sm mt-2",children:[(0,Eo.jsx)("li",{children:"Tu informaci\xf3n de contacto real"}),(0,Eo.jsx)("li",{children:"Tu jurisdicci\xf3n legal"}),(0,Eo.jsx)("li",{children:"Cualquier pr\xe1ctica espec\xedfica de tu aplicaci\xf3n"}),(0,Eo.jsx)("li",{children:"Revisi\xf3n legal si es necesario para tu caso de uso"})]})]})]})})]})})}function Ov(){const e=ne();return(0,r.useEffect)(()=>{(async()=>{try{const t=new URLSearchParams(window.location.hash.substring(1)),n=t.get("access_token"),r=t.get("refresh_token");if(n&&r){const{data:t,error:o}=await Zr.auth.setSession({access_token:n,refresh_token:r});if(o)return console.error("Error setting session:",o),void e("/");window.history.replaceState({},document.title,window.location.pathname),e("/")}else e("/")}catch(t){console.error("Error in auth callback:",t),e("/")}})()},[e]),(0,Eo.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsxs)("div",{className:"text-center",children:[(0,Eo.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Eo.jsx)("p",{className:"text-gray-600",children:"Procesando autenticaci\xf3n..."})]})})}const Pv={custom:e=>(0,Eo.jsx)(Vh,{...e,onClick:()=>e.data.onNodeClick(e.id)})};function Mv(){const{fitView:e}=Gu();return(0,r.useEffect)(()=>{const t=setTimeout(()=>{e({padding:.2,includeHiddenNodes:!1,duration:800})},100);return()=>clearTimeout(t)},[e]),null}const Tv=()=>{console.log("EditTermodinamica component rendering");const[e,t,n]=_h(qh),[o,i,a]=Ch(Yh.map(e=>({...e,markerEnd:{type:Nc.ArrowClosed}}))),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),d=ne(),{user:h,loading:f}=No();console.log("User state:",{user:h,loading:f}),(0,r.useEffect)(()=>{console.log("useEffect triggered:",{user:h,loading:f}),f||h||(console.log("Redirecting to /termodinamica"),d("/termodinamica"))},[h,f,d]);const p=e.map(e=>({...e,data:{...e.data,onNodeClick:e=>l(e)}})),m=(0,r.useCallback)(e=>i(t=>Yc(e,t)),[i]);e.find(e=>e.id===s);return f?(0,Eo.jsx)("div",{className:"w-full h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsxs)("div",{className:"text-center",children:[(0,Eo.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,Eo.jsx)("p",{className:"text-gray-600",children:"Verificando autenticaci\xf3n..."})]})}):h?(0,Eo.jsxs)("div",{className:"w-full h-screen bg-gray-50",children:[(0,Eo.jsx)("div",{className:"bg-white shadow-md border-b border-gray-200 px-4 py-3",children:(0,Eo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Eo.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Eo.jsx)("button",{onClick:()=>d("/termodinamica"),className:"text-gray-600 hover:text-gray-800 transition-colors",children:(0,Eo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Eo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,Eo.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Editando: Termodin\xe1mica"})]}),(0,Eo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Eo.jsx)("button",{onClick:()=>{window.confirm("\xbfEst\xe1s seguro de que quieres cancelar? Los cambios no guardados se perder\xe1n.")&&d("/termodinamica")},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,Eo.jsx)("button",{onClick:()=>{u(!0),setTimeout(()=>{u(!1),alert("Cambios guardados exitosamente")},2e3)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Guardar Cambios"})]})]})}),(0,Eo.jsx)("div",{className:"h-full",children:(0,Eo.jsxs)(kh,{nodes:p,edges:o,onNodesChange:n,onEdgesChange:a,onConnect:m,nodeTypes:Pv,fitView:!1,fitViewOptions:{padding:.2,includeHiddenNodes:!1},defaultViewport:{x:0,y:0,zoom:.6},minZoom:.1,maxZoom:2,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,panOnScroll:!1,zoomOnScroll:!1,panOnDrag:!0,zoomOnPinch:!0,panOnScrollMode:"free",attributionPosition:"bottom-left",preventScrolling:!1,zoomOnDoubleClick:!1,multiSelectionKeyCode:null,deleteKeyCode:"Delete",children:[(0,Eo.jsx)(Mv,{}),(0,Eo.jsx)(Dh,{}),(0,Eo.jsx)(Fh,{variant:"lines",gap:20,size:1,color:"#e5e7eb",style:{backgroundColor:"#f9fafb"}})]})}),c&&(0,Eo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Eo.jsx)("div",{className:"bg-white rounded-lg p-6 max-w-sm mx-4",children:(0,Eo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Eo.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,Eo.jsx)("p",{className:"text-gray-700",children:"Guardando cambios..."})]})})}),(0,Eo.jsxs)("div",{className:"fixed bottom-4 left-4 bg-white rounded-lg shadow-lg p-4 max-w-sm",children:[(0,Eo.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Instrucciones de Edici\xf3n:"}),(0,Eo.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Eo.jsx)("li",{children:"\u2022 Arrastra los nodos para moverlos"}),(0,Eo.jsx)("li",{children:"\u2022 Conecta nodos arrastrando desde uno a otro"}),(0,Eo.jsx)("li",{children:"\u2022 Selecciona y elimina conexiones con Delete"}),(0,Eo.jsx)("li",{children:'\u2022 Haz clic en "Guardar Cambios" cuando termines'})]})]})]}):(0,Eo.jsx)("div",{className:"w-full h-screen bg-gray-50 flex items-center justify-center",children:(0,Eo.jsxs)("div",{className:"text-center",children:[(0,Eo.jsx)("div",{className:"text-red-500 mb-4",children:(0,Eo.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Eo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Eo.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acceso Denegado"}),(0,Eo.jsx)("p",{className:"text-gray-600 mb-4",children:"Necesitas iniciar sesi\xf3n para editar este roadmap."}),(0,Eo.jsx)("button",{onClick:()=>d("/termodinamica"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Volver al Roadmap"})]})})};const Rv=function(){return(0,Eo.jsxs)(et,{children:[(0,Eo.jsx)(Po,{}),(0,Eo.jsxs)(be,{children:[(0,Eo.jsx)(ve,{path:"/",element:(0,Eo.jsxs)(Eo.Fragment,{children:[(0,Eo.jsx)(Mo,{}),(0,Eo.jsx)(zo,{}),(0,Eo.jsx)(To,{}),(0,Eo.jsx)(Ro,{})]})}),(0,Eo.jsx)(ve,{path:"/termodinamica",element:(0,Eo.jsx)(Qh,{})}),(0,Eo.jsx)(ve,{path:"/edit/termodinamica",element:(0,Eo.jsx)(Tv,{})}),(0,Eo.jsx)(ve,{path:"/graph",element:(0,Eo.jsx)(Gh,{})}),(0,Eo.jsx)(ve,{path:"/create",element:(0,Eo.jsx)(Cv,{})}),(0,Eo.jsx)(ve,{path:"/my-roadmaps",element:(0,Eo.jsx)(Nv,{})}),(0,Eo.jsx)(ve,{path:"/privacy",element:(0,Eo.jsx)(jv,{})}),(0,Eo.jsx)(ve,{path:"/privacidad",element:(0,Eo.jsx)(jv,{})}),(0,Eo.jsx)(ve,{path:"/auth/callback",element:(0,Eo.jsx)(Ov,{})})]}),(0,Eo.jsx)(Ao,{})]})};(0,o.H)(document.getElementById("root")).render((0,Eo.jsx)(r.StrictMode,{children:(0,Eo.jsx)(Co,{children:(0,Eo.jsx)(Rv,{})})}))})();
//# sourceMappingURL=main.7888ecf8.js.map